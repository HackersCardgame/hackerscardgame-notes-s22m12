(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{103:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(8),n(9),n(2),n(30),n(20),n(227),n(49),n(4),n(73),n(78),n(11),n(12),n(5),n(7),n(10),n(3),n(6);var r=n(14),o=n(51),i=n(15);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}var c=Symbol("INSTANCE"),s=Symbol("SINGELTONENFORCER"),l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==s)throw new Error("Instantiation failed: Use TeaserRenderer.instance instead of new.");this.init()}var e,n,a;return e=t,a=[{key:"instance",get:function(){return this[c]||(this[c]=new t(s)),this[c]}}],(n=[{key:"init",value:function(){var t=this;this.prototypes={},document.querySelectorAll("template[data-teaser-prototype]").forEach((function(e){var n=e.dataset,r=n.variant,o=n.type,i=n.domain;r&&o&&i&&(t.prototypes["".concat(r,"-").concat(o,"-").concat(i)]=e)}))}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.s,n=r.a.instance.domain,a=t.domain||"",u=t.type||"",c=Array.isArray(t.flags)?t.flags:[],s=Array.isArray(t.iconAuxiliaries)?t.iconAuxiliaries:[],l=this.prototypes["".concat(e,"-").concat(u,"-").concat(a)]||this.prototypes["".concat(e,"-news-").concat(a)]||this.prototypes["".concat(e,"-").concat(u,"-").concat(n)]||this.prototypes["".concat(e,"-news-").concat(n)],f=l&&l.content&&l.content.firstElementChild?l.content.firstElementChild.cloneNode(!0):null;if(!f)return console.warn('TeaserFactory.render failed: No prototype found for teaser variant "'.concat(e,'"')),null;var y=Array.from(f.querySelectorAll("[data-topmark-flag-name]")),p=!1;Array.isArray(y)&&y.forEach((function(t){Array.isArray(c)&&c.includes(t.dataset.topmarkFlagName)?p=!0:t.parentElement.remove()}));var d=f.querySelector('[data-topmark-el="text"]');t.headline&&t.topmark&&(p||!d)&&(t.headline="".concat(t.topmark,": ").concat(t.headline),delete t.topmark),!t.topmark&&d&&d.remove();var h=f.querySelector('[data-topmark-el="container"]');h&&(0===c.length&&!t.topmark||0===h.children.length)&&h.remove();var b=Array.from(f.querySelectorAll("[data-flag-name]"));Array.isArray(b)&&Array.isArray(c)&&b.forEach((function(t){c.includes(t.dataset.flagName)||t.remove()}));var v=f.querySelector("[data-contains-flags]");v&&(0!==c.length&&0!==v.children.length||v.remove());var m=Array.from(f.querySelectorAll("[data-media-button-name]"));Array.isArray(m)&&m.forEach((function(e){t.style&&t.style===e.dataset.mediaButtonName||e.remove()}));var g=Array.from(f.querySelectorAll("[data-icon-auxiliary]"));Array.isArray(g)&&Array.isArray(s)&&g.forEach((function(t){var e=t.dataset.iconAuxiliary||"";s.includes(e)||t.remove()}));var w=Array.from(f.querySelectorAll("[data-image]"));Array.isArray(w)&&!t.imageId&&w.forEach((function(e){t.imageSrc?e.querySelector("img").dataset.src=t.imageSrc:e.remove()}));var S=Array.from(f.querySelectorAll("[data-headline-image]"));Array.isArray(S)&&!t.headlineImageId&&S.forEach((function(t){t.remove()}));var O=o.a.populateElement(f,t),k=O.querySelectorAll("[data-auxiliary]");k.forEach((function(t){0===t.textContent.length&&(t.nextElementSibling.hasAttribute("data-auxiliary-bull")&&t.nextElementSibling.remove(),t.remove())})),k=O.querySelectorAll("[data-auxiliary]");var P=O.querySelector("[data-icon-auxiliary][data-auxiliary-bull]");return P&&0===k.length&&P.remove(),O}}])&&u(e.prototype,n),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},104:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(8),n(9),n(2),n(43),n(3),n(4),n(6),n(58),n(52),n(48),n(5),n(89),n(44),n(11),n(12),n(7),n(10),n(73),n(78),n(20),n(228),n(30);var r=n(14),o=n(21);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"convertArticleToTeaser",value:function(e){var n={};if(n.id=e.id?e.id:"",n.collection="article",n.domain=e.domain?e.domain:r.a.instance.domain,n.channel=e.channel&&e.channel.title?e.channel.title:"",n.headline=e.title?e.title:"",n.topmark=e.heading?e.heading:"",n.text=e.intro?e.intro:"",n.type=e.type?e.type:"news",n.style=e.teaser&&e.teaser.type?e.teaser.type:e.style||"default",n.url=e.url?e.url:"",n.imageId=e.header_image?e.header_image:"",!n.url||!n.url.length)return null;n.flags=[];var i=t.getArticlePaidFlag(e);i&&n.flags.push(i);var a=r.a.instance.domain,u=e.domain?e.domain:"",c=t.getArticleSubdomain(e);c&&(u=c);var s=e.access_level?e.access_level:"free";"conditional"===s&&(s=o.a.instance.hasConditionalAccess?"free":"paid"),"paid"!==s&&a!==u&&n.flags.push(u),e.is_live&&n.flags.push("live"),e.forward_to_canonical_url&&e.canonical_url&&e.canonical_url&&e.canonical_url.includes("manager-magazin.de")&&n.flags.push("mmo"),e.is_breaking&&n.flags.push("breaking"),n.style&&["gallery","video","audio"].includes(n.style)&&n.flags.push(n.style),n.iconAuxiliaries=[],"audio"===n.style?n.iconAuxiliaries.push("Audio"):"video"===n.style?n.iconAuxiliaries.push("Video"):"gallery"===n.style?n.iconAuxiliaries.push("Gallery"):n.iconAuxiliaries.push("Text");var l=e.teaser&&Number.isInteger(e.teaser.length)?e.teaser.length:0;if(l)if("gallery"===n.style)n.length="".concat(l," ").concat(1===l?"Bild":"Bilder"),n.auxiliaryLength=n.length;else{var f=Math.round(l/60),y=l%60;n.length="".concat("".concat(f).padStart(2,"0"),":").concat("".concat(y).padStart(2,"0")),n.auxiliaryLength="".concat(f<1?1:f," Min")}var p=e.publish_date?new Date(1e3*e.publish_date).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";n.timestamp=p?"".concat(p," Uhr"):"";var d=e.author_details_prefix?"".concat(e.author_details_prefix," "):"Von ",h=e.author_details_suffix?e.author_details_suffix:"";if(n.meta="",Array.isArray(e.authors)&&e.authors.length>0){var b="";e.authors.length>0&&(b=d,e.authors.forEach((function(t,r){if(t&&t.name){var o=0===r,i=r===e.authors.length-1;o&&t.image&&!n.headlineImageId&&(n.headlineImageId=t.image),i&&e.authors.length>1?b+=" und ":0!==r&&(b+=", "),b+=t.name}})));var v=r.a.instance.text&&r.a.instance.text.authorDetailsSuffix&&r.a.instance.text.authorDetailsSuffix.removeWhitespaceBeforeCharacters?r.a.instance.text.authorDetailsSuffix.removeWhitespaceBeforeCharacters:[];h&&Array.isArray(v)&&(v.includes(h.charAt(0))||(h=" ".concat(h))),n.meta=b+h}return n}},{key:"getArticlePaidFlag",value:function(e){var n="",i=e.access_level?e.access_level:"free";"conditional"===i&&(i=o.a.instance.hasConditionalAccess?"free":"paid");var a="";if("paid"===i&&""===(a=e.paid_flag?e.paid_flag:"")){var u=e.domain?e.domain:"",c=t.getArticleSubdomain(e);""===u&&(u=r.a.instance.domain),""===c&&(c=u),"spon"===e.domain?a="Spplus":c&&"hbm"===c?a="Hbmplus":"mmo"===e.domain&&(a="Mmplus")}return a&&(n="".concat(a,"-").concat(i)),n}},{key:"getArticleSubdomain",value:function(t){var e="",n=t.channel&&t.channel.slug?t.channel.slug:"";return"harvard"===n&&(e="hbm"),"deinspiegel"===n&&(e="dein"),e}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}var l=Symbol("INSTANCE"),f=Symbol("SINGELTONENFORCER"),y=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==f)throw new Error("Instantiation failed: Use SiteSearchAPI.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[l]||(this[l]=new t(f)),this[l]}}],(n=[{key:"init",value:function(){var t=r.a.instance;t.thirdparty&&t.thirdparty.sitesearch&&t.thirdparty.sitesearch.apiUrl?this.apiUrl=t.thirdparty.sitesearch.apiUrl:console.error("SiteSearchAPI requires apiUrl for correct instantiation.")}},{key:"getTeasersBySearchOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=t.segments,r=t.author,o=t.fields,i=t.after,a=t.before,c=t.pageSize,s=t.page;if(!n||!Array.isArray(n))return Promise.reject(new Error("SiteSearchAPI getTeasersBySearchOptions - missing required param `segments`"));if(!(e&&"string"==typeof e||r&&"string"==typeof r))return Promise.reject(new Error("SiteSearchAPI getTeasersBySearchOptions - missing required param `query` or `author`, please provide either or both"));var l=new URL("".concat(this.apiUrl,"/search"));return l.searchParams.set("segments",n.join(",")),e&&"string"==typeof e&&l.searchParams.set("q",e),r&&"string"==typeof r&&l.searchParams.set("author",r),o&&"string"==typeof o&&l.searchParams.set("fields",o),Number.isInteger(i)&&l.searchParams.set("after",i),Number.isInteger(a)&&l.searchParams.set("before",a),c&&Number.isInteger(c)&&c>=10&&l.searchParams.set("page_size",c),Number.isInteger(s)&&l.searchParams.set("page",s),this.fetchUrl(l).then((function(t){return t.success&&(t.teasers=Array.isArray(t.results)?t.results.map((function(t){return u.convertArticleToTeaser(t)})):[],delete t.results),Promise.resolve(t)}))}},{key:"getTeasersByIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||!Array.isArray(t)||0===t.length||t.filter((function(t){return"string"!=typeof t})).length)return Promise.reject(new Error("SiteSearchAPI getTeasersByIds - missing or malformed required param `id`"));var e=new URL("".concat(this.apiUrl,"/fetch"));return e.searchParams.set("ids",t.join(",")),this.fetchUrl(e).then((function(t){if(!t.success||!t.results||!Array.isArray(t.results))return Promise.resolve({success:!1,code:t.code||""});var e=t.results.map((function(t){return u.convertArticleToTeaser(t)})),n=t.numResults||e.length;return Promise.resolve({success:!0,numResults:n,teasers:e})}))}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return t.json()})).then((function(t){if(t.code)return Promise.resolve({success:!1,code:t.code});var e=t.results&&Array.isArray(t.results)?t.results:[],n=Number.isInteger(t.num_results)?t.num_results:e.length;return Promise.resolve({success:!0,numResults:n,results:e})})).catch((function(){return console.warn('SiteSearchAPI fetchUrl â€“ failed to fetch url "'.concat(t,'"')),Promise.resolve({success:!1,code:""})}))}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},153:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(8),n(9),n(2),n(43),n(20),n(44),n(64),n(295),n(30),n(11),n(12),n(5),n(7),n(10),n(3),n(4),n(6);var r=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var a=Symbol("INSTANCE"),u=Symbol("SINGELTONENFORCER"),c=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==u)throw new Error("Instantiation failed: Use JWPlayerDeliveryAPI.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[a]||(this[a]=new t(u)),this[a]}}],(n=[{key:"init",value:function(){var t=r.a.instance;this.defaultApiUrl=t.thirdparty&&t.thirdparty.jwplayer&&t.thirdparty.jwplayer.apiUrl?t.thirdparty.jwplayer.apiUrl:"https://cdn.jwplayer.com"}},{key:"getMediaObjectByMediaId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t||"string"!=typeof t)return Promise.reject(new Error("JWPlayerDeliveryAPI getMediaObjectByMediaId - missing valid mediaId function param"));var r="".concat(n||this.defaultApiUrl,"/v2/media/").concat(t);return new Promise((function(n,o){e.fetchUrl(r).then((function(e){e?n(e):o(new Error("JWPlayerDeliveryAPI getMediaObjectByMediaId - no clip found for clipId: ".concat(t)))})).catch((function(t){return o(t)}))}))}},{key:"getImageThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._getThumbnailByMediaObject(t,e,"image")}},{key:"getVideoThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._getThumbnailByMediaObject(t,e,"video")}},{key:"getVideoThumbnailByMediaId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?e&&e<=320?"".concat(this.defaultApiUrl,"/v2/media/").concat(t,"/poster.mp4?width=320"):"".concat(this.defaultApiUrl,"/v2/media/").concat(t,"/poster.mp4?width=640"):""}},{key:"_getThumbnailByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image";if(!t)return"";var r=null;if(t.playlist&&Array.isArray(t.playlist)&&t.playlist.length>0){var o=t.playlist[0];if(o.images&&Array.isArray(o.images)&&o.images.length>0){var i="image"===n||"video"===n?n:"image",a=o.images.filter((function(t){return 0===t.type.indexOf(i)}));a.sort((function(t,e){return t.width-e.width})),a.forEach((function(t){(!r||t.width>r.width&&0===e||t.width>r.width&&r.width<e)&&(r=t)}))}}return r&&r.src?r.src:""}},{key:"getVideoByMediaObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return"";var n=null;if(t.playlist&&Array.isArray(t.playlist)&&t.playlist.length>0){var r=t.playlist[0];if(r.sources&&Array.isArray(r.sources)&&r.sources.length>0){var o=r.sources.filter((function(t){return 0===t.type.indexOf("video")}));o.sort((function(t,e){return t.width-e.width})),o.forEach((function(t){(!n||t.width>n.width&&0===e||t.width>n.width&&n.width<e)&&(n=t)}))}}return n&&n.file?n.file:""}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return 200!==t.status?Promise.reject(new Error("JWPlayerDeliveryAPI fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()}))}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},178:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(8),n(9),n(2),n(48),n(5),n(11),n(12),n(7),n(10),n(3),n(4),n(6);var r=n(0),o=n(14),i=n(63),a=n(1);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}var s=Symbol("INSTANCE"),l=Symbol("SINGELTONENFORCER"),f=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==l)throw new Error("Instantiation failed: Use VideoDataControl.instance instead of new.");this._isInitialized=!1,this.hasError=!1,this.isTcDataInitialized=!1,this.currentVideoContentDuration=null,this._sxpkeys="fwd_j4=1&fwd_j5=2:3&fwd_i1=4:5";var n=o.a.instance,u=n.video&&n.video.vdc?n.video.vdc:void 0;u&&u.enabled&&(this.config={autoDetection:!0,consent:!0,site:u?u.site:"",playerName:"JW Player",playerWrapper:u&&Number.isInteger(u.playerWrapper)?u.playerWrapper:10,playerSDKTimeout:u&&Number.isInteger(u.playerSDKTimeout)?u.playerSDKTimeout:8,playerTimeout:u&&Number.isInteger(u.playerTimeout)?u.playerTimeout:10},i.a.instance.ready?this.onTCDataChanged():a.a.subscribe(r.Ob,this.onTCDataChanged,this))}var e,n,f;return e=t,f=[{key:"instance",get:function(){return this[s]||(this[s]=new t(l)),this[s]}}],(n=[{key:"onTCDataChanged",value:function(){var t=i.a.instance;t.ready&&!this.isTcDataInitialized&&(this.isTcDataInitialized=!0,this.config.gdpr_consent=t.tcData&&t.tcData.tcString?t.tcData.tcString:"","object"===u(window.$AC)&&"function"==typeof window.$AC.loadConfig?this.init():(a.a.subscribe(r.kc,this.onVideoDataControlSourceReady,this),a.a.subscribe(r.jc,this.onVideoDataControlSourceError,this)))}},{key:"onVideoDataControlSourceReady",value:function(){a.a.unsubscribe(r.kc,this.onVideoDataControlSourceReady),a.a.unsubscribe(r.jc,this.onVideoDataControlSourceError),this.init()}},{key:"onVideoDataControlSourceError",value:function(){a.a.unsubscribe(r.kc,this.onVideoDataControlSourceReady),a.a.unsubscribe(r.jc,this.onVideoDataControlSourceError),this.hasError=!0,a.a.publish(r.hc)}},{key:"init",value:function(){"object"===u(window.$AC)&&"function"==typeof window.$AC.loadConfig&&(window.$AC.loadConfig(this.config),"function"==typeof window.$AC.playerInitReady&&window.$AC.playerInitReady()?this.onInitialized():(this.onACPlayerStartListener=this.onACPlayerStart.bind(this),window.addEventListener(r.b,this.onACPlayerStartListener)))}},{key:"onACPlayerStart",value:function(){this.onACPlayerStartListener&&window.removeEventListener(r.b,this.onACPlayerStartListener),this.onInitialized()}},{key:"onInitialized",value:function(){this._isInitialized=!0,this._sxpkeys=this.getSXPKeys(),a.a.publish(r.ic)}},{key:"getSXPKeys",value:function(){return this.isInitialized&&"object"===u(window.$AC)&&"function"==typeof window.$AC.getSXPKeys?window.$AC.getSXPKeys():this._sxpkeys}},{key:"setVideoContentDuration",value:function(t){Number.isInteger(t)&&this.currentVideoContentDuration!==t&&"object"===u(window.$AC)&&"function"==typeof window.$AC.setTargeting&&(this.currentVideoContentDuration=t,window.$AC.setTargeting("vcd",t),this._sxpkeys=this.getSXPKeys())}},{key:"sxpkeys",get:function(){return this._sxpkeys}},{key:"isInitialized",get:function(){return this._isInitialized}}])&&c(e.prototype,n),f&&c(e,f),Object.defineProperty(e,"prototype",{writable:!1}),t}()},257:function(t,e,n){t.exports=n(304)},304:function(t,e,n){"use strict";n.r(e);n(2),n(30),n(53),n(3),n(43),n(4),n(6);var r=n(14),o=r.a.instance;n.p="".concat(o.urls.assetsBasePath,"/public/");var i=n(33),a=(n(20),n(17),n(18),n(19),n(7),n(28),n(26),n(11),n(12),n(8),n(9),n(5),n(10),n(16)),u=n.n(a),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function y(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){var e=d(t,"string");return"symbol"===s(e)?e:String(e)}function d(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h(){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=b(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=O();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){v(n,t);var e=g(n);function n(){var t;l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o)))._queuedScans=0,t._isScanning=!1,t}return y(n,[{key:"scan",value:function(){this._isScanning?this._queuedScans+=1:(this._isScanning=!0,h(k(n.prototype),"scan",this).call(this),this._isScanning=!1,this._queuedScans>0?(this._queuedScans-=1,this.scan()):this.publish(c.L))}}]),n}(u.a),E=n(1),j=n(21),_=(n(64),n(221),n(15));function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function I(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t){var e=R(t,"string");return"symbol"===T(e)?e:String(e)}function R(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var N=Symbol("INSTANCE"),x=Symbol("SINGELTONENFORCER"),B=function(){function t(e){if(C(this,t),e!==x)throw new Error("Instantiation failed: Use Depot.instance instead of new.");this.init()}return I(t,[{key:"init",value:function(){var t=r.a.instance;t.thirdparty&&t.thirdparty.depot&&t.thirdparty.depot.apiUrl?this.apiUrl=t.thirdparty.depot.apiUrl:console.error("Depot requires apiUrl for correct instantiation.")}},{key:"getBookmarks",value:function(){var t=this,e="".concat(this.apiUrl,"/bookmarks");return new Promise((function(n,r){t.fetchUrl(e,"GET").then((function(t){Array.isArray(t)?n(t):n([])})).catch((function(t){return r(t)}))}))}},{key:"deleteBookmarks",value:function(){var t=this,e="".concat(this.apiUrl,"/bookmarks");return new Promise((function(n,r){t.fetchUrl(e,"DELETE").then((function(){n()})).catch((function(t){return r(t)}))}))}},{key:"addBookmark",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("Depot addBookmark - missing valid documentId function param"));var n="".concat(this.apiUrl,"/bookmarks/").concat(t);return new Promise((function(t,r){e.fetchUrl(n,"PUT").then((function(){t()})).catch((function(t){return r(t)}))}))}},{key:"deleteBookmark",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("Depot deleteBookmark - missing valid documentId function param"));var n="".concat(this.apiUrl,"/bookmarks/").concat(t);return new Promise((function(t,r){e.fetchUrl(n,"DELETE").then((function(){t()})).catch((function(t){return r(t)}))}))}},{key:"fetchUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n={method:e,headers:{"Content-Type":"text/plain"}};return fetch(t,n).then((function(t){return 200!==t.status?t.text().then((function(t){throw new Error(t)})).catch((function(e){return Promise.reject(new Error("Depot fetchUrl - failed to get data from API, URL: ".concat(t.url,", error: ").concat(e.message)))})):"GET"===e?t.json():Promise.resolve()}))}}],[{key:"instance",get:function(){return this[N]||(this[N]=new t(x)),this[N]}}]),t}(),D=n(47),M=n(83);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function z(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F(t){var e=G(t,"string");return"symbol"===U(e)?e:String(e)}function G(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var H=Symbol("INSTANCE"),J=Symbol("SINGELTONENFORCER"),W=function(){function t(e){if(V(this,t),e!==J)throw new Error("Instantiation failed: Use Bookmarks.instance instead of new.");this.depot=B.instance,this.localStorage=new M.a("bookmarks","local"),this._documentIds=[],this._updatedAt=null,this._syncedAt=null,this._isInitialized=!1,this.init()}return z(t,[{key:"init",value:function(){var t=this,e=j.a.instance;if(e.isLoggedIn){var n=D.a.instance;e.isLoggedIn&&e.isNewLoggedIn&&this.reset();var r=e.isNewLoggedIn||"homepage"===n.route||"fuermich"===n.route||"bookmarks"===n.route;if(!e.isNewLoggedIn)this.loadDocumentIdsFromLocalStorage()&&!r&&(this.isInitialized=!0);(r=r||!this.isInitialized||!this.syncedAt)&&this.loadDocumentIdsFromServer().then((function(){t.isInitialized=!0})).catch((function(){t.documentIds.length>0?t.isInitialized=!0:E.a.publish(c.y,{type:_.d})}))}}},{key:"loadDocumentIdsFromLocalStorage",value:function(){return!!Array.isArray(this.localStorage.getItem("documentIds"))&&(this.documentIds=this.localStorage.getItem("documentIds"),this._updatedAt=this.localStorage.getItem("updatedAt")||null,this._syncedAt=this.localStorage.getItem("syncedAt")||null,!0)}},{key:"reloadLocaLStorage",value:function(){this.localStorage.reload(),this.loadDocumentIdsFromLocalStorage()}},{key:"loadDocumentIdsFromServer",value:function(){var t=this;return new Promise((function(e,n){t.depot.getBookmarks().then((function(r){Array.isArray(r)?(t.documentIds=r,t._syncedAt=Date.now(),t.save(),e()):n(new Error("Bookmarks loadDocumentIdsFromServer - received invalid documentIds data from Depot"))})).catch((function(t){console.error(t.message),n(t)}))}))}},{key:"reset",value:function(){this.documentIds=[],this._updatedAt=null,this._syncedAt=null,this.save()}},{key:"save",value:function(){var t=this.localStorage.setItem("documentIds",this._documentIds);return this._updatedAt=Date.now(),t=(t=t&&this.localStorage.setItem("updatedAt",this._updatedAt))&&this.localStorage.setItem("syncedAt",this._syncedAt)}},{key:"add",value:function(t,e){var n=this;return t&&"string"==typeof t&&e&&"string"==typeof e&&Array.isArray(this._documentIds)?this._documentIds.indexOf(t)>-1?Promise.resolve():new Promise((function(e,r){n.depot.addBookmark(t).then((function(){if(n._documentIds.push(t),!n.save())throw new Error("Bookmarks add - error while updating data");return e()})).catch((function(t){return r(t)}))})):Promise.reject(new Error("Bookmarks add - missing valid documentId and/or collection function param or bookmarks are not yet initialized"))}},{key:"delete",value:function(t,e){var n=this;if(!t||"string"!=typeof t||!e||"string"!=typeof e||!Array.isArray(this._documentIds))return Promise.reject(new Error("Bookmarks delete - missing valid documentId and/or collection function param or bookmarks are not yet initialized"));var r=this._documentIds.indexOf(t);return-1===r?Promise.resolve():new Promise((function(e,o){n.depot.deleteBookmark(t).then((function(){if(n._documentIds.splice(r,1),!n.save())throw new Error("Bookmarks delete - error while updating data");return e()})).catch((function(t){return o(t)}))}))}},{key:"deleteAll",value:function(t){var e=this;return t&&"string"==typeof t?new Promise((function(t,n){e.depot.deleteBookmarks().then((function(){if(e._documentIds=[],!e.save())throw new Error("Bookmarks deleteAll - error while updating data");return t()})).catch((function(t){return n(t)}))})):Promise.reject(new Error("Bookmarks deleteAll - missing valid collection function param"))}},{key:"contains",value:function(t,e){return!!(t&&"string"==typeof t&&e&&"string"==typeof e&&Array.isArray(this._documentIds))&&-1!==this._documentIds.indexOf(t)}},{key:"documentIds",get:function(){return Array.isArray(this._documentIds)?this._documentIds:[]},set:function(t){var e=this;if(Array.isArray(t)){var n=!this.isInitialized||!Array.isArray(this._documentIds)||this._documentIds.length!==t.length;n||t.forEach((function(t,r){e._documentIds.indexOf(t)!==r&&(n=!0)})),n&&(this._documentIds=t,Promise.resolve().then((function(){return E.a.publish(c.D)})))}}},{key:"isInitialized",get:function(){return this._isInitialized},set:function(t){this._isInitialized!==!!t&&(this._isInitialized=!!t,this._isInitialized&&E.a.publish(c.z))}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"syncedAt",get:function(){return this._syncedAt}}],[{key:"instance",get:function(){return this[H]||(this[H]=new t(J)),this[H]}}]),t}(),K=n(13),Y=n(37);n(275);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tt(r.key),r)}}function Z(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tt(t){var e=et(t,"string");return"symbol"===X(e)?e:String(e)}function et(t,e){if("object"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var nt=function(){function t(){$(this,t)}return Z(t,[{key:"id",get:function(){return null}},{key:"toObject",value:function(){var t=this,e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(this)).forEach((function(n){"function"!=typeof t[n]&&(e[n]=t[n])})),e}}]),t}();function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ut(r.key),r)}}function at(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ut(t){var e=ct(t,"string");return"symbol"===rt(e)?e:String(e)}function ct(t,e){if("object"!==rt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function st(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}function lt(t,e){return(lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=dt();return function(){var n,r=ht(t);if(e){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(t){st(n,t);var e=ft(n);function n(t,r,o){var i;return ot(this,n),(i=e.call(this))._documentId=t,i._collection=r,i._isBookmarked=!!o,i}return at(n,[{key:"id",get:function(){return Y.b}},{key:"documentId",get:function(){return this._documentId}},{key:"isBookmarked",get:function(){return this._isBookmarked}}]),n}(nt),vt=(n(48),n(51)),mt=(n(44),n(22));function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kt(r.key),r)}}function Ot(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kt(t){var e=Pt(t,"string");return"symbol"===gt(e)?e:String(e)}function Pt(t,e){if("object"!==gt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Et=Symbol("INSTANCE"),jt=Symbol("SINGELTONENFORCER"),_t=function(){function t(e){if(wt(this,t),e!==jt)throw new Error("Instantiation failed: Use OverlayHandler.instance instead of new.");this.init()}return Ot(t,[{key:"init",value:function(){var t=this;this.overlays=[],E.a.subscribe(c.mb,(function(e){return t.onOverlayOpened(e)}),this),E.a.subscribe(c.kb,(function(e){return t.onOverlayClosed(e)}),this),E.a.subscribe(c.fb,(function(){return t.onPageResume()}),this),this.updateState()}},{key:"onOverlayOpened",value:function(t){this.overlays.push(t),this.updateState()}},{key:"onOverlayClosed",value:function(t){this.overlays=this.overlays.filter((function(e){return e!==t})),this.updateState()}},{key:"updateState",value:function(){if(document.documentElement.classList.toggle("overlay-open",this.isScrollingPrevented),K.a.isApp){var t=this.overlays.length>0?c.Ub:c.Sb;mt.a.instance.sendState(t)}E.a.publish(c.lb,this.currentOverlay)}},{key:"onPageResume",value:function(){this.updateState()}},{key:"currentOverlay",get:function(){return this.overlays[this.overlays.length-1]||null}},{key:"isScrollingPrevented",get:function(){return this.overlays.filter((function(t){return t.preventScrolling})).length>0}}],[{key:"instance",get:function(){return this[Et]||(this[Et]=new t(jt)),this[Et]}}]),t}();function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lt(r.key),r)}}function It(t,e,n){return e&&At(t.prototype,e),n&&At(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lt(t){var e=Rt(t,"string");return"symbol"===Tt(e)?e:String(e)}function Rt(t,e){if("object"!==Tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Nt=function(){function t(e,n,r){var o=this;Ct(this,t),this.headline=e,this.description=n,this.callback="function"==typeof r?r:null,this.boundOnDescriptionTriggerClick=function(t){return o.onDescriptionTriggerClick(t)},this.boundOnCloseIconClick=function(){return o.onCloseIconClick()},this.init()}return It(t,[{key:"init",value:function(){if(this.el=vt.a.createElementByPrototypeId(this.prototypeId),this.el){this.closeIcon=this.el.querySelector('[data-notification-el="closeIcon"]'),this.closeIcon.addEventListener("click",this.boundOnCloseIconClick),this.el.querySelector('[data-notification-el="headline"]').innerHTML=this.headline;var t=this.el.querySelector('[data-notification-el="description"]');this.description?(t.innerHTML=this.description,this.descriptionTrigger=t.querySelector('[data-notification-el="trigger"]'),this.descriptionTrigger&&this.descriptionTrigger.addEventListener("click",this.boundOnDescriptionTriggerClick)):(t.parentNode.removeChild(t),this.closeIcon.parentNode.classList.add("self-center"))}}},{key:"show",value:function(){var t=this;K.a.isApp||null!==_t.instance.currentOverlay?this.container=document.querySelector('[data-notification-el="container"][data-notification-position~="overlay"]'):this.container=document.querySelector('[data-notification-el="container"][data-notification-position~="default"]'),this.container||(this.container=document.body),this.container.appendChild(this.el),this.el.style.opacity=0,E.a.toggleElementVisibility(this.el,!0),setTimeout((function(){t.el.style.opacity=1}),0)}},{key:"hide",value:function(){E.a.toggleElementVisibility(this.el,!1),this.destroy()}},{key:"onDescriptionTriggerClick",value:function(t){t.preventDefault(),this.descriptionTrigger.blur(),"function"==typeof this.callback&&this.callback(),E.a.publish(c.db)}},{key:"onCloseIconClick",value:function(){E.a.publish(c.db)}},{key:"destroy",value:function(){this.closeIcon.removeEventListener("click",this.boundOnCloseIconClick),this.descriptionTrigger&&this.descriptionTrigger.removeEventListener("click",this.boundOnDescriptionTriggerClick),this.callback=null,this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},{key:"prototypeId",get:function(){return""}}]),t}();function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function Mt(t,e,n){return e&&Dt(t.prototype,e),n&&Dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ut(t){var e=Vt(t,"string");return"symbol"===xt(e)?e:String(e)}function Vt(t,e){if("object"!==xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}function zt(t,e){return(zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){var e=Jt();return function(){var n,r=Wt(t);if(e){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ht(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kt=function(t){qt(n,t);var e=Ft(n);function n(){return Bt(this,n),e.apply(this,arguments)}return Mt(n,[{key:"prototypeId",get:function(){return"prototype-notification-failure"}}]),n}(Nt);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function Qt(t,e,n){return e&&$t(t.prototype,e),n&&$t(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zt(t){var e=te(t,"string");return"symbol"===Yt(e)?e:String(e)}function te(t,e){if("object"!==Yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ee(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}function ne(t,e){return(ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function re(t){var e=ae();return function(){var n,r=ue(t);if(e){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ie(t)}function ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ce=function(t){ee(n,t);var e=re(n);function n(){return Xt(this,n),e.apply(this,arguments)}return Qt(n,[{key:"prototypeId",get:function(){return"prototype-notification-success"}}]),n}(Nt);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pe(r.key),r)}}function ye(t,e,n){return e&&fe(t.prototype,e),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pe(t){var e=de(t,"string");return"symbol"===se(e)?e:String(e)}function de(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var he=Symbol("INSTANCE"),be=Symbol("SINGELTONENFORCER"),ve=function(){function t(e){var n=this;if(le(this,t),e!==be)throw new Error("Instantiation failed: Use NotificationService.instance instead of new.");this.queue=null,this.currentNotification=null,this.notificationTimeoutId=null,this.viewLookup={},this.viewLookup[_.k]=ce,this.viewLookup[_.j]=Kt,this.boundOnHideNotificationTriggered=function(){return n.hideCurrentNotification()},this.init()}return ye(t,[{key:"init",value:function(){E.a.subscribe(c.db,this.boundOnHideNotificationTriggered)}},{key:"addNotification",value:function(t){if(t&&this.viewLookup[t.type]&&t.headline){var e=new this.viewLookup[t.type](t.headline,t.description,t.callback);this.queue={view:e,duration:Number.isInteger(t.duration)?t.duration:4},this.showNextNotification()}}},{key:"showNextNotification",value:function(){var t=this;void 0!==this.notificationTimeoutId&&clearTimeout(this.notificationTimeoutId),this.currentNotification?this.hideCurrentNotification():this.queue&&(this.queue.view&&(this.currentNotification=this.queue.view,this.queue.duration&&(this.notificationTimeoutId=setTimeout((function(){t.hideCurrentNotification()}),1e3*this.queue.duration)),this.currentNotification.show()),this.queue=null)}},{key:"hideCurrentNotification",value:function(){var t=this;void 0!==this.notificationTimeoutId&&clearTimeout(this.notificationTimeoutId),this.currentNotification&&(this.currentNotification.hide(),this.currentNotification=null),setTimeout((function(){t.showNextNotification()}),200)}}],[{key:"instance",get:function(){return this[he]||(this[he]=new t(be)),this[he]}}]),t}();function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oe(r.key),r)}}function Se(t,e,n){return e&&we(t.prototype,e),n&&we(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oe(t){var e=ke(t,"string");return"symbol"===me(e)?e:String(e)}function ke(t,e){if("object"!==me(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Pe=function(){function t(){var e=this;ge(this,t),this.documentId=null,this.collection=null,this.bookmarks=W.instance,this.boundNotificationCallback=function(){return e.notificationCallback()}}return Se(t,[{key:"execute",value:function(t,e){if(!j.a.instance.isLoggedIn)return E.a.publish(c.C),void this.destroy();this.documentId=t,this.collection=e,this.addBookmark()}},{key:"addBookmark",value:function(){var t=this;this.bookmarks.add(this.documentId,this.collection).then((function(){E.a.publish(c.t,t.documentId,t.collection);var e=r.a.instance.urls,n=e&&e.user&&e.user.bookmarks?e.user.bookmarks:"";if(ve.instance.addNotification({type:_.k,headline:"Zur Merkliste hinzugefÃ¼gt",description:'Ihr Artikel wurde gespeichert. <a href="'.concat(n,'">Zur Merkliste</a>')}),K.a.isApp){var o=r.a.instance;o.app&&o.app.pageContext&&o.app.pageContext.documentId===t.documentId&&o.app.pageContext.collection===t.collection&&E.a.publish(c.cb,new bt(t.documentId,t.collection,!0))}t.destroy()})).catch((function(){E.a.publish(c.y,{type:_.a,documentId:t.documentId,collection:t.collection}),ve.instance.addNotification({type:_.j,headline:"Fehler",description:'Beim Speichern des Artikels ist ein Fehler aufgetreten. <a href="#" data-notification-el="trigger">Erneut versuchen</a>',callback:t.boundNotificationCallback})}))}},{key:"notificationCallback",value:function(){var t=this;setTimeout((function(){t.addBookmark()}),1e3)}},{key:"destroy",value:function(){this.documentId=null,this.collection=null,this.bookmarks=null,this.boundNotificationCallback=null}}]),t}();function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ce(r.key),r)}}function Te(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ce(t){var e=Ae(t,"string");return"symbol"===Ee(e)?e:String(e)}function Ae(t,e){if("object"!==Ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ie=function(){function t(){je(this,t)}return Te(t,[{key:"execute",value:function(t){Array.isArray(t)?!K.a.isApp||K.a.appVersion<mt.a.instance.minAudioPlaylistVersion||"function"!=typeof mt.a.instance.triggerAddToAudioPlaylist||0===t.length||(j.a.instance.isLoggedIn?mt.a.instance.triggerAddToAudioPlaylist(t):E.a.publish(c.sb)):console.warn("AddToPlaylistController - missing or malformed parameter `clips`",t)}}]),t}();function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Be(r.key),r)}}function xe(t,e,n){return e&&Ne(t.prototype,e),n&&Ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Be(t){var e=De(t,"string");return"symbol"===Le(e)?e:String(e)}function De(t,e){if("object"!==Le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Me=function(){function t(){Re(this,t)}return xe(t,[{key:"execute",value:function(){K.a.isApp&&this.initBookmark()}},{key:"initBookmark",value:function(){var t=r.a.instance;if("article"===D.a.instance.route&&t.app&&t.app.pageContext&&t.app.pageContext.documentId&&t.app.pageContext.collection){var e=W.instance;E.a.publish(c.cb,new bt(t.app.pageContext.documentId,t.app.pageContext.collection,e.contains(t.app.pageContext.documentId,t.app.pageContext.collection)))}}}]),t}(),Ue=(n(223),n(23)),Ve=["emptied","loadstart","pause","play","playing","progress","ratechange","timeupdate","volumechange","waiting"],qe="MODE_DEFAULT",ze="MODE_AUTOPLAY",Fe="MODE_RESUME",Ge=new M.a("audio","local"),He=null,Je=!1,We={mode:qe,_clip:null,_currentTime:0,_playbackRate:1,_volume:1,buffered:[],duration:0,isPlaying:!1,isLoading:!1,isPaused:!0,isEnded:!1,isRestored:!1,init:function(){var t=this;this.boundOnStateChanged=function(){return t.onStateChanged()},this.boundOnCanPlay=function(e){return t.onCanPlay(e)},this.boundOnLoadedMetadata=function(e){return t.onLoadedMetadata(e)},this.restoreFromLocalStorage()},onStateChanged:function(){this.updateStore(),this.updateLocalStorage()},onLoadedMetadata:function(){He.removeEventListener("loadedmetadata",this.boundOnLoadedMetadata),this.onCanPlay()},onCanPlay:function(){var t=this;He.removeEventListener("canplay",this.boundOnCanPlay),Ue.a.isMobileSafari||K.a.isIOSApp||this.restoreAudio(),He.play().then((function(){(Ue.a.isMobileSafari||K.a.isIOSApp)&&t.restoreAudio()})).catch((function(){t.mode===ze&&(t.mode=Fe,t.isRestored=!0,Je=!0,t.detachAudio(),t.onStateChanged())}))},updateStore:function(){var t=He&&He.duration?He.duration:0;!t&&this.clip&&Number.isInteger(this.clip.duration)&&(t=this.clip.duration/1e3);var e=[];if(He&&He.buffered&&He.buffered.length>0)for(var n=0;n<He.buffered.length;n++)e.push({start:He.buffered.start(n),end:He.buffered.end(n)});!Je&&He&&He instanceof HTMLAudioElement&&(this._currentTime=He.currentTime,this._playbackRate=He.playbackRate,this._volume=He.volume),this.buffered=e,this.duration=t,this.isLoading=He&&He.readyState<HTMLMediaElement.HAVE_FUTURE_DATA&&!He.ended,this.isPlaying=He&&!He.paused&&!He.ended&&!this.isLoading,this.isEnded=He&&He.ended,this.isPaused=!He||He.paused},updateLocalStorage:function(){Ge.setItem("clip",this.clip),Ge.setItem("currentTime",this.currentTime),Ge.setItem("volume",this.volume),Ge.setItem("playbackRate",this.playbackRate),Ge.setItem("isPlaying",He&&!He.paused&&!He.ended),Ge.setItem("updatedAt",(new Date).getTime())},play:function(){if(this.clip){var t;switch(this.mode){case ze:t=this.clip.autoplayUrl?this.clip.autoplayUrl:this.clip.audioUrl;break;case Fe:t=this.clip.resumeUrl?this.clip.resumeUrl:this.clip.audioUrl;break;case qe:default:t=this.clip.audioUrl}t&&(He||this.attachAudio(),this.isRestored=!1,He.src!==t?((Ue.a.isMobileSafari||K.a.isIOSApp)&&He.addEventListener("loadedmetadata",this.boundOnLoadedMetadata),He.addEventListener("canplay",this.boundOnCanPlay),He.src=t):He.play())}},pause:function(){He&&this.isPlaying&&"function"==typeof He.pause&&He.pause()},clear:function(){this._clip=null,this._currentTime=0,He&&this.detachAudio(),Je=!1,this.onStateChanged()},attachAudio:function(){var t=this;He||(He=document.createElement("audio"),(Ue.a.isMobileSafari||K.a.isIOSApp)&&He.addEventListener("loadedmetadata",this.boundOnLoadedMetadata),He.addEventListener("canplay",this.boundOnCanPlay),Ve.forEach((function(e){He.addEventListener(e,t.boundOnStateChanged)})),document.body.appendChild(He))},detachAudio:function(){var t=this;Ve.forEach((function(e){He.removeEventListener(e,t.boundOnStateChanged)})),He.removeEventListener("loadedmetadata",this.boundOnLoadedMetadata),He.removeEventListener("canplay",this.boundOnCanPlay),He.remove(),He=null},restoreFromLocalStorage:function(){if(Ge.getItem("clip")){if((new Date).getTime()-(Ge.getItem("updatedAt")||0)>108e5)this.clearLocalStorage();else{this._clip=Ge.getItem("clip");var t=Ge.getItem("currentTime"),e=Ge.getItem("playbackRate"),n=Ge.getItem("volume");this.mode=Ge.getItem("isPlaying")?ze:qe,"number"!=typeof t||Number.isNaN(t)||(this._currentTime=t),"number"!=typeof e||Number.isNaN(e)||(this._playbackRate=e),"number"!=typeof n||Number.isNaN(n)||(this._volume=n),Je=!0,this.updateStore(),this.mode===ze&&this.play()}}else this.clearLocalStorage()},restoreAudio:function(){Je&&(He.currentTime=this._currentTime,He.playbackRate=this._playbackRate,He.volume=this._volume,Je=!1)},reloadLocaLStorage:function(){Ge.reload(),this.restoreFromLocalStorage()},clearLocalStorage:function(){Ge.removeItem("clip"),Ge.removeItem("currentTime"),Ge.removeItem("playbackRate"),Ge.removeItem("updatedAt"),Ge.removeItem("volume"),Ge.removeItem("isPlaying")},get clip(){return this._clip},set clip(t){t&&t.id&&t.audioUrl&&(this.mode=qe,He&&He.src&&(He.src=""),this._currentTime=0,this._clip={audioUrl:t.audioUrl,autoplayUrl:t.autoplayUrl,resumeUrl:t.resumeUrl,downloadUrl:t.downloadUrl||t.audioUrl,duration:t.duration||0,headline:t.headline||"",id:t.id,kicker:t.kicker||"",posterUrl:t.posterUrl||""},this.onStateChanged())},get currentTime(){return this._currentTime},set currentTime(t){var e=Math.max(parseFloat(t),0);Number.isNaN(e)||e>this.duration||(He?He.currentTime=e:this._currentTime=e)},get playbackRate(){return this._playbackRate},set playbackRate(t){var e=parseFloat(t);Number.isNaN(e)||e<.25||e>4||(He?He.playbackRate=e:this._playbackRate=e)},get volume(){return this._volume},set volume(t){var e=parseFloat(t);Number.isNaN(e)||e<0||e>1||(He?He.volume=e:this._volume=e)},get isDebuggingActive(){try{return"1"===localStorage.getItem("polygon_audio_debugging")}catch(t){return!1}}},Ke={get instance(){return i.a.store("WebAudio")}};function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function Qe(t,e,n){return e&&$e(t.prototype,e),n&&$e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ze(t){var e=tn(t,"string");return"symbol"===Ye(e)?e:String(e)}function tn(t,e){if("object"!==Ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var en=function(){function t(){Xe(this,t)}return Qe(t,[{key:"execute",value:function(){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||Ke.instance.clear()}}]),t}();function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,un(r.key),r)}}function an(t,e,n){return e&&on(t.prototype,e),n&&on(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function un(t){var e=cn(t,"string");return"symbol"===nn(e)?e:String(e)}function cn(t,e){if("object"!==nn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var sn=function(){function t(){rn(this,t)}return an(t,[{key:"execute",value:function(){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||Ke.instance.pause()}}]),t}(),ln=(n(107),n(42),n(70),n(105),n(106),n(82));n(58),n(52);function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hn(r.key),r)}}function dn(t,e,n){return e&&pn(t.prototype,e),n&&pn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hn(t){var e=bn(t,"string");return"symbol"===fn(e)?e:String(e)}function bn(t,e){if("object"!==fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var vn="-a-",mn="-fotostrecke-",gn="-video-",wn="a-",Sn="fotostrecke-",On="video-",kn=function(){function t(){yn(this,t)}return dn(t,null,[{key:"isUrlArticleContent",value:function(t){var e=!1;if(t){var n=new URL(t).pathname.split("/");if(n.length>1){var r=n[n.length-1],o=-1!==r.indexOf(vn);o=(o=(o=(o=(o=o||-1!==r.indexOf(mn))||-1!==r.indexOf(gn))||0===r.indexOf(wn))||0===r.indexOf(Sn))||0===r.indexOf(On),e=this.isHomeDomain(t)&&o}}return e}},{key:"isHomeDomain",value:function(t){var e=!1;if(null!=t){var n=new URL(t);e=n.host&&n.host===window.location.host}return e}},{key:"fixUrlParamsFragmentsOrder",value:function(t){var e,n=t.indexOf("#"),r=t.indexOf("?");return-1!==n&&r>n?(e=t.substr(0,n),e+=t.substr(r),e+=t.substr(n,r-n)):e=t,e}},{key:"getReferrerFromUrl",value:function(t){var e=new URL(t);return e.searchParams.get("ref")?e.searchParams.get("ref"):void 0}}]),t}();function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach((function(e){_n(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _n(t,e,n){return(e=In(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,In(r.key),r)}}function An(t,e,n){return e&&Cn(t.prototype,e),n&&Cn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function In(t){var e=Ln(t,"string");return"symbol"===Pn(e)?e:String(e)}function Ln(t,e){if("object"!==Pn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Rn=Symbol("INSTANCE"),Nn=Symbol("SINGELTONENFORCER"),xn=function(){function t(e){if(Tn(this,t),e!==Nn)throw new Error("Instantiation failed: Use SARAsData.instance instead of new.");this.init()}return An(t,[{key:"init",value:function(){var t=r.a.instance;this.application=t.application?t.application:{},this.editorial=t.editorial?t.editorial:void 0,this.external=t.external?t.external:{},this.page=t.page?t.page:{},this.paywall=t.paywall?t.paywall:void 0}},{key:"application",get:function(){return this._application},set:function(t){if(this._application={},t&&t.info&&(this._application.info=t.info),K.a.isApp){var e="";K.a.isAndroidApp?e="Android:":K.a.isIOSApp&&(e="iOS:"),e+=K.a.appVersion,this._application.info||(this._application.info={}),this._application.info.app_version=e}}},{key:"editorial",get:function(){return this._editorial},set:function(t){this._editorial=t?{info:jn({},t.info?t.info:{}),attributes:jn({},t.attributes?t.attributes:{}),category:jn({},t.category?t.category:{}),author:jn({},t.author?t.author:{})}:void 0}},{key:"external",get:function(){return this._external},set:function(t){this._external={},t.vg_wort&&(this._external.vg_wort=t.vg_wort)}},{key:"page",get:function(){return this._page},set:function(t){var e={platform:K.a.isApp?"app":"web"},n=kn.getReferrerFromUrl(window.location.href);n&&(e.referrer=n);var r={is_phone:Ue.a.isPhone,is_tablet:Ue.a.isTablet,is_mobile:Ue.a.isMobile,is_darkmode:ln.a.instance.colorScheme===_.e};this._page={info:Object.assign(e,t.info?t.info:{}),attributes:Object.assign(r,t.attributes?t.attributes:{}),category:jn({},t.category?t.category:{})}}},{key:"paywall",get:function(){return this._paywall},set:function(t){this._paywall=t?jn({},t):void 0}},{key:"user",get:function(){var t=j.a.instance,e=r.a.instance,n={};t.trackingId&&(n.tracking_id=t.trackingId),mt.a.instance.advertisingId&&(n.device_advertising_id=mt.a.instance.advertisingId);var o={access:t.accessInfo,is_loggedIn:t.isLoggedIn,has_paid_access:t.hasPaidAccess,has_spiegelNoAdsMonthly_access:t.hasNoAdsAccess,has_conditional_access:t.hasConditionalAccess};return D.a.instance.isGiftArticle&&(o.has_gift_article_access=!(t.hasPaidAccess||e.paywall&&e.paywall.attributes&&e.paywall.attributes.is_active)),{info:jn({},n),segment:o}}}],[{key:"instance",get:function(){return this[Rn]||(this[Rn]=new t(Nn)),this[Rn]}}]),t}();function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vn(r.key),r)}}function Un(t,e,n){return e&&Mn(t.prototype,e),n&&Mn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vn(t){var e=qn(t,"string");return"symbol"===Bn(e)?e:String(e)}function qn(t,e){if("object"!==Bn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var zn=Symbol("INSTANCE"),Fn=Symbol("SINGELTONENFORCER"),Gn="tlp",Hn=function(){function t(e){if(Dn(this,t),e!==Fn)throw new Error("Instantiation failed: Use SARAs.instance instead of new.");this.init()}return Un(t,[{key:"init",value:function(){this.data=xn.instance,E.a.subscribe(c.f,this.onAdPositionInitialized,this),E.a.subscribe(c.T,this.onJWPlayerInitialized,this),E.a.subscribe(c.fb,this.onPageResume,this),E.a.subscribe(c.r,this.onAddBookmark,this),E.a.subscribe(c.x,this.onDeleteBookmark,this),E.a.subscribe(c.w,this.onDeleteAllBookmarks,this)}},{key:"onAdPositionInitialized",value:function(t){if(t&&t.positionName&&"string"==typeof t.positionName){var e=!!t.containsAd,n=!!t.isEmpty,r=!!t.isBackfill,o=Array.isArray(t.size)?t.size:[void 0,void 0];this.sendAdPositionInitializedEvent(t.positionName,e,n,r,o)}}},{key:"onAddBookmark",value:function(t,e){t&&e&&"article"===e&&this.sendCustomButtonClickEvent("add bookmark",{articleId:t,source:"bookmark-button"})}},{key:"onDeleteBookmark",value:function(t,e){t&&e&&"article"===e&&this.sendCustomButtonClickEvent("delete bookmark",{articleId:t,source:"bookmark-button"})}},{key:"onDeleteAllBookmarks",value:function(t){t&&"article"===t&&this.sendCustomButtonClickEvent("delete all bookmarks",{source:"bookmark-button"})}},{key:"onJWPlayerInitialized",value:function(t){t&&this.sendJWPlayerInitializedEvent(t)}},{key:"onPageResume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&t.platform&&"app"===t.platform&&this.sendVirtualPageEvent("app_call",t.trigger,t.referrer)}},{key:"sendCustomButtonClickEvent",value:function(t,e){if(t){var n={event:{info:{action:"button_click",name:t},attributes:{source:"".concat(Gn,"|webview|").concat(e&&e.source?e.source:"button")}}};e&&e.articleId&&(n.editorial={info:{article_id:e.articleId}}),this.push(n)}}},{key:"sendJWPlayerInitializedEvent",value:function(t){if(t){var e={event:{info:{action:"jw-init"},attributes:{player_id:t,source:"".concat(Gn,"|webview|video-player")}}};this.push(e)}}},{key:"sendAdPositionInitializedEvent",value:function(t,e,n,r,o){if(t){var i={event:{info:{action:"adpos-init"},attributes:{pos:t,contains_ad:e,is_empty:n,is_backfill:r,size:o,source:"".concat(Gn,"|webview|advertisement")}}};this.push(i)}}},{key:"sendPageLoadEvent",value:function(){var t={};t=Object.assign(t,{event:{info:{action:"page_data_ready",name:"generic"},attributes:{current_url:"".concat(r.a.instance.urls.base).concat(window.location.pathname).concat(window.location.search),source:"".concat(Gn,"|webview|page-tracking")}}}),this.data.application&&(t=Object.assign(t,{application:this.data.application})),this.data.external&&(t=Object.assign(t,{external:this.data.external})),this.data.page&&(t=Object.assign(t,{page:this.data.page})),this.data.editorial&&(t=Object.assign(t,{editorial:this.data.editorial})),this.data.paywall&&(t=Object.assign(t,{paywall:this.data.paywall})),this.data.user&&(t=Object.assign(t,{user:this.data.user})),this.push(t)}},{key:"sendAudioPlayerEvent",value:function(t,e,n,r,o,i,a,u){if(e&&n){var c={event:{info:{action:"audio",name:e},attributes:{item:{title:o,series:r,file:i,mediaid:n},duration:a/1e3,source:"".concat(Gn,"|").concat(t,"|audio-player"),article_id:u}}};this.push(c)}}},{key:"sendVirtualPageEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generic",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic_recall",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};r=Object.assign(r,{event:{info:{action:"virtual_page",name:t},attributes:{label:e,source:"".concat(Gn,"|webview|page-tracking")}}}),n&&(r.page={info:{referrer:n}}),this.push(r)}},{key:"push",value:function(t){return t.event&&t.event.info&&t.event.info.action?window.SARAs_data?(window.SARAs_data.push(t),!0):(console.error("SARAs->push: SARAs_data is not defined: ".concat(JSON.stringify(t))),!1):(console.error("SARAs->push: Event Param action is required: ".concat(JSON.stringify(t))),!1)}}],[{key:"instance",get:function(){return this[zn]||(this[zn]=new t(Fn)),this[zn]}}]),t}();function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xn(r.key),r)}}function Yn(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xn(t){var e=$n(t,"string");return"symbol"===Jn(e)?e:String(e)}function $n(t,e){if("object"!==Jn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Qn=function(){function t(){Wn(this,t)}return Yn(t,[{key:"execute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"play";if(t&&t.id&&t.audioUrl){var n="";K.a.isApp&&mt.a.instance.isNativeAudioPlayerSupported?(mt.a.instance.triggerNativeAudioPlayer(t),n="native"):(Ke.instance.clip=t,Ke.instance.play(),n="webview"),Hn.instance.sendAudioPlayerEvent(n,e,t.id||"",t.kicker||"",t.headline||"",t.audioUrl||"",t.duration||-1,t.articleId||"")}}}]),t}();function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rr(r.key),r)}}function nr(t,e,n){return e&&er(t.prototype,e),n&&er(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rr(t){var e=or(t,"string");return"symbol"===Zn(e)?e:String(e)}function or(t,e){if("object"!==Zn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Zn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ir=function(){function t(){tr(this,t)}return nr(t,[{key:"execute",value:function(){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||Ke.instance.play()}}]),t}();function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lr(r.key),r)}}function sr(t,e,n){return e&&cr(t.prototype,e),n&&cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lr(t){var e=fr(t,"string");return"symbol"===ar(e)?e:String(e)}function fr(t,e){if("object"!==ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var yr=function(){function t(){ur(this,t)}return sr(t,[{key:"execute",value:function(t){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||(Ke.instance.playbackRate=t)}}]),t}();function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vr(r.key),r)}}function br(t,e,n){return e&&hr(t.prototype,e),n&&hr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t){var e=mr(t,"string");return"symbol"===pr(e)?e:String(e)}function mr(t,e){if("object"!==pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var gr=function(){function t(){dr(this,t)}return br(t,[{key:"execute",value:function(t){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||(Ke.instance.currentTime=t)}}]),t}();function wr(t){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pr(r.key),r)}}function kr(t,e,n){return e&&Or(t.prototype,e),n&&Or(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pr(t){var e=Er(t,"string");return"symbol"===wr(e)?e:String(e)}function Er(t,e){if("object"!==wr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var jr=function(){function t(){Sr(this,t)}return kr(t,[{key:"execute",value:function(t){K.a.isApp&&mt.a.isNativeAudioPlayerSupported||(Ke.instance.volume=t)}}]),t}(),_r=(n(154),n(55));function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lr(r.key),r)}}function Ir(t,e,n){return e&&Ar(t.prototype,e),n&&Ar(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lr(t){var e=Rr(t,"string");return"symbol"===Tr(e)?e:String(e)}function Rr(t,e){if("object"!==Tr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Nr=Symbol("INSTANCE"),xr=Symbol("SINGELTONENFORCER"),Br=function(){function t(e){if(Cr(this,t),e!==xr)throw new Error("Instantiation failed: Use BreakingNewsData.instance instead of new.");this.init(),this.fetchBreakingNews()}return Ir(t,[{key:"init",value:function(){if(_r.a.getItem(_.i.breakingNews.name)){var t;try{t=JSON.parse(_r.a.getItem(_.i.breakingNews.name))}catch(t){}if(t){var e=r.a.instance,n=e.cacheControl&&e.cacheControl.breakingnews&&Number.isInteger(e.cacheControl.breakingnews.sessionStorageMaxAge)?e.cacheControl.breakingnews.sessionStorageMaxAge:900,o=Date.now()-1e3*n;if(t.updated_at&&t.updated_at>=o&&t.items&&Array.isArray(t.items))return void(this._items=t.items)}}this._items=[]}},{key:"fetchBreakingNews",value:function(){var t=this,e=r.a.instance;if(e.urls&&"string"==typeof e.urls.assetsBasePath){var n="".concat(e.urls.assetsBasePath,"/assets/news/breakingnews.json");fetch(n,{method:"GET"}).then((function(t){return t.json()})).then((function(e){return t.parseFetchedBreakingNews(e)})).catch((function(){return console.error("Error while fetching breaking news.")}))}}},{key:"parseFetchedBreakingNews",value:function(t){t&&Array.isArray(t)&&(this.items=t)}},{key:"updateSessionStorage",value:function(t){var e={items:t&&Array.isArray(t)?t:[],updated_at:Date.now()};_r.a.setItem(_.i.breakingNews.name,JSON.stringify(e))}},{key:"items",get:function(){return this._items},set:function(t){var e=this;if(t&&Array.isArray(t)){var n=t.length!==this._items.length;n||t.forEach((function(t){-1===e._items.findIndex((function(e){return e.id===t.id}))&&(n=!0)})),this._items=t,this.updateSessionStorage(t),n&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(c.E,t)}}}],[{key:"instance",get:function(){return this[Nr]||(this[Nr]=new t(xr)),this[Nr]}}]),t}(),Dr=n(57);function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zr(r.key),r)}}function qr(t,e,n){return e&&Vr(t.prototype,e),n&&Vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zr(t){var e=Fr(t,"string");return"symbol"===Mr(e)?e:String(e)}function Fr(t,e){if("object"!==Mr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Gr=function(){function t(){var e=this;Ur(this,t),this.link=null,this.boundNotificationCallback=function(){return e.notificationCallback()}}return qr(t,[{key:"execute",value:function(t){t?(this.link=t,this.copyLinkToClipboard()):this.destroy()}},{key:"copyLinkToClipboard",value:function(){Dr.a.copyToClipboard(this.link)?ve.instance.addNotification({type:_.k,headline:"Link kopiert",description:"Der Artikel-Link wurde erfolgreich in Ihrer Zwischenablage gespeichert."}):ve.instance.addNotification({type:_.j,headline:"Fehler",description:'Beim Kopieren des Artikel-Links ist ein Fehler aufgetreten. <a href="#" data-notification-el="trigger">Erneut versuchen</a>',callback:this.boundNotificationCallback})}},{key:"notificationCallback",value:function(){var t=this;setTimeout((function(){t.copyLinkToClipboard()}),1e3)}},{key:"destroy",value:function(){this.link=null,this.boundNotificationCallback=null}}]),t}();function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yr(r.key),r)}}function Kr(t,e,n){return e&&Wr(t.prototype,e),n&&Wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yr(t){var e=Xr(t,"string");return"symbol"===Hr(e)?e:String(e)}function Xr(t,e){if("object"!==Hr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var $r=Symbol("INSTANCE"),Qr=Symbol("SINGELTONENFORCER"),Zr=function(){function t(e){if(Jr(this,t),e!==Qr)throw new Error("Instantiation failed: Use GiftService.instance instead of new.");this.init()}return Kr(t,[{key:"init",value:function(){var t=r.a.instance;t.thirdparty&&t.thirdparty.gift&&t.thirdparty.gift.apiUrl?this.apiUrl=t.thirdparty.gift.apiUrl:console.error("GiftService requires apiUrl for correct instantiation.")}},{key:"getGiftCredits",value:function(){var t=this,e="".concat(this.apiUrl,"/credits");return new Promise((function(n,r){t.fetchUrl(e,"GET").then((function(t){t&&Number.isInteger(t.giftCredit)?n(t.giftCredit):n(0)})).catch((function(t){return r(t)}))}))}},{key:"createGiftArticle",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("GiftService createGiftArticle - missing valid documentId function param"));var n=new URL("".concat(this.apiUrl,"/create"));n.searchParams.set("article",t);return new Promise((function(t,r){e.fetchUrl(n.href,"GET").then((function(e){t(e)})).catch((function(t){return r(t)}))}))}},{key:"fetchUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n={method:e,headers:{"Content-Type":"text/plain"}};return fetch(t,n).then((function(t){return 200!==t.status&&201!==t.status?t.text().then((function(t){throw new Error(t)})).catch((function(e){return Promise.reject(new Error("GiftService fetchUrl - failed to get data from API, URL: ".concat(t.url,", error: ").concat(e.message)))})):"GET"===e?t.json():Promise.resolve()}))}}],[{key:"instance",get:function(){return this[$r]||(this[$r]=new t(Qr)),this[$r]}}]),t}(),to={isInitialized:!1,credits:null,tokenLookup:{},initialize:function(){var t=this;Zr.instance.getGiftCredits().then((function(e){Number.isInteger(e)&&(t.credits=e,t.isInitialized=!0)})).catch((function(){}))},addToken:function(t,e){t&&"string"==typeof t&&e&&(this.tokenLookup[t]=e)},getToken:function(t){return this.tokenLookup[t]}},eo={get instance(){return i.a.store("Gift")}};function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ao(r.key),r)}}function io(t,e,n){return e&&oo(t.prototype,e),n&&oo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ao(t){var e=uo(t,"string");return"symbol"===no(e)?e:String(e)}function uo(t,e){if("object"!==no(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==no(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var co=function(){function t(){var e=this;ro(this,t),this.documentId=null,this.giftService=Zr.instance,this.boundNotificationCallback=function(){return e.notificationCallback()}}return io(t,[{key:"execute",value:function(t){var e=j.a.instance;e.isLoggedIn&&e.hasPaidAccess?(this.documentId=t,this.createGiftArticle()):this.destroy()}},{key:"createGiftArticle",value:function(){var t=this;this.giftService.createGiftArticle(this.documentId).then((function(e){if(e.articleId!==t.documentId||!e.token)throw new Error("Invalid response");var n=eo.instance;n.addToken(t.documentId,e.token),E.a.publish(c.P,t.documentId,e.token),Number.isInteger(e.giftCredit)&&(n.credits=e.giftCredit),t.destroy()})).catch((function(){ve.instance.addNotification({type:_.j,headline:"Fehler",description:'Beim Erstellen des Links ist ein Fehler aufgetreten. <a href="#" data-notification-el="trigger">Erneut versuchen</a>',callback:t.boundNotificationCallback})}))}},{key:"notificationCallback",value:function(){var t=this;setTimeout((function(){t.createGiftArticle()}),1e3)}},{key:"destroy",value:function(){this.documentId=null,this.giftService=null,this.boundNotificationCallback=null}}]),t}();function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,po(r.key),r)}}function yo(t,e,n){return e&&fo(t.prototype,e),n&&fo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function po(t){var e=ho(t,"string");return"symbol"===so(e)?e:String(e)}function ho(t,e){if("object"!==so(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var bo=function(){function t(){var e=this;lo(this,t),this.documentId=null,this.collection=null,this.bookmarks=W.instance,this.boundNotificationCallback=function(){return e.notificationCallback()}}return yo(t,[{key:"execute",value:function(t,e){if(!j.a.instance.isLoggedIn)return E.a.publish(c.C),void this.destroy();this.documentId=t,this.collection=e,this.deleteBookmark()}},{key:"deleteBookmark",value:function(){var t=this;this.bookmarks.delete(this.documentId,this.collection).then((function(){E.a.publish(c.u,t.documentId,t.collection);var e=r.a.instance.urls,n=e&&e.user&&e.user.bookmarks?e.user.bookmarks:"";if(ve.instance.addNotification({type:_.k,headline:"Aus Merkliste entfernt",description:'Ihr Artikel wurde aus der <a href="'.concat(n,'">Merkliste</a> gelÃ¶scht.')}),K.a.isApp){var o=r.a.instance;o.app&&o.app.pageContext&&o.app.pageContext.documentId===t.documentId&&o.app.pageContext.collection===t.collection&&E.a.publish(c.cb,new bt(t.documentId,t.collection,!1))}t.destroy()})).catch((function(){E.a.publish(c.y,{type:_.b,documentId:t.documentId,collection:t.collection}),ve.instance.addNotification({type:_.j,headline:"Fehler",description:'Beim LÃ¶schen des Artikels ist ein Fehler aufgetreten. <a href="#" data-notification-el="trigger">Erneut versuchen</a>',callback:t.boundNotificationCallback})}))}},{key:"notificationCallback",value:function(){var t=this;setTimeout((function(){t.deleteBookmark()}),1e3)}},{key:"destroy",value:function(){this.documentId=null,this.collection=null,this.bookmarks=null,this.boundNotificationCallback=null}}]),t}();function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,So(r.key),r)}}function wo(t,e,n){return e&&go(t.prototype,e),n&&go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function So(t){var e=Oo(t,"string");return"symbol"===vo(e)?e:String(e)}function Oo(t,e){if("object"!==vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ko=function(){function t(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Ok",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Abbrechen";mo(this,t),this.callback="function"==typeof e?e:null,this.headline=n,this.description=r,this.confirmButtonLabel=i,this.cancelButtonLabel=a,this.boundOnConfirmButtonClick=function(){return o.onConfirmTriggered()},this.boundOnCancelTriggered=function(){return o.onCancelTriggered()},this.boundOnKeyDown=function(t){return o.onKeyDown(t)},this.init()}return wo(t,[{key:"init",value:function(){if(this.container=document.querySelector('[data-confirmationlayer-el="container"]'),this.container||(this.container=document.body),this.el=vt.a.createElementByPrototypeId(this.prototypeId),this.el){var t=this.el.querySelector('[data-confirmationlayer-el="headline"]');t&&(this.headline?t.innerHTML=this.headline:E.a.toggleElementVisibility(t,!1));var e=this.el.querySelector('[data-confirmationlayer-el="description"]');if(e&&(this.description?e.innerHTML=this.description:E.a.toggleElementVisibility(e,!1)),this.confirmButton=this.el.querySelector('[data-confirmationlayer-el="confirmButton"]'),this.confirmButton)if(this.confirmButtonLabel){var n=this.confirmButton.querySelector('[data-confirmationlayer-el="confirmButtonLabel"]');n&&(n.innerHTML=this.confirmButtonLabel),this.confirmButton.addEventListener("click",this.boundOnConfirmButtonClick)}else E.a.toggleElementVisibility(this.confirmButton,!1);if(this.cancelButton=this.el.querySelector('[data-confirmationlayer-el="cancelButton"]'),this.cancelButton)if(this.cancelButtonLabel){var r=this.cancelButton.querySelector('[data-confirmationlayer-el="cancelButtonLabel"]');r&&(r.innerHTML=this.cancelButtonLabel),this.cancelButton.addEventListener("click",this.boundOnCancelTriggered)}else E.a.toggleElementVisibility(this.cancelButton,!1);this.closeIcon=this.el.querySelector('[data-confirmationlayer-el="closeIcon"]'),this.closeIcon&&this.closeIcon.addEventListener("click",this.boundOnCancelTriggered),this.background=this.el.querySelector('[data-confirmationlayer-el="background"]'),this.background&&this.background.addEventListener("click",this.boundOnCancelTriggered)}}},{key:"open",value:function(){var t=this;this.container.appendChild(this.el),this.el.style.opacity=0,E.a.toggleElementVisibility(this.el,!0),this.returnFocusElement=window.document.activeElement,this.closeIcon.focus(),setTimeout((function(){t.el.style.opacity=1}),0),window.document.addEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"close",value:function(){E.a.toggleElementVisibility(this.el,!1),this.returnFocusElement&&(this.returnFocusElement.focus(),this.returnFocusElement=null),E.a.publish(c.M),this.destroy()}},{key:"onConfirmTriggered",value:function(){"function"==typeof this.callback&&this.callback(_.h),this.close()}},{key:"onCancelTriggered",value:function(){"function"==typeof this.callback&&this.callback(_.g),this.close()}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"destroy",value:function(){this.closeIcon&&this.closeIcon.removeEventListener("click",this.boundOnCancelTriggered),this.confirmButton&&this.confirmButton.removeEventListener("click",this.boundOnConfirmButtonClick),this.cancelButton&&this.cancelButton.removeEventListener("click",this.boundOnCancelTriggered),this.background&&this.closeIcon.removeEventListener("click",this.boundOnCancelTriggered),window.document.removeEventListener("keydown",this.boundOnKeyDown,!0),this.callback=null,this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=null}},{key:"prototypeId",get:function(){return"prototype-confirmation-layer"}}]),t}();function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,To(r.key),r)}}function _o(t,e,n){return e&&jo(t.prototype,e),n&&jo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function To(t){var e=Co(t,"string");return"symbol"===Po(e)?e:String(e)}function Co(t,e){if("object"!==Po(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ao=Symbol("INSTANCE"),Io=Symbol("SINGELTONENFORCER"),Lo=function(){function t(e){var n=this;if(Eo(this,t),e!==Io)throw new Error("Instantiation failed: Use ConfirmationLayerService.instance instead of new.");this.queue=[],this.currentConfirmationLayer=null,this.boundOnConfirmationLayerClosed=function(){return n.onConfirmationLayerClosed()},this.init()}return _o(t,[{key:"init",value:function(){E.a.subscribe(c.M,this.boundOnConfirmationLayerClosed)}},{key:"addConfirmationLayer",value:function(t){if(t){this.removeConfirmationLayerById(t.id);var e=new ko(t.callback,t.headline,t.description,t.confirmButtonLabel,t.cancelButtonLabel);this.queue.unshift({id:t.id||"",view:e}),this.currentConfirmationLayer||this.showNextConfirmationLayer()}}},{key:"removeConfirmationLayerById",value:function(t){var e=this;t&&this.queue.filter((function(e){return e.id===t})).forEach((function(t){var n=e.queue.indexOf(t);-1!==n&&(t.view.destroy(),e.queue.splice(n,1))}))}},{key:"showNextConfirmationLayer",value:function(){if(this.currentConfirmationLayer)this.currentConfirmationLayer.destroy();else if(0!==this.queue.length){var t=this.queue.pop();t.view&&(this.currentConfirmationLayer=t.view,this.currentConfirmationLayer.open())}}},{key:"onConfirmationLayerClosed",value:function(){var t=this;this.currentConfirmationLayer&&(this.currentConfirmationLayer=null),setTimeout((function(){t.showNextConfirmationLayer()}),400)}}],[{key:"instance",get:function(){return this[Ao]||(this[Ao]=new t(Io)),this[Ao]}}]),t}();function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function No(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Bo(t,e,n){return e&&xo(t.prototype,e),n&&xo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Do(t){var e=Mo(t,"string");return"symbol"===Ro(e)?e:String(e)}function Mo(t,e){if("object"!==Ro(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ro(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Uo=function(){function t(){var e=this;No(this,t),this.collection=null,this.bookmarks=W.instance,this.boundConfirmationLayerCallback=function(t){return e.confirmationLayerCallback(t)},this.boundNotificationCallback=function(){return e.notificationCallback()}}return Bo(t,[{key:"execute",value:function(t){this.collection=t,Lo.instance.addConfirmationLayer({id:"DeleteAllBookmarks-".concat(this.collection),headline:"Alle Artikel entfernen?",description:"MÃ¶chten Sie wirklich alle Artikel aus Ihrer Merkliste lÃ¶schen? Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden.",confirmButtonLabel:"Artikel entfernen",cancelButtonLabel:"Abbrechen",callback:this.boundConfirmationLayerCallback})}},{key:"deleteAllBookmarks",value:function(){var t=this;this.bookmarks.deleteAll(this.collection).then((function(){if(E.a.publish(c.s,t.collection),ve.instance.addNotification({type:_.k,headline:"Aus Merkliste entfernt",description:"Ihre Artikel wurden aus der Merkliste gelÃ¶scht."}),K.a.isApp){var e=r.a.instance;e.app&&e.app.pageContext&&e.app.pageContext.documentId&&e.app.pageContext.collection&&E.a.publish(c.cb,new bt(e.app.pageContext.documentId,e.app.pageContext.collection,!1))}t.destroy()})).catch((function(e){E.a.publish(c.y,{type:_.c,collection:t.collection}),ve.instance.addNotification({type:_.j,headline:"Fehler",description:'Beim LÃ¶schen der Artikel ist ein Fehler aufgetreten. <a href="#" data-notification-el="trigger">Erneut versuchen</a>',callback:t.boundNotificationCallback}),console.error(e.message)}))}},{key:"notificationCallback",value:function(){var t=this;setTimeout((function(){t.deleteAllBookmarks()}),1e3)}},{key:"confirmationLayerCallback",value:function(t){t!==_.h?this.destroy():this.deleteAllBookmarks()}},{key:"destroy",value:function(){this.collection=null,this.bookmarks=null,this.boundConfirmationLayerCallback=null,this.boundNotificationCallback=null}}]),t}();function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Go(r.key),r)}}function Fo(t,e,n){return e&&zo(t.prototype,e),n&&zo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Go(t){var e=Ho(t,"string");return"symbol"===Vo(e)?e:String(e)}function Ho(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Jo(){return(Jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Wo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Wo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ko(t)););return t}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yo=Symbol("INSTANCE"),Xo=Symbol("SINGELTONENFORCER"),$o=function(){function t(e){if(qo(this,t),e!==Xo)throw new Error("Instantiation failed: Use EventObserver.instance instead of new.");this.init()}return Fo(t,[{key:"init",value:function(){var t=this;this.scrollDirection=null,this.lastScrollY=window.scrollY,this.boundOnMouseDown=function(e){return t.onMouseDown(e)},this.boundOnPageShow=function(e){return t.onPageShow(e)},this.boundOnScroll=function(){return t.onScroll()},window.document.addEventListener("mousedown",this.boundOnMouseDown),window.addEventListener("pageshow",this.boundOnPageShow),window.addEventListener("scroll",this.boundOnScroll),this.initPageVisibilityAPI()}},{key:"initPageVisibilityAPI",value:function(){var t,e=this;this.hiddenPropertyName=void 0,void 0!==document.hidden?(this.hiddenPropertyName="hidden",t="visibilitychange"):void 0!==document.mozHidden?(this.hiddenPropertyName="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenPropertyName="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden?(this.hiddenPropertyName="webkitHidden",t="webkitvisibilitychange"):t="visibilitychange",this.currentVisibilityState=this.visibilityState,this.boundOnVisibilityChange=function(){return e.onVisibilityChange(e.visibilityState)},window.document.addEventListener(t,this.boundOnVisibilityChange),this.boundOnPageHide=function(){return e.onVisibilityChange("hidden")},window.addEventListener("pagehide",this.boundOnPageHide)}},{key:"onVisibilityChange",value:function(t){this.currentVisibilityState!==t&&(this.currentVisibilityState=t,E.a.publish(c.gb,t))}},{key:"visibilityState",get:function(){return this.hiddenPropertyName?window.document[this.hiddenPropertyName]?"hidden":"visible":void 0!==window.document.visibilityState?window.document.visibilityState:void 0}},{key:"onMouseDown",value:function(t){E.a.publish(c.eb,t)}},{key:"onPageShow",value:function(t){t.persisted&&E.a.publish(c.fb)}},{key:"onScroll",value:function(){var t=window.scrollY,e=t>=this.lastScrollY?_.l:_.m;this.lastScrollY=t,e!==this.scrollDirection&&(E.a.publish(c.vb,{direction:e}),this.scrollDirection=e)}},{key:"destroy",value:function(){window.document.removeEventListener("mousedown",this.boundOnMouseDown),window.removeEventListener("pageshow",this.boundOnPageShow),window.removeEventListener("pagehide",this.boundOnPageHide),window.removeEventListener("scroll",this.boundOnScroll),Jo(Ko(t.prototype),"destroy",this).call(this)}}],[{key:"instance",get:function(){return this[Yo]||(this[Yo]=new t(Xo)),this[Yo]}}]),t}();n(73),n(78),n(65),n(49);function Qo(t){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ni(r.key),r)}}function ei(t,e,n){return e&&ti(t.prototype,e),n&&ti(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ni(t){var e=ri(t,"string");return"symbol"===Qo(e)?e:String(e)}function ri(t,e){if("object"!==Qo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var oi=Symbol("INSTANCE"),ii=Symbol("SINGELTONENFORCER"),ai=function(){function t(e){if(Zo(this,t),e!==ii)throw new Error("Instantiation failed: Use GujAdBridge.instance instead of new.");this.init()}return ei(t,[{key:"init",value:function(){var t=this;this.initializedAdPositions=[],this.reloadAllAdsTriggered=!1;var e=r.a.instance,n=D.a.instance,o=ln.a.instance.breakpoint,i="desktop";K.a.isAndroidApp?i="androidphone":K.a.isIOSApp?i="iosphone":Ue.a.isTablet?i="tablet":Ue.a.isMobile&&(i="mobile");var a="_default";e.noAds||n.isIssueArticle?a="_noad":void 0!==e.guj&&e.guj.zone&&(a=e.guj.zone);var u="default";void 0!==e.guj&&e.guj.spmtp&&(u=e.guj.spmtp);var s="";void 0!==e.guj&&e.guj.spmurid&&(s=e.guj.spmurid);var l="";void 0!==e.guj&&e.guj.spmtid&&(l=e.guj.spmtid);var f="";void 0!==e.guj&&e.guj.spmard&&(f=e.guj.spmard);var y=!1;void 0!==e.guj&&e.guj.isIndexPage&&(y=!0);var p=[];void 0!==e.guj&&Array.isArray(e.guj.keywords)&&(p=p.concat(e.guj.keywords)),"undefined"!=typeof GujAd&&void 0!==GujAd.cmd&&(void 0!==GujAdPositions&&GujAdPositions.forEach((function(e){Array.isArray(e.breakpoints)&&!e.breakpoints.includes(o)||t.initAdPosition(e.id)})),GujAd.cmd.unshift((function(){GujAd.getClient().setSiteType(i)}),(function(){"develop"===a?GujAd.getClient().setZone(a,!0):GujAd.getClient().setZone(a)}),(function(){GujAd.getClient().addTargetingParameter("spmtp",u),s&&GujAd.getClient().addTargetingParameter("spmurid",s),l&&GujAd.getClient().addTargetingParameter("spmtid",l),f&&GujAd.getClient().addTargetingParameter("spmard",f)}),(function(){GujAd.getClient().setIsIndexPage(y)}),(function(){GujAd.getClient().setKeywords(p)}),(function(){GujAd.registerAdPositionLoadedHandler((function(e){t.onAdPositionLoaded(e)}))}),(function(){K.a.isApp&&mt.a.instance.advertisingId&&GujAd.getClient().setIDFA(mt.a.instance.advertisingId)}))),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(c.Nb,(function(e){t.onTargetAdPositionLoaded(e)})),e.disableAds&&void 0!==GujAdPositions&&GujAdPositions.forEach((function(t){t.sitetype&&("mobile"!==t.sitetype&&t.sitetype!==i||"mobile"===t.sitetype&&!["mobile","androidphone","iosphone"].includes(i))||window.polygon.componentLoader.publish(c.f,{positionName:t.id})})))}},{key:"onAdPositionLoaded",value:function(t){var e=t.getName(),n=t.containsAd(),r=t.getGPTEvent(),o=r&&Array.isArray(r.size)&&2===r.size.length?r.size:[void 0,void 0],i=r&&r.isEmpty,a=r&&r.isBackfill;this.refreshAdContainerStyle(e,n,o),this.refreshAdContainerVisibility(e,n),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&(window.polygon.componentLoader.publish(c.f,{positionName:e,containsAd:n,isEmpty:i,isBackfill:a,size:o}),n&&window.polygon.componentLoader.publish(c.g,e))}},{key:"onTargetAdPositionLoaded",value:function(t){this.refreshAdContainerVisibility(t,!0);var e=document.querySelector("#".concat(t));e&&(e.setAttribute("data-advertisement",e.getAttribute("data-advertisement").replace(/GujAd/g),"AdobeTargetAd"),e.className="",e.parentElement.getAttribute("data-advertisement")&&e.parentElement.getAttribute("data-advertisement").indexOf(t)>=0&&(e.parentElement.className=""),e.style.display=""),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(c.g,t)}},{key:"refreshAdContainerStyle",value:function(t,e,n){var r=document.querySelector('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"][class*="float"]:not([id])'));r&&(e&&Array.isArray(n)&&n[0]&&n[0]>300?r.setAttribute("style","float: none !important; padding-left: 0 !important; padding-right: 0 !important; margin-left: 0 !important; margin-right: 0 !important;"):r.setAttribute("style",""))}},{key:"refreshAdContainerVisibility",value:function(t,e){e?Array.from(document.querySelectorAll('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.remove("hidden"),t.classList.remove("sm:hidden"),t.classList.remove("md:hidden"),t.classList.remove("lg:hidden"),t.classList.remove("unhidable")})):this.reloadAllAdsTriggered||Array.from(document.querySelectorAll('[data-advertisement^="GujAd '.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.add("hidden")}))}},{key:"initAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&(this.initializedAdPositions.includes(t)?this.reloadAdPosition(t):(GujAd.cmd.push((function(){GujAd.push(t)})),this.initializedAdPositions.push(t)))}},{key:"reloadAllAds",value:function(){var t=this;void 0!==GujAd&&(this.reloadAllAdsTriggered=!0,this.initializedAdPositions.forEach((function(e){if("function"==typeof GujAd.isAdPositionEmpty&&!GujAd.isAdPositionEmpty(e)){var n=document.querySelector("#".concat(e,'[data-advertisement^="GujAd"]:not([data-advertisement*="disabled"])'));n&&n.offsetHeight>0&&(n.classList.add("unhidable"),n.style.minHeight="".concat(n.offsetHeight,"px"),t.reloadAdPosition(e))}})))}},{key:"reloadAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&GujAd.cmd.push((function(){GujAd.getClient().reloadAd(t)}))}}],[{key:"instance",get:function(){return this[oi]||(this[oi]=new t(ii)),this[oi]}}]),t}();function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ci(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fi(r.key),r)}}function li(t,e,n){return e&&si(t.prototype,e),n&&si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fi(t){var e=yi(t,"string");return"symbol"===ui(e)?e:String(e)}function yi(t,e){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var pi=function(){function t(){ci(this,t),this.origin=null,this.target=null,this.targetImage=null,this.animationDuration=null,this.el=null}return li(t,[{key:"execute",value:function(t,e){var n=this;if(this.origin=document.querySelector('[data-image-animation-origin="'.concat(t,'"]')),this.target=document.querySelector('[data-image-animation-target="'.concat(t,'"]')),this.origin&&this.target)if(this.targetImage=this.target.querySelector("img"),this.animationDuration=e,this.el=vt.a.createElementByPrototypeId("prototype-image-animation-element"),this.el){var r=this.origin.getBoundingClientRect(),o={imageSrc:this.origin.currentSrc,animationDuration:this.animationDuration,width:this.origin.width,height:this.origin.height,top:r.top,left:r.left};this.el=vt.a.populateElement(this.el,o),this.target.parentNode.insertBefore(this.el,this.target.nextSibling),this.el.style.transform=this.cssTransform,this.el.style.filter=this.cssFilter,window.setTimeout((function(){return n.onAnimationCompleted()}),this.animationDuration)}else this.destroy();else this.destroy()}},{key:"cssTransform",get:function(){if(!this.el||!this.target)return"";var t=this.target.getBoundingClientRect(),e=this.el.getBoundingClientRect(),n=(t.height<window.innerHeight?t.height:window.innerHeight)/this.el.height,r=(t.width-this.el.width*n)/2,o=t.left-parseFloat(e.left)+r,i=t.top-parseFloat(e.top);return"translate(".concat(o,"px, ").concat(i,"px) scale(").concat(n,")")}},{key:"cssFilter",get:function(){var t=this.target.getBoundingClientRect().height/this.el.height-1;return t<0?"blur(0)":"blur(".concat(t,"px)")}},{key:"onAnimationCompleted",value:function(){var t=this;this.targetImage.classList.contains("lazyloaded")||this.targetImage.classList.contains("ls-is-cached")||this.targetImage.complete?this.onTargetImageLoaded():(this.boundOnTargetImageLoaded=function(){return t.onTargetImageLoaded()},this.targetImage.addEventListener("load",this.boundOnTargetImageLoaded))}},{key:"onTargetImageLoaded",value:function(){var t=this;window.setTimeout((function(){return t.destroy()}),this.animationDuration)}},{key:"destroy",value:function(){this.boundOnTargetImageLoaded&&this.targetImage.removeEventListener("load",this.boundOnTargetImageLoaded),this.origin=null,this.target=null,this.targetImage=null,this.el&&(this.el.remove(),this.el=null)}}]),t}();function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mi(r.key),r)}}function vi(t,e,n){return e&&bi(t.prototype,e),n&&bi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mi(t){var e=gi(t,"string");return"symbol"===di(e)?e:String(e)}function gi(t,e){if("object"!==di(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var wi=function(){function t(){hi(this,t)}return vi(t,[{key:"execute",value:function(){var t=j.a.instance;t.isLoggedIn&&t.hasPaidAccess&&eo.instance.initialize()}}]),t}(),Si=(n(277),n(278),n(279),n(89),n(280),n(281),void 0===arguments?void 0:arguments),Oi=void 0,ki=[],Pi=function(){return n.e(0).then(n.t.bind(null,308,7)).then((function(t){var e=Array.from(document.querySelectorAll("[data-stickyfill]"));t.add(e)}))},Ei=function(){return n.e(0).then(n.t.bind(null,309,7))},ji=function(){return n.e(0).then(n.t.bind(null,310,7)).then((function(t){t.polyfill()}))},_i=function(){window.queueMicrotask=function(t){Promise.resolve().then(t).catch((function(t){return setTimeout((function(){throw t}))}))}},Ti=function(){Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){return Array.prototype.map.apply(Oi,Si).flat(1)}})};ki.push(Pi()),window.IntersectionObserver&&window.IntersectionObserverEntry||ki.push(Ei()),ki.push(ji()),"function"!=typeof window.queueMicrotask&&ki.push(_i()),Array.prototype.flatMap||ki.push(Ti());var Ci=Promise.all(ki);function Ai(t){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ni(r.key),r)}}function Ri(t,e,n){return e&&Li(t.prototype,e),n&&Li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ni(t){var e=xi(t,"string");return"symbol"===Ai(e)?e:String(e)}function xi(t,e){if("object"!==Ai(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Bi=Symbol("INSTANCE"),Di=Symbol("SINGELTONENFORCER"),Mi=function(){function t(e){if(Ii(this,t),e!==Di)throw new Error("Instantiation failed: Use KeyboardDetection.instance instead of new.");this.init()}return Ri(t,[{key:"init",value:function(){var t=this;this.el=document.documentElement,window.addEventListener("keydown",(function(e){return t.onKeyDown(e)})),E.a.subscribe(c.eb,(function(){return t.onMouseDown()}))}},{key:"onKeyDown",value:function(t){"Tab"!==t.key&&9!==t.keyCode||this.el.classList.add("keyboard-control")}},{key:"onMouseDown",value:function(){this.el.classList.remove("keyboard-control")}}],[{key:"instance",get:function(){return this[Bi]||(this[Bi]=new t(Di)),this[Bi]}}]),t}(),Ui=n(122),Vi=n.n(Ui);function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hi(r.key),r)}}function Gi(t,e,n){return e&&Fi(t.prototype,e),n&&Fi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hi(t){var e=Ji(t,"string");return"symbol"===qi(e)?e:String(e)}function Ji(t,e){if("object"!==qi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Wi=Symbol("INSTANCE"),Ki=Symbol("SINGELTONENFORCER"),Yi=function(){function t(e){if(zi(this,t),e!==Ki)throw new Error("Instantiation failed: Use LazyLoading.instance instead of new.");this.init()}return Gi(t,[{key:"init",value:function(){var t=this;this.lazyload=new Vi.a({elements_selector:".lazyload",use_native:!1,unobserve_entered:!0,unobserve_completed:!0}),this.lazytrigger=new Vi.a({elements_selector:".lazytrigger",use_native:!1,unobserve_entered:!0,unobserve_completed:!0,callback_enter:function(t){t.dispatchEvent(new Event("lazybeforeunveil"))},callback_loaded:function(t){t.dispatchEvent(new Event("lazyloaded"))}}),E.a.subscribe(c.Y,(function(){return t.onUpdateRequested()}))}},{key:"onUpdateRequested",value:function(){this.lazyload&&"function"==typeof this.lazyload.update&&this.lazyload.update(),this.lazytrigger&&"function"==typeof this.lazytrigger.update&&this.lazytrigger.update()}}],[{key:"instance",get:function(){return this[Wi]||(this[Wi]=new t(Ki)),this[Wi]}}]),t}();function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ta(r.key),r)}}function Zi(t,e,n){return e&&Qi(t.prototype,e),n&&Qi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ta(t){var e=ea(t,"string");return"symbol"===Xi(e)?e:String(e)}function ea(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var na=function(){function t(){$i(this,t)}return Zi(t,[{key:"execute",value:function(t){E.a.publish(c.Vb)}}]),t}();function ra(t){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ua(r.key),r)}}function aa(t,e,n){return e&&ia(t.prototype,e),n&&ia(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ua(t){var e=ca(t,"string");return"symbol"===ra(e)?e:String(e)}function ca(t,e){if("object"!==ra(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var sa=function(){function t(){oa(this,t)}return aa(t,[{key:"execute",value:function(t){E.a.publish(c.Wb)}}]),t}();function la(t){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,da(r.key),r)}}function pa(t,e,n){return e&&ya(t.prototype,e),n&&ya(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function da(t){var e=ha(t,"string");return"symbol"===la(e)?e:String(e)}function ha(t,e){if("object"!==la(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ba(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&va(t,e)}function va(t,e){return(va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ma(t){var e=Sa();return function(){var n,r=Oa(t);if(e){var o=Oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ga(this,n)}}function ga(t,e){if(e&&("object"===la(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wa(t)}function wa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ka=function(t){ba(n,t);var e=ma(n);function n(t,r){var o;return fa(this,n),(o=e.call(this))._documentId=t,o._collection=r,o}return pa(n,[{key:"id",get:function(){return Y.a}},{key:"documentId",get:function(){return this._documentId}},{key:"collection",get:function(){return this._collection}}]),n}(nt);function Pa(t){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ja(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ta(r.key),r)}}function _a(t,e,n){return e&&ja(t.prototype,e),n&&ja(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ta(t){var e=Ca(t,"string");return"symbol"===Pa(e)?e:String(e)}function Ca(t,e){if("object"!==Pa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Aa=function(){function t(){Ea(this,t)}return _a(t,[{key:"execute",value:function(t){t.documentId&&E.a.publish(c.r,t.documentId,t.collection||"article")}}]),t}();function Ia(t){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function La(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xa(r.key),r)}}function Na(t,e,n){return e&&Ra(t.prototype,e),n&&Ra(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xa(t){var e=Ba(t,"string");return"symbol"===Ia(e)?e:String(e)}function Ba(t,e){if("object"!==Ia(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ia(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Da(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ma(t,e)}function Ma(t,e){return(Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ua(t){var e=za();return function(){var n,r=Fa(t);if(e){var o=Fa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(t,e){if(e&&("object"===Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qa(t)}function qa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function za(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Fa(t){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ga=function(t){Da(n,t);var e=Ua(n);function n(t,r){var o;return La(this,n),(o=e.call(this))._documentId=t,o._collection=r,o}return Na(n,[{key:"id",get:function(){return Y.e}},{key:"documentId",get:function(){return this._documentId}},{key:"collection",get:function(){return this._collection}}]),n}(nt);function Ha(t){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ya(r.key),r)}}function Ka(t,e,n){return e&&Wa(t.prototype,e),n&&Wa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ya(t){var e=Xa(t,"string");return"symbol"===Ha(e)?e:String(e)}function Xa(t,e){if("object"!==Ha(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ha(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var $a=function(){function t(){Ja(this,t)}return Ka(t,[{key:"execute",value:function(t){t.documentId&&E.a.publish(c.x,t.documentId,t.collection||"article")}}]),t}();function Qa(t){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nu(r.key),r)}}function eu(t,e,n){return e&&tu(t.prototype,e),n&&tu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nu(t){var e=ru(t,"string");return"symbol"===Qa(e)?e:String(e)}function ru(t,e){if("object"!==Qa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ou=function(){function t(){Za(this,t)}return eu(t,[{key:"execute",value:function(t){var e=j.a.instance;t.documentId&&e.isLoggedIn&&e.hasPaidAccess&&E.a.publish(c.R,{documentId:t.documentId,documentUrl:t.documentUrl})}}]),t}();function iu(t){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,su(r.key),r)}}function cu(t,e,n){return e&&uu(t.prototype,e),n&&uu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function su(t){var e=lu(t,"string");return"symbol"===iu(e)?e:String(e)}function lu(t,e){if("object"!==iu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==iu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function fu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yu(t,e)}function yu(t,e){return(yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pu(t){var e=bu();return function(){var n,r=vu(t);if(e){var o=vu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return du(this,n)}}function du(t,e){if(e&&("object"===iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hu(t)}function hu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mu=function(t){fu(n,t);var e=pu(n);function n(t,r){var o;return au(this,n),(o=e.call(this))._link=t,o._title=r,o}return cu(n,[{key:"id",get:function(){return Y.f}},{key:"link",get:function(){return this._link}},{key:"title",get:function(){return this._title}}]),n}(nt);function gu(t){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ku(r.key),r)}}function Ou(t,e,n){return e&&Su(t.prototype,e),n&&Su(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ku(t){var e=Pu(t,"string");return"symbol"===gu(e)?e:String(e)}function Pu(t,e){if("object"!==gu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Eu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ju(t,e)}function ju(t,e){return(ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _u(t){var e=Au();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tu(this,n)}}function Tu(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cu(t)}function Cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Au(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lu=function(t){Eu(n,t);var e=_u(n);function n(t,r){var o;return wu(this,n),(o=e.call(this))._consentUUID=t,o._euconsent=r,o}return Ou(n,[{key:"id",get:function(){return Y.c}},{key:"consentUUID",get:function(){return this._consentUUID}},{key:"euconsent",get:function(){return this._euconsent}}]),n}(nt);function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Du(r.key),r)}}function Bu(t,e,n){return e&&xu(t.prototype,e),n&&xu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Du(t){var e=Mu(t,"string");return"symbol"===Ru(e)?e:String(e)}function Mu(t,e){if("object"!==Ru(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Uu=Symbol("INSTANCE"),Vu=Symbol("SINGELTONENFORCER"),qu=function(){function t(e){if(Nu(this,t),e!==Vu)throw new Error("Instantiation failed: Use Messenger.instance instead of new.");this.handlerLookup={},this.messageLookup={},this.init()}return Bu(t,[{key:"init",value:function(){this.initHandlerLookup(),this.initMessageLookup(),E.a.subscribe(c.bb,this.onMessageReceived,this),E.a.subscribe(c.cb,this.onMessageSend,this)}},{key:"initHandlerLookup",value:function(){this.handlerLookup[Y.h]=na,this.handlerLookup[Y.g]=sa,this.handlerLookup[Y.a]=Aa,this.handlerLookup[Y.e]=$a,this.handlerLookup[Y.d]=ou}},{key:"initMessageLookup",value:function(){this.messageLookup[Y.a]=ka,this.messageLookup[Y.e]=Ga,this.messageLookup[Y.c]=Lu,this.messageLookup[Y.f]=mu}},{key:"onMessageReceived",value:function(t){if(t&&t.id&&this.handlerLookup[t.id]){var e=new this.handlerLookup[t.id];"function"==typeof e.execute?e.execute(t):console.error('Messenger "'.concat(e.constructor.name,'" is missing an execute function.'))}else console.error("Messenger received invalid or unknown message.")}},{key:"onMessageSend",value:function(t){t&&t.id&&"function"==typeof t.toObject?mt.a.instance.sendMessage(t.toObject()):console.error("Messenger cannot send invalid or unknown message.")}}],[{key:"instance",get:function(){return this[Uu]||(this[Uu]=new t(Vu)),this[Uu]}}]),t}();function zu(t){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ju(r.key),r)}}function Hu(t,e,n){return e&&Gu(t.prototype,e),n&&Gu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ju(t){var e=Wu(t,"string");return"symbol"===zu(e)?e:String(e)}function Wu(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ku=function(){function t(){Fu(this,t)}return Hu(t,[{key:"execute",value:function(){K.a.isApp&&this.updateBookmark()}},{key:"updateBookmark",value:function(){var t=r.a.instance;if("article"===D.a.instance.route&&t.app&&t.app.pageContext&&t.app.pageContext.documentId&&t.app.pageContext.collection){var e=W.instance;E.a.publish(c.cb,new bt(t.app.pageContext.documentId,t.app.pageContext.collection,e.contains(t.app.pageContext.documentId,t.app.pageContext.collection)))}}}]),t}(),Yu=n(63);function Xu(t){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$u(Object(n),!0).forEach((function(e){Zu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zu(t,e,n){return(e=rc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rc(r.key),r)}}function nc(t,e,n){return e&&ec(t.prototype,e),n&&ec(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rc(t){var e=oc(t,"string");return"symbol"===Xu(e)?e:String(e)}function oc(t,e){if("object"!==Xu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ic=function(){function t(){tc(this,t),this.user=j.a.instance,this.currentUserAccess=Qu({},this.user.access),this.settings=r.a.instance,this.tcDataModel=Yu.a.instance,this.bookmarks=W.instance,this.webAudio=Ke.instance}return nc(t,[{key:"execute",value:function(t){this.user.update(),this.currentUserAccess.paid===this.user.access.paid&&this.currentUserAccess.conditional===this.user.access.conditional&&this.currentUserAccess.noAds===this.user.access.noAds?(this.currentUserAccess=Qu({},this.user.access),K.a.isApp?window.navigator.webBridge.globalFontsize(mt.a.instance.appFontSize):this.webAudio.reloadLocaLStorage(),!this.user.hasNoAdsAccess&&this.tcDataModel.ready&&ai.instance.reloadAllAds(),this.bookmarks.reloadLocaLStorage(),this.tcDataModel.updateTCData()):window.location.reload()}}]),t}();function ac(t){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lc(r.key),r)}}function sc(t,e,n){return e&&cc(t.prototype,e),n&&cc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lc(t){var e=fc(t,"string");return"symbol"===ac(e)?e:String(e)}function fc(t,e){if("object"!==ac(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var yc=function(){function t(){uc(this,t)}return sc(t,[{key:"execute",value:function(t){var e=t.to,n=t.subject,r=t.body,o=Dr.a.getMailtoUrl(e,n,r);o&&(window.location.href=o)}}]),t}();function pc(t){return(pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vc(r.key),r)}}function bc(t,e,n){return e&&hc(t.prototype,e),n&&hc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vc(t){var e=mc(t,"string");return"symbol"===pc(e)?e:String(e)}function mc(t,e){if("object"!==pc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var gc=Symbol("INSTANCE"),wc=Symbol("SINGELTONENFORCER"),Sc=function(){function t(e){if(dc(this,t),e!==wc)throw new Error("Instantiation failed: Use TriggerHandler.instance instead of new.");this.init()}return bc(t,[{key:"init",value:function(){this.registerEventHandlers()}},{key:"registerEventHandlers",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(c.Xb,this.onAccountTriggered,this),window.polygon.componentLoader.subscribe(c.Yb,this.onLoginTriggered,this),window.polygon.componentLoader.subscribe(c.Zb,this.onLogoutTriggered,this),window.polygon.componentLoader.subscribe(c.bc,this.onRegisterTriggered,this),window.polygon.componentLoader.subscribe(c.ac,this.onOfferTriggered,this),window.polygon.componentLoader.subscribe(c.cc,this.onRestorePurchasesTriggered,this))}},{key:"onAccountTriggered",value:function(){if(K.a.isApp){mt.a.instance.triggerAccount()}else{var t=r.a.instance.urls;t&&t.user&&t.user.account&&window.location.assign(t.user.account)}}},{key:"onLoginTriggered",value:function(t){var e=t.targetUrl;if(K.a.isApp){mt.a.instance.triggerLogin({targetUrl:e})}else{var n=r.a.instance.urls;if(n&&n.user&&n.user.login){var o=new URL(n.user.login);e&&o.searchParams.set("targetUrl",e),window.location.assign(o.href)}}}},{key:"onLogoutTriggered",value:function(){if(K.a.isApp){mt.a.instance.triggerLogout()}else{var t=r.a.instance.urls;t&&t.user&&t.user.logout&&window.location.assign(t.user.logout)}}},{key:"onRegisterTriggered",value:function(t){var e=t.targetUrl;if(K.a.isApp){mt.a.instance.triggerRegister({targetUrl:e})}else{var n=r.a.instance.urls;if(n&&n.user&&n.user.register){var o=new URL(n.user.register);e&&o.searchParams.set("targetUrl",e),window.location.assign(o.href)}}}},{key:"onOfferTriggered",value:function(t){var e=t.product,n=t.targetUrl;if(e)if(K.a.isApp){mt.a.instance.triggerInAppPurchase({product:e})}else{var o=r.a.instance.urls;if(o&&o.offers&&o.offers[e]){var i=new URL(o.offers[e]);if(n)i.searchParams.set("targetUrl",n);else{var a=new URLSearchParams(window.location.search);(n=a.get("targetUrl")?decodeURIComponent(a.get("targetUrl")):void 0)&&i.searchParams.set("targetUrl",n)}window.location.assign(i.href)}}}},{key:"onRestorePurchasesTriggered",value:function(t){var e=t.targetUrl;if(K.a.isApp){if(!e){var n=new URLSearchParams(window.location.search);e=n.get("targetUrl")?decodeURIComponent(n.get("targetUrl")):void 0}mt.a.instance.triggerRestorePurchases({targetUrl:e})}}}],[{key:"instance",get:function(){return this[gc]||(this[gc]=new t(wc)),this[gc]}}]),t}();n(108),n(231);function Oc(t){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jc(r.key),r)}}function Ec(t,e,n){return e&&Pc(t.prototype,e),n&&Pc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jc(t){var e=_c(t,"string");return"symbol"===Oc(e)?e:String(e)}function _c(t,e){if("object"!==Oc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Tc(){return(Tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Cc(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uc(t)););return t}function Ac(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mc(t,e)}function Ic(t){var e=Bc();return function(){var n,r=Uc(t);if(e){var o=Uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lc(this,n)}}function Lc(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rc(t)}function Rc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nc(t){var e="function"==typeof Map?new Map:void 0;return(Nc=function(t){if(null===t||!Dc(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return xc(t,arguments,Uc(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mc(n,t)})(t)}function xc(t,e,n){return(xc=Bc()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Mc(o,n.prototype),o}).apply(null,arguments)}function Bc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dc(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function Mc(t,e){return(Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vc="WEB_AUDIO_EVENT",qc="WEB_AUDIO_EVENT_CLIP",zc="WEB_AUDIO_EVENT_CLEAR",Fc="WEB_AUDIO_EVENT_PLAY",Gc="WEB_AUDIO_EVENT_PAUSE",Hc="WEB_AUDIO_EVENT_RESUME",Jc="WEB_AUDIO_EVENT_END",Wc="WEB_AUDIO_EVENT_TIME",Kc="WEB_AUDIO_EVENT_PLAYBACK_RATE",Yc="WEB_AUDIO_EVENT_VOLUME",Xc=function(t){Ac(n,t);var e=Ic(n);function n(){var t;return kc(this,n),(t=e.call(this)).state=null,t.isInitialized=!1,t.isPlayPending=!0,t.init(),t}return Ec(n,[{key:"init",value:function(){var t=this,e=Ke.instance;e&&(this.state={mode:e.mode,clip:e.clip?JSON.parse(JSON.stringify(e.clip)):null,isPaused:e.isPaused,isEnded:e.isEnded,currentTime:e.currentTime,duration:e.duration,playbackRate:e.playbackRate,volume:e.volume},i.a.effect((function(){return t.onUpdateMode(e.mode)})),i.a.effect((function(){return t.onUpdateClip(e.clip)})),i.a.effect((function(){return t.onUpdateIsPaused(e.isPaused)})),i.a.effect((function(){return t.onUpdateIsEnded(e.isEnded)})),i.a.effect((function(){return t.onUpdateDuration(e.duration)})),i.a.effect((function(){return t.onUpdateCurrentTime(e.currentTime)})),i.a.effect((function(){return t.onUpdatePlaybackRate(e.playbackRate)})),i.a.effect((function(){return t.onUpdateVolume(e.volume)})),this.isInitialized=!0)}},{key:"onUpdateMode",value:function(t){this.state.mode=t}},{key:"onUpdateClip",value:function(t){this.state.clip=t?JSON.parse(JSON.stringify(t)):null,this.isPlayPending=!0,t?this.dispatchWebAudioEvent(qc):this.dispatchWebAudioEvent(zc)}},{key:"onUpdateIsPaused",value:function(t){this.state.isPaused=!!t,t?this.dispatchWebAudioEvent(Gc):this.isPlayPending?(this.dispatchWebAudioEvent(Fc),this.isPlayPending=!1):this.dispatchWebAudioEvent(Hc)}},{key:"onUpdateIsEnded",value:function(t){this.state.isEnded=!!t,t&&this.dispatchWebAudioEvent(Jc)}},{key:"onUpdateDuration",value:function(t){this.state.duration=t}},{key:"onUpdateCurrentTime",value:function(t){this.state.currentTime=t,this.dispatchWebAudioEvent(Wc)}},{key:"onUpdatePlaybackRate",value:function(t){this.state.playbackRate=t,this.dispatchWebAudioEvent(Kc)}},{key:"onUpdateVolume",value:function(t){this.state.volume=t,this.dispatchWebAudioEvent(Yc)}},{key:"dispatchWebAudioEvent",value:function(t){if(this.isInitialized){var e=Object.assign(this.state,{action:t});Tc(Uc(n.prototype),"dispatchEvent",this).call(this,new CustomEvent(Vc,{detail:e}))}}}]),n}(Nc(EventTarget));function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,es(r.key),r)}}function ts(t,e,n){return e&&Zc(t.prototype,e),n&&Zc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function es(t){var e=ns(t,"string");return"symbol"===$c(e)?e:String(e)}function ns(t,e){if("object"!==$c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var rs=Symbol("INSTANCE"),os=Symbol("SINGELTONENFORCER"),is=function(){function t(e){if(Qc(this,t),e!==os)throw new Error("Instantiation failed: Use UserCapping.instance instead of new.");this.init()}return ts(t,[{key:"init",value:function(){var t=this,e=r.a.instance.warden||{},o=!!e.enabled,i=j.a.instance,a=i.hasPaidAccess,u=i.hasNoAdsAccess,s=i.userId,l=i.sessionLimit;o&&s&&l&&(a||u)&&Promise.all([n.e(0),n.e(8)]).then(n.bind(null,318)).then((function(n){var o=n.default,i=n.WARDEN_LIMIT_EXCEEDED,a=n.WARDEN_LIMIT_OK;t.warden=new o({baseUrl:e.baseUrl||"",site:r.a.instance.domain||"",userId:s,limit:l}),t.warden.addEventListener(i,t.onWardenLimitExceeded),t.warden.addEventListener(a,t.onWardenLimitOk),E.a.subscribe(c.ec,t.onUserCappingAllow,t)})).catch((function(t){console.warn("error loading Warden:",t)}))}},{key:"onWardenLimitExceeded",value:function(){E.a.publish(c.fc)}},{key:"onWardenLimitOk",value:function(){E.a.publish(c.gc)}},{key:"onUserCappingAllow",value:function(){this.warden&&"function"==typeof this.warden.allow&&this.warden.allow()}}],[{key:"instance",get:function(){return this[rs]||(this[rs]=new t(os)),this[rs]}}]),t}();n(123),n(213),n(148),n(69);function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ls(r.key),r)}}function ss(t,e,n){return e&&cs(t.prototype,e),n&&cs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ls(t){var e=fs(t,"string");return"symbol"===as(e)?e:String(e)}function fs(t,e){if("object"!==as(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==as(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ys=Symbol("INSTANCE"),ps=Symbol("SINGELTONENFORCER"),ds=function(){function t(e){if(us(this,t),e!==ps)throw new Error("Instantiation failed: Use LanguageModel.instance instead of new.");this.init()}return ss(t,[{key:"init",value:function(){window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(c.W,this.onSwitchLanguageTriggered,this)}},{key:"determineLanguage",value:function(){var t=_r.a.getItem(_.i.lang.name),e=navigator.language.slice(0,2),n=t;n||(n="de"===e?"de":"en"),this._language=n}},{key:"onSwitchLanguageTriggered",value:function(t){t&&(this.language=t)}},{key:"language",get:function(){return this._language||this.determineLanguage(),this._language},set:function(t){return this._language===t||(_r.a.setItem(_.i.lang.name,t)||console.warn("LanguageModel: Unable to store new language value permantly because sessionStorage is not available"),this._language=t,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(c.V,this._language)),this._language}}],[{key:"instance",get:function(){return this[ys]||(this[ys]=new t(ps)),this[ys]}}]),t}();function hs(t){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gs(r.key),r)}}function ms(t,e,n){return e&&vs(t.prototype,e),n&&vs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gs(t){var e=ws(t,"string");return"symbol"===hs(e)?e:String(e)}function ws(t,e){if("object"!==hs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==hs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ss(){return(Ss="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Os(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Os(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cs(t)););return t}function ks(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ps(t,e)}function Ps(t,e){return(Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Es(t){var e=Ts();return function(){var n,r=Cs(t);if(e){var o=Cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return js(this,n)}}function js(t,e){if(e&&("object"===hs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _s(t)}function _s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ts(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var As=function(t){ks(n,t);var e=Es(n);function n(){var t;bs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).localizationProto=t.el.innerHTML,t.localizationSettings=JSON.parse(t.data.localizationSettings),t.defaultLanguage=t.localizationSettings.defaultLanguage||"de",t.fallbackLanguage=t.localizationSettings.fallbackLanguage||"de",t.language=ds.instance.language,t.localizedFields=(t.localizationProto.match(/#?__localized_((\w|:)*)__/g)||[]).map((function(t){return t.split(/__(localized_)?/g)[2]})).filter((function(t,e,n){return n.indexOf(t)===e})),t._localize(),t.initSwitchLanguageButton(),t}return ms(n,[{key:"_renderPrototype",value:function(t,e){var n=this,r=this.localizationProto;return Object.keys(this.localizedFields).forEach((function(o){var i=n.localizedFields[o];if(i){var a=i.split(":")[0],u=i.split(":")[1],c=void 0!==t[a]?t[a]:e[a];u&&(c=c[u]),r=r.replace(new RegExp("__localized_".concat(i,"__"),"g"),c)}})),r}},{key:"_localize",value:function(){var t=this,e=this.localizationSettings.labels,n=Object.keys(e),r=this.language,o=e[this.fallbackLanguage];n.includes(this.language)||(r=this.defaultLanguage),this.language=r;var i=e[r],a=this._renderPrototype(i,o);this.el.textContent="",this.el.insertAdjacentHTML("afterbegin",a),Array.from(this.el.querySelectorAll("[data-localized-href]")).forEach((function(t){t.getAttribute("data-localized-href")&&(t.setAttribute("href",t.getAttribute("data-localized-href")),t.removeAttribute("data-localized-href"))})),this.boundOnComponentLoaderScanFinished=function(){return t.onComponentLoaderScanFinished()},this.subscribe(c.L,this.boundOnComponentLoaderScanFinished),window.polygon.componentLoader.scan()}},{key:"onComponentLoaderScanFinished",value:function(){this.unsubscribe(c.L,this.boundOnComponentLoaderScanFinished),this.onLocalized()}},{key:"onSwitchLanguageTriggered",value:function(){}},{key:"onLocalized",value:function(){}},{key:"initSwitchLanguageButton",value:function(){if(this.switchLanguageButton=this.el.querySelector('[data-localization-el="switchLanguageButton"]'),this.switchLanguageButton)try{window.sessionStorage;this.switchLanguageButton.addEventListener("click",this.onSwitchLanguageButtonClicked.bind(this))}catch(t){this.switchLanguageButton.remove()}}},{key:"onSwitchLanguageButtonClicked",value:function(t){t.preventDefault();var e="de"===this.language?"en":"de";this.switchLanguage(e)}},{key:"switchLanguage",value:function(t){this.onSwitchLanguageTriggered();try{ds.instance.language=t}catch(t){return void console.warn(t.message)}window.location.reload()}},{key:"destroy",value:function(){Ss(Cs(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function Is(t){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xs(r.key),r)}}function Ns(t,e,n){return e&&Rs(t.prototype,e),n&&Rs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xs(t){var e=Bs(t,"string");return"symbol"===Is(e)?e:String(e)}function Bs(t,e){if("object"!==Is(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ds=Symbol("INSTANCE"),Ms=Symbol("SINGELTONENFORCER"),Us=function(){function t(e){if(Ls(this,t),e!==Ms)throw new Error("Instantiation failed: Use SourcepointModel.instance instead of new.");this.init()}return Ns(t,[{key:"init",value:function(){this.message="",this.errorOccurred=!1}}],[{key:"instance",get:function(){return this[Ds]||(this[Ds]=new t(Ms)),this[Ds]}}]),t}();function Vs(t){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gs(r.key),r)}}function Fs(t,e,n){return e&&zs(t.prototype,e),n&&zs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gs(t){var e=Hs(t,"string");return"symbol"===Vs(e)?e:String(e)}function Hs(t,e){if("object"!==Vs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Js(){return(Js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ws(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Ws(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tl(t)););return t}function Ks(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ys(t,e)}function Ys(t,e){return(Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xs(t){var e=Zs();return function(){var n,r=tl(t);if(e){var o=tl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $s(this,n)}}function $s(t,e){if(e&&("object"===Vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qs(t)}function Qs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function tl(t){return(tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var el="STATE_DEFAULT",nl="STATE_LOADING",rl="STATE_ERROR",ol=function(t){Ks(n,t);var e=Xs(n);function n(){return qs(this,n),e.apply(this,arguments)}return Fs(n,[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){this.settings=JSON.parse(this.data.settings),this.message=this.el.querySelector('[data-adblock-el="message"]'),this.loader=this.el.querySelector('[data-adblock-el="loader"]'),this.focusTrap=this.el.querySelector('[data-adblock-el="focusTrap"]'),this.whitelistButton=this.el.querySelector('[data-adblock-el="whitelistButton"]'),this.continueWithAdblockerButton=this.el.querySelector('[data-adblock-el="continueWithAdblockerButton"]'),this.loginLink=this.el.querySelector('[data-adblock-el="loginLink"]'),this.switchLanguageElement=this.el.querySelector('[data-adblock-el="switchLanguageElement"]'),this.isInitialized=!1,this.hasErrorOccurred=!1,this.state=nl,this.subscribe(c.Ab,this.onError,this),this.subscribe(c.Cb,this.onSourcepointMessageReceived,this),this.initContinueWithAdblockerButton(),this.initWhitelistButton(),"adblock-api"===Us.instance.message&&this.onInitialized()}},{key:"initContinueWithAdblockerButton",value:function(){var t=this;this.continueWithAdblockerButton&&this.continueWithAdblockerButton.addEventListener("click",(function(e){t.onContinueWithAdblockerButtonClicked(e)}))}},{key:"initWhitelistButton",value:function(){var t=this;this.whitelistButton&&this.whitelistButton.addEventListener("click",(function(e){t.onWhitelistButtonClicked(e)}))}},{key:"onContinueWithAdblockerButtonClicked",value:function(t){t.preventDefault(),this.publish(c.Jb,_.n.continue_with_adblocker),this.el.classList.add("hidden"),this.publish(c.kb,this),this.state=nl,this.publish(c.c)}},{key:"onWhitelistButtonClicked",value:function(t){t.preventDefault(),this.hasErrorOccurred?this.state=rl:(this.publish(c.Jb,_.n.whitelist_instructions_viewed,this.language),this.state=nl)}},{key:"onInitialized",value:function(){var t=this;this.isInitialized=!0,this.el.classList.remove("hidden"),this.focusTrap&&window.requestAnimationFrame((function(){t.focusTrap.focus()})),this.publish(c.mb,this),this.state=el,this.publish(c.d)}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state=rl:(this.state=el,this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"adblock-api"===t&&this.onInitialized()}},{key:"preventScrolling",get:function(){return!0}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case nl:E.a.toggleElementVisibility(this.message,!1),E.a.toggleElementVisibility(this.loader,!0),E.a.toggleElementVisibility(this.switchLanguageElement,!1);break;case rl:E.a.toggleElementVisibility(this.message,!1),E.a.toggleElementVisibility(this.loader,!0),E.a.toggleElementVisibility(this.switchLanguageElement,!0);break;case el:default:E.a.toggleElementVisibility(this.message,!0),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.switchLanguageElement,!0)}}},{key:"destroy",value:function(){Js(tl(n.prototype),"destroy",this).call(this)}}]),n}(As);function il(t){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sl(r.key),r)}}function cl(t,e,n){return e&&ul(t.prototype,e),n&&ul(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sl(t){var e=ll(t,"string");return"symbol"===il(e)?e:String(e)}function ll(t,e){if("object"!==il(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function fl(){return(fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yl(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function yl(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gl(t)););return t}function pl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dl(t,e)}function dl(t,e){return(dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hl(t){var e=ml();return function(){var n,r=gl(t);if(e){var o=gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(t,e){if(e&&("object"===il(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vl(t)}function vl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ml(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function gl(t){return(gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wl=function(t){pl(n,t);var e=hl(n);function n(){var t;al(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if((t=e.call.apply(e,[this].concat(o))).isAdobeLaunchDisabled)return bl(t);if(window.adobe&&window.adobe.target)t.publish(c.e);else{t.el.onload=function(){t.publish(c.e)};var a=t.el.getAttribute("data-src");a&&t.el.setAttribute("src",a)}return t}return cl(n,[{key:"isAdobeLaunchDisabled",get:function(){return r.a.instance.endToEndTestEnabled&&Ue.a.isAutomated}},{key:"destroy",value:function(){fl(gl(n.prototype),"destroy",this).call(this)}}]),n}(a.Component),Sl=n(41),Ol=n.n(Sl);function kl(t){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function El(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_l(r.key),r)}}function jl(t,e,n){return e&&El(t.prototype,e),n&&El(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _l(t){var e=Tl(t,"string");return"symbol"===kl(e)?e:String(e)}function Tl(t,e){if("object"!==kl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Cl=Symbol("INSTANCE"),Al=Symbol("SINGELTONENFORCER"),Il=function(){function t(e){if(Pl(this,t),e!==Al)throw new Error("Instantiation failed: Use AffiliateConsent.instance instead of new.");this.init()}return jl(t,[{key:"init",value:function(){var t=Ol.a.get(_.i.affiliateConsent.name);this._accepted="true"===t}},{key:"eventName",get:function(){return c.h}},{key:"accepted",get:function(){return this._accepted},set:function(t){return this._accepted===t||(Ol.a.set(_.i.affiliateConsent.name,t,{expires:_.i.affiliateConsent.expires}),this._accepted=t,E.a.publish(c.h,{accepted:t})),this._accepted}}],[{key:"instance",get:function(){return this[Cl]||(this[Cl]=new t(Al)),this[Cl]}}]),t}();function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bl(r.key),r)}}function xl(t,e,n){return e&&Nl(t.prototype,e),n&&Nl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bl(t){var e=Dl(t,"string");return"symbol"===Ll(e)?e:String(e)}function Dl(t,e){if("object"!==Ll(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ml(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}function Ul(t,e){return(Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vl(t){var e=Fl();return function(){var n,r=Gl(t);if(e){var o=Gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ql(this,n)}}function ql(t,e){if(e&&("object"===Ll(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zl(t)}function zl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gl(t){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hl="STATE_ACCEPTED",Jl="STATE_REJECTED",Wl=function(t){Ml(n,t);var e=Vl(n);function n(){var t;Rl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.boundOnConsentChanged=function(e){return t.onConsentChanged(e)},t.subscribe(c.h,t.boundOnConsentChanged),t.state=t.isConsentVerified?Hl:Jl,t}return xl(n,[{key:"onConsentChanged",value:function(t){t.accepted?this.state=Hl:(this.state=Jl,window.location.reload(!0))}},{key:"isConsentVerified",get:function(){return!this.settings.requireConsent||this.settings.requireConsent&&Il.instance.accepted}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,t===Hl&&E.a.toggleElementVisibility(this.el,!0)}},{key:"destroy",value:function(){this.unsubscribe(c.h,this.boundOnConsentChanged)}}]),n}(a.Component);function Kl(t){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ql(r.key),r)}}function $l(t,e,n){return e&&Xl(t.prototype,e),n&&Xl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ql(t){var e=Zl(t,"string");return"symbol"===Kl(e)?e:String(e)}function Zl(t,e){if("object"!==Kl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function tf(){return(tf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ef(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ef(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sf(t)););return t}function nf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}function rf(t,e){return(rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function of(t){var e=cf();return function(){var n,r=sf(t);if(e){var o=sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return af(this,n)}}function af(t,e){if(e&&("object"===Kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uf(t)}function uf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sf(t){return(sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lf="STATE_ACCEPTED",ff="STATE_REJECTED",yf=function(t){nf(n,t);var e=of(n);function n(){var t;Yl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.boundOnLazyloaded=function(e){return t.onLazyloaded(e)},t.subscribe(c.h,t.onConsentChanged,uf(t)),t.el.addEventListener("lazybeforeunveil",t.boundOnLazyloaded),t.state=t.isConsentVerified?lf:ff,t}return $l(n,[{key:"onConsentChanged",value:function(t){t.accepted?this.state=lf:(this.state=ff,window.location.reload(!0))}},{key:"onLazyloaded",value:function(t){t.target===this.el&&this.publish(c.X,this.settings.provider)}},{key:"isConsentVerified",get:function(){return!this.settings.requireConsent||this.settings.requireConsent&&Il.instance.accepted}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,t===lf&&E.a.toggleElementVisibility(this.el,!0)}},{key:"destroy",value:function(){this.unsubscribe(c.h,this.onConsentChanged),this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyloaded),tf(sf(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function pf(t){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vf(r.key),r)}}function bf(t,e,n){return e&&hf(t.prototype,e),n&&hf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vf(t){var e=mf(t,"string");return"symbol"===pf(e)?e:String(e)}function mf(t,e){if("object"!==pf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function gf(){return(gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=wf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function wf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_f(t)););return t}function Sf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}function Of(t,e){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kf(t){var e=jf();return function(){var n,r=_f(t);if(e){var o=_f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pf(this,n)}}function Pf(t,e){if(e&&("object"===pf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ef(t)}function Ef(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _f(t){return(_f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tf=function(t){Sf(n,t);var e=kf(n);function n(){var t;df(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).tcDataModel=Yu.a.instance,t.requiredPurposeIds=[],t.requiredVendorIds=[],t._src="",t.isSrcInitialized=!1,t}return bf(n,[{key:"addRequiredPurpose",value:function(t){t&&this.requiredPurposeIds.push(t)}},{key:"addRequiredVendor",value:function(t){t&&this.requiredVendorIds.push(t)}},{key:"loadSrc",value:function(){var t=!(!r.a.instance.consent||"boolean"!=typeof r.a.instance.consent.globallyDisabled)&&r.a.instance.consent.globallyDisabled;r.a.instance.preview||this.consentVerified||t&&0===this.requiredPurposeIds.length&&0===this.requiredVendorIds.length?this.initSrc():this.subscribe(c.Ob,this.onAbstractTCDataChanged)}},{key:"onAbstractTCDataChanged",value:function(){this.consentVerified&&!this.isSrcInitialized&&this.initSrc()}},{key:"initSrc",value:function(){!this.isSrcInitialized&&this.src&&this.scriptEl&&!this.scriptEl.getAttribute("src")&&(this.isSrcInitialized=!0,this.scriptEl.setAttribute("src",this.src))}},{key:"requiredPurposesVerified",get:function(){for(var t=0;t<this.requiredPurposeIds.length;t++){var e=this.requiredPurposeIds[t];if(!this.tcDataModel.isPurposeGranted(e))return!1}return!0}},{key:"requiredVendorsVerified",get:function(){for(var t=0;t<this.requiredVendorIds.length;t++){var e=this.requiredVendorIds[t];if(!this.tcDataModel.isVendorGranted(e))return!1}return!0}},{key:"consentVerified",get:function(){return this.tcDataModel.ready&&this.requiredPurposesVerified&&this.requiredVendorsVerified}},{key:"src",get:function(){if(this._src)return this._src;var t=this.scriptEl.getAttribute("data-src");return t?(this._src=t,this._src):""}},{key:"scriptEl",get:function(){return this.el}},{key:"destroy",value:function(){gf(_f(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function Cf(t){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Af(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function If(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rf(r.key),r)}}function Lf(t,e,n){return e&&If(t.prototype,e),n&&If(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rf(t){var e=Nf(t,"string");return"symbol"===Cf(e)?e:String(e)}function Nf(t,e){if("object"!==Cf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Cf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bf(t,e)}function Bf(t,e){return(Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Df(t){var e=Vf();return function(){var n,r=qf(t);if(e){var o=qf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mf(this,n)}}function Mf(t,e){if(e&&("object"===Cf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uf(t)}function Uf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qf(t){return(qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zf=function(t){xf(n,t);var e=Df(n);function n(){var t;Af(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).scriptElement=t.el.querySelector('[data-source-el="script"]'),t.stylesElement=t.el.querySelector('[data-source-el="styles"]'),t.scriptLoaded=!1,t.stylesLoaded=!1,t.isLoaded=!1,t.boundOnSourceRequested=function(){return t.onSourceRequested()},t.boundOnScriptElementLoaded=function(){return t.onScriptElementLoaded()},t.boundOnStylesElementLoaded=function(){return t.onStylesElementLoaded()},t.subscribe(c.i,t.boundOnSourceRequested),t}return Lf(n,[{key:"onSourceRequested",value:function(){this.isLoaded||this.isSrcInitialized||this.initSrc()}},{key:"initSrc",value:function(){this.isSrcInitialized=!0,this.scriptElement.addEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.addEventListener("load",this.boundOnStylesElementLoaded),this.scriptElement.src=this.scriptElement.dataset.src,this.stylesElement.href=this.stylesElement.dataset.href}},{key:"onScriptElementLoaded",value:function(){this.scriptLoaded=!0,this.stylesLoaded&&this.onLoaded()}},{key:"onStylesElementLoaded",value:function(){this.stylesLoaded=!0,this.scriptLoaded&&this.onLoaded()}},{key:"onLoaded",value:function(){this.isLoaded=!0,this.scriptElement.removeEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.removeEventListener("load",this.boundOnStylesElementLoaded)}}]),n}(Tf);function Ff(t){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wf(r.key),r)}}function Jf(t,e,n){return e&&Hf(t.prototype,e),n&&Hf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wf(t){var e=Kf(t,"string");return"symbol"===Ff(e)?e:String(e)}function Kf(t,e){if("object"!==Ff(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ff(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Yf(){return(Yf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Xf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Xf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ry(t)););return t}function $f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qf(t,e)}function Qf(t,e){return(Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zf(t){var e=ny();return function(){var n,r=ry(t);if(e){var o=ry(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ty(this,n)}}function ty(t,e){if(e&&("object"===Ff(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ey(t)}function ey(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ny(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ry(t){return(ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oy=function(t){$f(n,t);var e=Zf(n);function n(){var t;Gf(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))).settings=t.data.settings?JSON.parse(t.data.settings):{},t.params=t.settings.params||{};var a=K.a.isApp;return(a||t.settings.href)&&(t.boundClickListener=function(e){e.preventDefault(),t.onClick()},t.el.addEventListener("click",t.boundClickListener)),t}return Jf(n,[{key:"onClick",value:function(){K.a.isApp?this.triggerAppAction():this.settings.href&&this.triggerRedirect()}},{key:"triggerAppAction",value:function(){var t=this;if(this.settings.action||!this.el.hasAttribute("disabled")){var e=mt.a.instance;"function"==typeof e[this.settings.action]&&(e[this.settings.action](this.params),"triggerDownload"===this.settings.action&&(this.el.setAttribute("disabled",""),setTimeout((function(){t.el.removeAttribute("disabled")}),2e3)))}}},{key:"triggerRedirect",value:function(){if(this.settings.href){var t=new URL(this.settings.href);if(!t.searchParams.has("targetUrl")){var e=new URLSearchParams(window.location.search),n=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0;n&&t.searchParams.set("targetUrl",n)}window.location.replace(t.href)}}},{key:"destroy",value:function(){this.boundClickListener&&(this.el.removeEventListener("click",this.boundClickListener),this.boundClickListener=null),Yf(ry(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function iy(t){return(iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ay(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sy(r.key),r)}}function cy(t,e,n){return e&&uy(t.prototype,e),n&&uy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sy(t){var e=ly(t,"string");return"symbol"===iy(e)?e:String(e)}function ly(t,e){if("object"!==iy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==iy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function fy(){return(fy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yy(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function yy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gy(t)););return t}function py(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return(dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hy(t){var e=my();return function(){var n,r=gy(t);if(e){var o=gy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return by(this,n)}}function by(t,e){if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vy(t)}function vy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function my(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function gy(t){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wy=function(t){py(n,t);var e=hy(n);function n(){var t;ay(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).dataSettings=t.data&&t.data.settings&&JSON.parse(t.data.settings)||{},t.init(),t}return cy(n,[{key:"init",value:function(){var t=K.a.isApp,e=K.a.isAndroidApp,n=K.a.isIOSApp,r=this.el.querySelector('[data-appupdate-el="appStoreBadge"]'),o=this.el.querySelector('[data-appupdate-el="playStoreBadge"]');t?(n&&r&&r.classList.remove("hidden"),e&&o&&o.classList.remove("hidden")):(r&&r.classList.remove("hidden"),o&&o.classList.remove("hidden"))}},{key:"destroy",value:function(){fy(gy(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function Sy(t){return(Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ey(r.key),r)}}function Py(t,e,n){return e&&ky(t.prototype,e),n&&ky(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ey(t){var e=jy(t,"string");return"symbol"===Sy(e)?e:String(e)}function jy(t,e){if("object"!==Sy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _y(){return(_y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ty(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Ty(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xy(t)););return t}function Cy(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return(Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Iy(t){var e=Ny();return function(){var n,r=xy(t);if(e){var o=xy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ly(this,n)}}function Ly(t,e){if(e&&("object"===Sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ry(t)}function Ry(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ny(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function xy(t){return(xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var By=function(t){Cy(n,t);var e=Iy(n);function n(){var t;Oy(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).settings=r.a.instance,t.basePath=t.settings.urls&&"string"==typeof t.settings.urls.base?t.settings.urls.base:window.location.origin,t.dataSettings=t.data&&t.data.settings&&JSON.parse(t.data.settings)||{},!Ue.a.isAndroid&&!Ue.a.isIOS||K.a.isApp?t.redirectToHomepage():t.redirectToAppStore(),t}return Py(n,[{key:"redirectToHomepage",value:function(){var t=new URL(this.basePath),e=void 0,n=new URLSearchParams(window.location.search);n.has("ref")&&(e=decodeURIComponent(n.get("ref"))),t.searchParams.set("from","404"),e&&t.searchParams.set("ref",e),window.location.replace(t.href)}},{key:"redirectToAppStore",value:function(){var t=void 0;Ue.a.isAndroid?t=this.dataSettings.androidStoreUrl:Ue.a.isIOS&&(t=this.dataSettings.iosStoreUrl),t&&window.location.replace(t)}},{key:"destroy",value:function(){_y(xy(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);n(150);function Dy(t){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function My(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qy(r.key),r)}}function Vy(t,e,n){return e&&Uy(t.prototype,e),n&&Uy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qy(t){var e=zy(t,"string");return"symbol"===Dy(e)?e:String(e)}function zy(t,e){if("object"!==Dy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Fy=function(){function t(){My(this,t)}return Vy(t,null,[{key:"isEqual",value:function(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new Error("ArrayUtils isEqual: Missing or malformed parameters, expected two Arrays");if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}]),t}(),Gy=n(103),Hy=n(104);function Jy(t){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wy(Object(n),!0).forEach((function(e){Yy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yy(t,e,n){return(e=Zy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zy(r.key),r)}}function Qy(t,e,n){return e&&$y(t.prototype,e),n&&$y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zy(t){var e=tp(t,"string");return"symbol"===Jy(e)?e:String(e)}function tp(t,e){if("object"!==Jy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ep(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}function np(t,e){return(np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rp(t){var e=ap();return function(){var n,r=up(t);if(e){var o=up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return op(this,n)}}function op(t,e){if(e&&("object"===Jy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ap(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function up(t){return(up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cp="STATE_LOADING",sp="STATE_EMPTY",lp="STATE_ERROR",fp="STATE_DEFAULT",yp=3,pp=function(t){ep(n,t);var e=rp(n);function n(){var t;Xy(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),j.a.instance.isLoggedIn?(t.dataSettings=t.data.settings?JSON.parse(t.data.settings):{},t.collection=t.dataSettings.collection,t.documentIds=[],t.teaserLookup={},t.bookmarks=W.instance,t.content=t.el.querySelector('[data-bookmarkscardsslider-el="content"]'),t.teaserlist=t.el.querySelector('[data-bookmarkscardsslider-el="teaserlist"]'),t.loader=t.el.querySelector('[data-bookmarkscardsslider-el="loader"]'),t.loaderOverlay=t.el.querySelector('[data-bookmarkscardsslider-el="loader-overlay"]'),t.emptyState=t.el.querySelector('[data-bookmarkscardsslider-el="emptyState"]'),t.error=t.el.querySelector('[data-bookmarkscardsslider-el="error"]'),t.state=cp,t.subscribe(c.y,t.onBookmarksError),t.bookmarks.isInitialized?t.init():t.subscribe(c.z,t.init),t):op(t)}return Qy(n,[{key:"init",value:function(){var t=this;this.subscribe(c.t,(function(){return t.refresh()})),this.subscribe(c.u,(function(){return t.refresh()})),this.subscribe(c.s,(function(){return t.refresh()})),this.subscribe(c.D,(function(){return t.refresh()})),this.refresh()}},{key:"onBookmarksError",value:function(t){t&&t.collection&&t.collection!==this.collection||(!t||t.type!==_.a&&t.type!==_.b?this.state!==fp&&(this.state=lp):this.refresh())}},{key:"refresh",value:function(){var t=this,e=this.bookmarks.documentIds.length,n=this.bookmarks.documentIds.length>yp?this.bookmarks.documentIds.length-yp:0,r=this.bookmarks.documentIds.slice(n,e);if(r.reverse(),Fy.isEqual(r,this.documentIds)&&this.state===fp)return Promise.resolve();this.state=cp,this.documentIds=r;var o=this.documentIds.filter((function(e){return!t.teaserLookup[e]}));return 0===o.length?(this.updateView(),Promise.resolve()):Hy.a.instance.getTeasersByIds(o).then((function(e){return e.success?(Array.isArray(e.teasers)&&e.teasers.length&&e.teasers.forEach((function(e){if(e.id){var n=Ky({},e);t.dataSettings.fallbackImageSrc&&(n.imageSrc=t.dataSettings.fallbackImageSrc),t.teaserLookup[n.id]=n}})),t.updateView(),Promise.resolve()):o.length<t.documentIds.length?(t.updateView(),Promise.resolve()):(t.state=lp,Promise.reject())}))}},{key:"updateView",value:function(){var t=this,e=this.documentIds.filter((function(e){return!t.teaserLookup[e]})),n=this.documentIds&&this.documentIds.length&&e.length<this.documentIds.length;this.state=n?fp:sp,this.renderTeasers()}},{key:"renderTeasers",value:function(){var t=this;this.teaserlist.innerHTML="",this.documentIds.forEach((function(e,n){var r=t.teaserLookup[e];if(r){var o=Ky({},r),i=n===t.documentIds.length-1;o.additionalClassesString=i?"lg:mx-24 md:mx-24 sm:mx-16":"lg:ml-24 md:ml-24 sm:ml-16";var a=Gy.a.instance.create(o,_.q);a&&t.teaserlist.append(a)}})),this.publish(c.Y),this.scan(),this.publish(c.dc,{updateId:this.dataSettings.updateId})}},{key:"state",get:function(){return this._state||(this._state=fp),this._state},set:function(t){switch(this._state=t,t){case cp:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!0),E.a.toggleElementVisibility(this.loaderOverlay,this.teaserlist.hasChildNodes()),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1);break;case sp:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!0),E.a.toggleElementVisibility(this.error,!1);break;case lp:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!0);break;case fp:default:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1)}}}]),n}(a.Component);function dp(t){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mp(r.key),r)}}function vp(t,e,n){return e&&bp(t.prototype,e),n&&bp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mp(t){var e=gp(t,"string");return"symbol"===dp(e)?e:String(e)}function gp(t,e){if("object"!==dp(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function wp(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}function Sp(t,e){return(Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Op(t){var e=Ep();return function(){var n,r=jp(t);if(e){var o=jp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kp(this,n)}}function kp(t,e){if(e&&("object"===dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pp(t)}function Pp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ep(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function jp(t){return(jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _p="STATE_ACTIVE",Tp="STATE_INACTIVE",Cp=function(t){wp(n,t);var e=Op(n);function n(){var t;hp(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=t.data.settings?JSON.parse(t.data.settings):{},t.documentId=t.settings.documentId,t.collection=t.settings.collection,t.documentId&&t.collection?(t.bookmarks=W.instance,t.iconInactive=t.el.querySelector('[data-bookmark-button-el="icon-inactive"]'),t.iconActive=t.el.querySelector('[data-bookmark-button-el="icon-active"]'),t.label=t.el.querySelector('[data-bookmark-button-el="label"]'),t.boundOnClick=function(){return t.onClick()},t.init(),t):(E.a.toggleElementVisibility(t.el,!1),kp(t))}return vp(n,[{key:"init",value:function(){this.state=this.bookmarks.contains(this.documentId,this.collection)?_p:Tp,this.subscribe(c.t,this.onBookmarkAdded),this.subscribe(c.u,this.onBookmarkDeleted),this.subscribe(c.s,this.onAllBookmarksDeleted),this.subscribe(c.D,this.onBookmarksUpdated),this.subscribe(c.y,this.onBookmarksError),this.el.addEventListener("click",this.boundOnClick)}},{key:"onClick",value:function(){var t=this;if(!this.el.hasAttribute("disabled")){var e=this.state===Tp?c.r:c.x;this.publish(e,this.documentId,this.collection),this.state=this.state===Tp&&j.a.instance.isLoggedIn?_p:Tp,this.el.setAttribute("disabled",""),setTimeout((function(){t.el.removeAttribute("disabled")}),200)}}},{key:"onBookmarkAdded",value:function(t,e){this.documentId===t&&this.collection===e&&this.state!==_p&&(this.state=_p)}},{key:"onBookmarkDeleted",value:function(t,e){this.documentId===t&&this.collection===e&&this.state!==Tp&&(this.state=Tp)}},{key:"onAllBookmarksDeleted",value:function(t){this.collection===t&&this.state!==Tp&&(this.state=Tp)}},{key:"onBookmarksUpdated",value:function(){this.refreshState()}},{key:"onBookmarksError",value:function(t){!t||t.type!==_.a&&t.type!==_.b||t.documentId!==this.documentId||t.collection!==this.collection||this.refreshState()}},{key:"refreshState",value:function(){this.state=this.bookmarks.contains(this.documentId,this.collection)?_p:Tp}},{key:"state",get:function(){return this._state||(this._state=Tp),this._state},set:function(t){t===_p?(this._state=_p,E.a.toggleElementVisibility(this.iconInactive,!1),E.a.toggleElementVisibility(this.iconActive,!0),this.label.textContent="Aus Merkliste entfernen"):(this._state=Tp,E.a.toggleElementVisibility(this.iconActive,!1),E.a.toggleElementVisibility(this.iconInactive,!0),this.label.textContent="Zur Merkliste hinzufÃ¼gen")}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundOnClick)}}]),n}(a.Component);function Ap(t){return(Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ip(Object(n),!0).forEach((function(e){Rp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rp(t,e,n){return(e=Dp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dp(r.key),r)}}function Bp(t,e,n){return e&&xp(t.prototype,e),n&&xp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dp(t){var e=Mp(t,"string");return"symbol"===Ap(e)?e:String(e)}function Mp(t,e){if("object"!==Ap(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ap(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Up(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}function Vp(t,e){return(Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qp(t){var e=Gp();return function(){var n,r=Hp(t);if(e){var o=Hp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zp(this,n)}}function zp(t,e){if(e&&("object"===Ap(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fp(t)}function Fp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hp(t){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jp="STATE_LOADING",Wp="STATE_EMPTY",Kp="STATE_ERROR",Yp="STATE_DEFAULT",Xp=function(t){Up(n,t);var e=qp(n);function n(){var t;Np(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),j.a.instance.isLoggedIn?(t.dataSettings=t.data.settings?JSON.parse(t.data.settings):{},t.collection=t.dataSettings.collection,t.documentIds=[],t.teaserLookup={},t.bookmarks=W.instance,t.deleteAllLink=t.el.querySelector('[data-bookmarkslist-el="deleteAllLink"]'),t.content=t.el.querySelector('[data-bookmarkslist-el="content"]'),t.teaserlist=t.el.querySelector('[data-bookmarkslist-el="teaserlist"]'),t.loader=t.el.querySelector('[data-bookmarkslist-el="loader"]'),t.loaderOverlay=t.el.querySelector('[data-bookmarkslist-el="loader-overlay"]'),t.emptyState=t.el.querySelector('[data-bookmarkslist-el="emptyState"]'),t.error=t.el.querySelector('[data-bookmarkslist-el="error"]'),t.paginationEl=t.el.querySelector('[data-bookmarkslist-el="pagination"]'),t.paginationBackEl=t.el.querySelector('[data-pagination-el="back"]'),t.paginationForwardEl=t.el.querySelector('[data-pagination-el="forward"]'),t.paginationCurrentEl=t.el.querySelector('[data-pagination-el="current"]'),t.paginationTotalEl=t.el.querySelector('[data-pagination-el="total"]'),t.paginationPageSize=20,t._paginationItemsTotal=0,t._paginationPagesTotal=0,t._paginationCurrentPage=1,t.boundOnPaginationBackClick=function(e){return t.onPaginationBackClick(e)},t.boundOnPaginationForwardClick=function(e){return t.onPaginationForwardClick(e)},t.boundOnDeleteAllClick=function(e){return t.onDeleteAllClick(e)},t.state=Jp,t.subscribe(c.y,t.onBookmarksError),t.bookmarks.isInitialized?t.init():t.subscribe(c.z,t.init),t):zp(t)}return Bp(n,[{key:"init",value:function(){var t=this;this.paginationBackEl&&this.paginationBackEl.addEventListener("click",this.boundOnPaginationBackClick),this.paginationForwardEl&&this.paginationForwardEl.addEventListener("click",this.boundOnPaginationForwardClick),this.deleteAllLink&&this.deleteAllLink.addEventListener("click",this.boundOnDeleteAllClick),this.subscribe(c.t,(function(){return t.refresh()})),this.subscribe(c.u,(function(){return t.refresh()})),this.subscribe(c.s,(function(){return t.refresh()})),this.subscribe(c.D,(function(){return t.refresh()})),this.refresh()}},{key:"onDeleteAllClick",value:function(t){t.preventDefault(),this.publish(c.w,this.collection)}},{key:"onPaginationBackClick",value:function(t){var e=this;t.preventDefault(),this.paginationCurrentPage>1&&(this.paginationCurrentPage-=1,this.refresh().then((function(){return e.scrollToTop()})).catch((function(){})))}},{key:"onPaginationForwardClick",value:function(t){var e=this;t.preventDefault(),this.paginationCurrentPage<this.paginationPagesTotal&&(this.paginationCurrentPage+=1,this.refresh().then((function(){return e.scrollToTop()})).catch((function(){})))}},{key:"onBookmarksError",value:function(t){t&&t.collection&&t.collection!==this.collection||(!t||t.type!==_.a&&t.type!==_.b?this.state=Kp:this.refresh())}},{key:"refresh",value:function(){var t=this;this.paginationItemsTotal=this.bookmarks.documentIds.length;var e=this.paginationItemsTotal-(this.paginationCurrentPage-1)*this.paginationPageSize,n=e-this.paginationPageSize>0?e-this.paginationPageSize:0,r=this.bookmarks.documentIds.slice(n,e);if(r.reverse(),Fy.isEqual(r,this.documentIds)&&this.state===Yp)return Promise.resolve();this.state=Jp,this.documentIds=r;var o=this.documentIds.filter((function(e){return!t.teaserLookup[e]}));return 0===o.length?(this.updateView(),Promise.resolve()):Hy.a.instance.getTeasersByIds(o).then((function(e){return e.success?(Array.isArray(e.teasers)&&e.teasers.length&&e.teasers.forEach((function(e){if(e.id){var n=Lp({},e);n.imageId||(n.classmodifier="data-"),t.teaserLookup[n.id]=n}})),t.updateView(),Promise.resolve()):o.length<t.documentIds.length?(t.updateView(),Promise.resolve()):(t.state=Kp,Promise.reject())}))}},{key:"updateView",value:function(){var t=this,e=this.documentIds.filter((function(e){return!t.teaserLookup[e]})),n=this.documentIds&&this.documentIds.length&&e.length<this.documentIds.length;this.state=n?Yp:Wp,E.a.toggleElementVisibility(this.deleteAllLink,n),E.a.toggleElementVisibility(this.paginationEl,n),this.renderTeasers()}},{key:"renderTeasers",value:function(){var t=this;this.teaserlist.innerHTML="",this.documentIds.forEach((function(e){var n=t.teaserLookup[e];if(n){var r=Gy.a.instance.create(n,_.r);if(r){if(t.teaserlist.hasChildNodes()){var o=vt.a.createElementByPrototypeId("prototype-border-separator");o&&t.teaserlist.append(o)}t.teaserlist.append(r)}}})),this.publish(c.Y),this.scan()}},{key:"scrollToTop",value:function(){window.scrollY>this.el.getBoundingClientRect().y&&Dr.a.scrollToElement(this.el)}},{key:"paginationCurrentPage",get:function(){return this._paginationCurrentPage},set:function(t){!Number.isInteger(t)||t<=0||(this._paginationCurrentPage=t,E.a.toggleElementVisibility(this.paginationBackEl,t>1),E.a.toggleElementVisibility(this.paginationForwardEl,t<this.paginationPagesTotal),this.paginationCurrentEl.textContent=t)}},{key:"paginationPagesTotal",get:function(){return this._paginationPagesTotal},set:function(t){!Number.isInteger(t)||t<0||(this._paginationPagesTotal=t,this.paginationTotalEl.textContent=t,0===t?this.paginationCurrentPage=1:this.paginationCurrentPage>t&&(this.paginationCurrentPage=t))}},{key:"paginationItemsTotal",get:function(){return this._paginationItemsTotal},set:function(t){!Number.isInteger(t)||t<0||(this._paginationItemsTotal=t,this.paginationPagesTotal=Math.ceil(t/this.paginationPageSize),this.paginationCurrentPage=this.paginationCurrentPage||1)}},{key:"state",get:function(){return this._state||(this._state=Yp),this._state},set:function(t){switch(this._state=t,t){case Jp:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!0),E.a.toggleElementVisibility(this.loaderOverlay,this.teaserlist.hasChildNodes()),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1);break;case Wp:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!0),E.a.toggleElementVisibility(this.error,!1);break;case Kp:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!0),this.scrollToTop();break;case Yp:default:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1)}}},{key:"destroy",value:function(){this.deleteAllLink&&this.deleteAllLink.removeEventListener("click",this.boundOnDeleteAllClick)}}]),n}(a.Component);function $p(t){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ed(r.key),r)}}function td(t,e,n){return e&&Zp(t.prototype,e),n&&Zp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ed(t){var e=nd(t,"string");return"symbol"===$p(e)?e:String(e)}function nd(t,e){if("object"!==$p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function rd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&od(t,e)}function od(t,e){return(od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function id(t){var e=cd();return function(){var n,r=sd(t);if(e){var o=sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ad(this,n)}}function ad(t,e){if(e&&("object"===$p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ud(t)}function ud(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sd(t){return(sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ld=function(t){rd(n,t);var e=id(n);function n(){var t;Qp(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).closeIcon=t.el.querySelector('[data-loginlayer-el="close-icon"]'),t.background=t.el.querySelector('[data-loginlayer-el="background"]'),t.boundOnCloseTriggered=function(){return t.close()},t.boundOnOpenTriggered=function(){return t.open()},t.boundOnKeyDown=function(e){return t.onKeyDown(e)},t.init(),t}return td(n,[{key:"init",value:function(){this.closeIcon.addEventListener("click",this.boundOnCloseTriggered),this.background.addEventListener("click",this.boundOnCloseTriggered),this.subscribe(this.openLoginEvent,this.boundOnOpenTriggered),this.subscribe(this.closeLoginEvent,this.boundOnCloseTriggered)}},{key:"open",value:function(){var t=this;this.el.style.opacity=0,E.a.toggleElementVisibility(this.el,!0),this.returnFocusElement=window.document.activeElement,this.closeIcon.focus(),setTimeout((function(){t.el.style.opacity=1}),0),window.document.addEventListener("keydown",this.boundOnKeyDown,!0),this.loginLayerOpenedEvent&&this.publish(this.loginLayerOpenedEvent),this.publish(c.mb,this)}},{key:"close",value:function(){E.a.toggleElementVisibility(this.el,!1),this.returnFocusElement&&(this.returnFocusElement.focus(),this.returnFocusElement=null),this.loginLayerClosedEvent&&this.publish(this.loginLayerClosedEvent),this.publish(c.kb,this)}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"loginLayerClosedEvent",get:function(){return null}},{key:"loginLayerOpenedEvent",get:function(){return null}},{key:"closeLoginEvent",get:function(){return this.closeLoginEvent||console.error("AbstractLoginLayer: abstract method closeLoginEvent needs to get overwritten."),null}},{key:"openLoginEvent",get:function(){return this.openLoginEvent||console.error("AbstractLoginLayer: abstract method openLoginEvent needs to get overwritten."),null}},{key:"destroy",value:function(){this.closeIcon.removeEventListener("click",this.boundOnCloseTriggered),this.background.removeEventListener("click",this.boundOnCloseTriggered),window.document.removeEventListener("keydown",this.boundOnKeyDown,!0)}}]),n}(a.Component);function fd(t){return(fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hd(r.key),r)}}function dd(t,e,n){return e&&pd(t.prototype,e),n&&pd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hd(t){var e=bd(t,"string");return"symbol"===fd(e)?e:String(e)}function bd(t,e){if("object"!==fd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function vd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&md(t,e)}function md(t,e){return(md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gd(t){var e=Od();return function(){var n,r=kd(t);if(e){var o=kd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wd(this,n)}}function wd(t,e){if(e&&("object"===fd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sd(t)}function Sd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Od(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function kd(t){return(kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pd=function(t){vd(n,t);var e=gd(n);function n(){return yd(this,n),e.apply(this,arguments)}return dd(n,[{key:"loginLayerClosedEvent",get:function(){return c.A}},{key:"loginLayerOpenedEvent",get:function(){return c.B}},{key:"closeLoginEvent",get:function(){return c.v}},{key:"openLoginEvent",get:function(){return c.C}}]),n}(ld);function Ed(t){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cd(r.key),r)}}function Td(t,e,n){return e&&_d(t.prototype,e),n&&_d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cd(t){var e=Ad(t,"string");return"symbol"===Ed(e)?e:String(e)}function Ad(t,e){if("object"!==Ed(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ed(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Id(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ld(t,e)}function Ld(t,e){return(Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rd(t){var e=Bd();return function(){var n,r=Dd(t);if(e){var o=Dd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nd(this,n)}}function Nd(t,e){if(e&&("object"===Ed(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xd(t)}function xd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dd(t){return(Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Md="STATE_LOADING",Ud="STATE_EMPTY",Vd="STATE_ERROR",qd="STATE_DEFAULT",zd=3,Fd=function(t){Id(n,t);var e=Rd(n);function n(){var t;jd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),j.a.instance.isLoggedIn?(t.dataSettings=t.data.settings?JSON.parse(t.data.settings):{},t.collection=t.dataSettings.collection,t.bookmarks=W.instance,t.documentIds=[],t.teaserLookup={},t.loader=t.el.querySelector('[data-bookmarksshortlist-el="loader"]'),t.loaderOverlay=t.el.querySelector('[data-bookmarksshortlist-el="loader-overlay"]'),t.emptyState=t.el.querySelector('[data-bookmarksshortlist-el="emptyState"]'),t.error=t.el.querySelector('[data-bookmarksshortlist-el="error"]'),t.content=t.el.querySelector('[data-bookmarksshortlist-el="content"]'),t.teaserlist=t.el.querySelector('[data-bookmarksshortlist-el="teaserlist"]'),t.state=Md,t.subscribe(c.y,t.onBookmarksError),t.boundOnLazyLoad=function(e){return t.onLazyLoad(e)},t.el.addEventListener("lazybeforeunveil",t.boundOnLazyLoad),t):Nd(t)}return Td(n,[{key:"init",value:function(){var t=this;this.subscribe(c.t,(function(){return t.refresh()})),this.subscribe(c.u,(function(){return t.refresh()})),this.subscribe(c.s,(function(){return t.refresh()})),this.subscribe(c.D,(function(){return t.refresh()})),this.refresh()}},{key:"onLazyLoad",value:function(t){t.target===this.el&&(this.bookmarks.isInitialized?this.init():this.subscribe(c.z,this.init))}},{key:"onBookmarksError",value:function(t){t&&t.collection&&t.collection!==this.collection||(!t||t.type!==_.a&&t.type!==_.b?this.state!==qd&&(this.state=Vd):this.refresh())}},{key:"refresh",value:function(){var t=this,e=this.bookmarks.documentIds.length,n=this.bookmarks.documentIds.length>zd?this.bookmarks.documentIds.length-zd:0,r=this.bookmarks.documentIds.slice(n,e);if(r.reverse(),Fy.isEqual(r,this.documentIds)&&this.state===qd)return Promise.resolve();this.state=Md,this.documentIds=r;var o=this.documentIds.filter((function(e){return!t.teaserLookup[e]}));return 0===o.length?(this.updateView(),Promise.resolve()):Hy.a.instance.getTeasersByIds(o).then((function(e){return e.success?(Array.isArray(e.teasers)&&e.teasers.length&&e.teasers.forEach((function(e){e.id&&(t.teaserLookup[e.id]=e)})),t.updateView(),Promise.resolve()):o.length<t.documentIds.length?(t.updateView(),Promise.resolve()):(t.state=Vd,Promise.reject())}))}},{key:"updateView",value:function(){var t=this,e=this.documentIds.filter((function(e){return!t.teaserLookup[e]})),n=this.documentIds&&this.documentIds.length&&e.length<this.documentIds.length;this.state=n?qd:Ud,this.renderTeasers()}},{key:"renderTeasers",value:function(){var t=this;this.teaserlist.innerHTML="",this.documentIds.forEach((function(e){var n=t.teaserLookup[e];if(n){var r=Gy.a.instance.create(n,_.t);r&&t.teaserlist.append(r)}})),this.publish(c.Y)}},{key:"state",get:function(){return this._state||(this._state=qd),this._state},set:function(t){switch(this._state=t,t){case Md:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!0),E.a.toggleElementVisibility(this.loaderOverlay,this.teaserlist.hasChildNodes()),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1);break;case Ud:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!0),E.a.toggleElementVisibility(this.error,!1);break;case Vd:E.a.toggleElementVisibility(this.content,!1),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!0);break;case qd:default:E.a.toggleElementVisibility(this.content,!0),E.a.toggleElementVisibility(this.loader,!1),E.a.toggleElementVisibility(this.emptyState,!1),E.a.toggleElementVisibility(this.error,!1)}}}]),n}(a.Component),Gd=n(72);function Hd(t){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yd(r.key),r)}}function Kd(t,e,n){return e&&Wd(t.prototype,e),n&&Wd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yd(t){var e=Xd(t,"string");return"symbol"===Hd(e)?e:String(e)}function Xd(t,e){if("object"!==Hd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function $d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qd(t,e)}function Qd(t,e){return(Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zd(t){var e=nh();return function(){var n,r=rh(t);if(e){var o=rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return th(this,n)}}function th(t,e){if(e&&("object"===Hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return eh(t)}function eh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function rh(t){return(rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oh="STATE_OPEN",ih="STATE_CLOSED",ah=function(t){$d(n,t);var e=Zd(n);function n(){var t;Jd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).allowButton=t.el.querySelector('[data-cappinglayer-el="allow-button"]'),t._state=ih,t.boundOnAllowButtonClicked=function(){return t.onAllowButtonClicked()},t.subscribe(c.fc,t.onUserCappingLimitExceeded,eh(t)),t.subscribe(c.gc,t.onUserCappingLimitOk,eh(t)),t.allowButton.addEventListener("click",t.boundOnAllowButtonClicked),t}return Kd(n,[{key:"onUserCappingLimitExceeded",value:function(){this.state=oh}},{key:"onUserCappingLimitOk",value:function(){this.state=ih}},{key:"onAllowButtonClicked",value:function(){this.publish(c.ec)}},{key:"state",get:function(){return this._state},set:function(t){if(t!==this.state)switch(this._state=t,t){case oh:E.a.toggleElementVisibility(this.el,!0);break;case ih:default:E.a.toggleElementVisibility(this.el,!1)}}},{key:"destroy",value:function(){this.unsubscribe(c.fc,this.onUserCappingLimitExceeded),this.unsubscribe(c.gc,this.onUserCappingLimitOk),this.allowButton.removeEventListener("click",this.boundOnAllowButtonClicked)}}]),n}(a.Component);function uh(t){return(uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fh(r.key),r)}}function lh(t,e,n){return e&&sh(t.prototype,e),n&&sh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fh(t){var e=yh(t,"string");return"symbol"===uh(e)?e:String(e)}function yh(t,e){if("object"!==uh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==uh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ph=Symbol("INSTANCE"),dh=Symbol("SINGELTONENFORCER"),hh=function(){function t(e){if(ch(this,t),e!==dh)throw new Error("Instantiation failed: Use ThirdpartyConsent.instance instead of new.");this.init()}return lh(t,[{key:"init",value:function(){var t=Ol.a.get(_.i.thirdPartyConsent.name);this._accepted="true"===t}},{key:"eventName",get:function(){return c.Qb}},{key:"accepted",get:function(){return this._accepted},set:function(t){return this._accepted===t||(Ol.a.set(_.i.thirdPartyConsent.name,t,{expires:_.i.thirdPartyConsent.expires}),this._accepted=t,E.a.publish(c.Qb,{accepted:t})),this._accepted}}],[{key:"instance",get:function(){return this[ph]||(this[ph]=new t(dh)),this[ph]}}]),t}();function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wh(r.key),r)}}function gh(t,e,n){return e&&mh(t.prototype,e),n&&mh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wh(t){var e=Sh(t,"string");return"symbol"===bh(e)?e:String(e)}function Sh(t,e){if("object"!==bh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Oh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kh(t,e)}function kh(t,e){return(kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ph(t){var e=_h();return function(){var n,r=Th(t);if(e){var o=Th(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eh(this,n)}}function Eh(t,e){if(e&&("object"===bh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jh(t)}function jh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Th(t){return(Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ch="STATE_ACCEPTED",Ah="STATE_REJECTED",Ih=function(t){Oh(n,t);var e=Ph(n);function n(){var t;vh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if((t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.activator=t.el.querySelector('[data-custom-consent-el="activator"]'),t.activatorButton=t.el.querySelector('[data-custom-consent-el="activatorButton"]'),t.deactivator=t.el.querySelector('[data-custom-consent-el="deactivator"]'),t.deactivatorButton=t.el.querySelector('[data-custom-consent-el="deactivatorButton"]'),t.consentModel=null,"affiliate"===t.settings.consentType)t.consentModel=Il.instance;else{if("thirdparty"!==t.settings.consentType)return console.warn('CustomConsent: Unknown consentType "'.concat(t.settings.consentType,'".')),Eh(t);t.consentModel=hh.instance}return t.boundOnConsentChanged=function(e){return t.onConsentChanged(e)},t.boundOnActivatorButtonToggle=function(e){return t.onActivatorButtonToggle(e)},t.boundOnDeactivatorButtonToggle=function(e){return t.onDeactivatorButtonToggle(e)},t.subscribe(t.consentModel.eventName,t.boundOnConsentChanged),t.activatorButton.addEventListener("toggle",t.boundOnActivatorButtonToggle),t.deactivatorButton.addEventListener("toggle",t.boundOnDeactivatorButtonToggle),t.state=t.consentModel.accepted?Ch:Ah,t}return gh(n,[{key:"onConsentChanged",value:function(t){this.state=t.accepted?Ch:Ah,this.updateAriaAndTabindex()}},{key:"onActivatorButtonToggle",value:function(t){t.detail&&t.detail.isActive&&(this.consentModel.accepted=!0)}},{key:"onDeactivatorButtonToggle",value:function(t){t.detail&&!t.detail.isActive&&(this.consentModel.accepted=!1)}},{key:"updateAriaAndTabindex",value:function(){var t=this.consentModel.accepted;this.activatorButton.setAttribute("aria-hidden",t),this.activatorButton.setAttribute("tabindex",t?"-1":"0"),this.deactivatorButton.setAttribute("aria-hidden",!t),this.deactivatorButton.setAttribute("tabindex",t?"0":"-1")}},{key:"state",get:function(){return this._state},set:function(t){t===Ch&&(E.a.toggleElementVisibility(this.activator,!1),E.a.toggleElementVisibility(this.deactivator,!0)),this._state=t}},{key:"destroy",value:function(){this.unsubscribe(this.event,this.boundOnConsentChanged),this.activatorButton.removeEventListener("toggle",this.onActivatorButtonToggle),this.deactivatorButton.removeEventListener("toggle",this.onDeactivatorButtonToggle)}}]),n}(a.Component);function Lh(t){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bh(r.key),r)}}function xh(t,e,n){return e&&Nh(t.prototype,e),n&&Nh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bh(t){var e=Dh(t,"string");return"symbol"===Lh(e)?e:String(e)}function Dh(t,e){if("object"!==Lh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Mh(){return(Mh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Uh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Uh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jh(t)););return t}function Vh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qh(t,e)}function qh(t,e){return(qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zh(t){var e=Hh();return function(){var n,r=Jh(t);if(e){var o=Jh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fh(this,n)}}function Fh(t,e){if(e&&("object"===Lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gh(t)}function Gh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Jh(t){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wh=function(t){Vh(n,t);var e=zh(n);function n(){var t;Rh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.el.dataset.deferSettings),t.componentName=t.settings.component,t.loader=window.polygon.componentLoader,t.component=window.polygon.deferredComponents[t.componentName],t.importRequirements().then((function(){t.init()})),t}return xh(n,[{key:"importRequirements",value:function(){var t=this;return this.component().then((function(e){e&&t.registerComponent(e)}))}},{key:"registerComponent",value:function(t){var e={};e[this.componentName]=t.default,this.loader.register(e)}},{key:"init",value:function(){this.prepareComponent(),this.refreshComponents(),this.destroy()}},{key:"prepareComponent",value:function(){this.el.dataset.component=this.componentName}},{key:"refreshComponents",value:function(){this.loader.scan()}},{key:"destroy",value:function(){Mh(Jh(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function Kh(t){return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qh(r.key),r)}}function $h(t,e,n){return e&&Xh(t.prototype,e),n&&Xh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qh(t){var e=Zh(t,"string");return"symbol"===Kh(e)?e:String(e)}function Zh(t,e){if("object"!==Kh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Kh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function tb(){return(tb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=eb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function eb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cb(t)););return t}function nb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return(rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ob(t){var e=ub();return function(){var n,r=cb(t);if(e){var o=cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(t,e){if(e&&("object"===Kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ab(t)}function ab(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ub(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function cb(t){return(cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sb="STATE_ACCEPTED",lb="STATE_REJECTED",fb=function(t){nb(n,t);var e=ob(n);function n(){var t;Yh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.replacer=t.el.querySelector('[data-embed-el="replacer"]'),t.embedContent=t.replacer.dataset.content,t.isLazyloaded="entered"===t.el.dataset.llStatus,t.boundOnLazyLoad=function(e){return t.onLazyLoad(e)},t.boundOnConsentChanged=function(e){return t.onConsentChanged(e)},t.el.addEventListener("lazybeforeunveil",t.boundOnLazyLoad),t.subscribe(c.Qb,t.boundOnConsentChanged),t.state=t.isConsentVerified?sb:lb,t}return $h(n,[{key:"initEmbedContent",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.embedContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.embedContent)}this.replacer.classList.add("hidden"),this.replacer.remove(),"Instagram"===this.settings.providerName&&window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process&&window.instgrm.Embeds.process(),"Twitter"===this.settings.providerName&&window.twttr&&window.twttr.widgets&&"function"==typeof window.twttr.widgets.load&&window.twttr.widgets.load(this.el)}},{key:"onConsentChanged",value:function(t){t.accepted?(this.state=sb,this.isLazyloaded&&this.initEmbedContent()):(this.state=lb,window.location.reload(!0))}},{key:"onLazyLoad",value:function(t){this.isLazyloaded=!0,t.target===this.el&&this.isConsentVerified&&this.initEmbedContent()}},{key:"isConsentVerified",get:function(){return!this.settings.requireConsent||this.settings.requireConsent&&hh.instance.accepted}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,t===sb&&E.a.toggleElementVisibility(this.el,!0)}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),this.unsubscribe(c.Qb,this.boundOnConsentChanged),tb(cb(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function yb(t){return(yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bb(r.key),r)}}function hb(t,e,n){return e&&db(t.prototype,e),n&&db(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bb(t){var e=vb(t,"string");return"symbol"===yb(e)?e:String(e)}function vb(t,e){if("object"!==yb(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function mb(){return(mb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=gb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function gb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jb(t)););return t}function wb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return(Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ob(t){var e=Eb();return function(){var n,r=jb(t);if(e){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kb(this,n)}}function kb(t,e){if(e&&("object"===yb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pb(t)}function Pb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function jb(t){return(jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _b=function(t){wb(n,t);var e=Ob(n);function n(){var t;pb(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).loadSrc(),t}return hb(n,[{key:"destroy",value:function(){mb(jb(n.prototype),"destroy",this).call(this)}}]),n}(Tf);function Tb(t){return(Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lb(r.key),r)}}function Ib(t,e,n){return e&&Ab(t.prototype,e),n&&Ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lb(t){var e=Rb(t,"string");return"symbol"===Tb(e)?e:String(e)}function Rb(t,e){if("object"!==Tb(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Nb(){return(Nb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=xb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function xb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zb(t)););return t}function Bb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Db(t,e)}function Db(t,e){return(Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mb(t){var e=qb();return function(){var n,r=zb(t);if(e){var o=zb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(t,e){if(e&&("object"===Tb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vb(t)}function Vb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function zb(t){return(zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fb=function(t){Bb(n,t);var e=Mb(n);function n(){var t;Cb(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.getElements(),t.initState(),t.appBridge=mt.a.instance,t.isApp=K.a.isApp,t.initContextMenu(),t.initLinks(),t}return Ib(n,[{key:"getElements",value:function(){this.toggle=this.el.querySelector('[data-featurebar-share*="toggle"]'),this.contextMenu=this.el.querySelector('[data-featurebar-share*="context-menu"]'),this.links=Array.from(this.el.querySelectorAll('[data-featurebar-share*="link"]')),this.contextLinks=Array.from(this.el.querySelectorAll('[data-featurebar-share*="contextlink"]'))}},{key:"initState",value:function(){this.contextMenu&&!this.contextMenu.classList.contains("hidden")?this._isContextMenuVisibile=!0:this._isContextMenuVisibile=!1}},{key:"initContextMenu",value:function(){var t=this;this.toggle&&this.contextMenu&&(this.toggle.addEventListener("click",(function(e){t.onToggleClicked(e)})),window.addEventListener("click",(function(){t.isContextMenuVisibile&&(t.isContextMenuVisibile=!1)})))}},{key:"initLinks",value:function(){for(var t=this,e=function(e){var n=t.links[e];n.addEventListener("click",(function(e){t.onLinkClicked(e,n)}))},n=0;n<this.links.length;n++)e(n)}},{key:"onToggleClicked",value:function(t){t.preventDefault(),t.stopPropagation(),this.isContextMenuVisibile=!this.isContextMenuVisibile,this.focusContextMenuLink()}},{key:"focusContextMenuLink",value:function(){Array.isArray(this.contextLinks)&&0!==this.contextLinks.length&&Ue.a.isMobile&&this.contextLinks[0].focus()}},{key:"onLinkClicked",value:function(t,e){this.isApp?(t.preventDefault(),this.appBridge.triggerShareButton()):e.getAttribute("data-featurebar-share").includes("detached-sharing-window")&&!Ue.a.isMobile?(t.preventDefault(),window.open(e.href,"Beitrag teilen","height=500,width=600")):e.getAttribute("data-featurebar-share").includes("copy")&&(t.preventDefault(),this.settings.url&&Dr.a.copyToClipboard(this.settings.url)&&ve.instance.addNotification({type:_.k,headline:"Link kopiert",description:"Die Artikel-URL wurde erfolgreich in Ihrer Zwischenablage gespeichert."}))}},{key:"isContextMenuVisibile",get:function(){return this._isContextMenuVisibile},set:function(t){this._isContextMenuVisibile=!0===t,this.contextMenu&&(this.isContextMenuVisibile?(this.contextMenu.classList.remove("hidden"),this.toggle.classList.add("opacity-distinct")):(this.contextMenu.classList.add("hidden"),this.toggle.classList.remove("opacity-distinct")))}},{key:"destroy",value:function(){Nb(zb(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function Gb(t){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kb(r.key),r)}}function Wb(t,e,n){return e&&Jb(t.prototype,e),n&&Jb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kb(t){var e=Yb(t,"string");return"symbol"===Gb(e)?e:String(e)}function Yb(t,e){if("object"!==Gb(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Xb(){return(Xb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=$b(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function $b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ov(t)););return t}function Qb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return(Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tv(t){var e=rv();return function(){var n,r=ov(t);if(e){var o=ov(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ev(this,n)}}function ev(t,e){if(e&&("object"===Gb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nv(t)}function nv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ov(t){return(ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var iv=function(t){Qb(n,t);var e=tv(n);function n(){var t;Hb(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=t.data&&t.data.settings?JSON.parse(t.data.settings):{},t.id=t.settings.multiboxId?t.settings.multiboxId:t.data.componentId,t.breakpoints=t.settings.breakpoints?t.settings.breakpoints:[null],t.switchEl=t.el.querySelector('[data-accordion-el="switch"]'),t.collapseIconEl=t.el.querySelector('[data-accordion-el="collapseIcon"]'),t.expandIconEl=t.el.querySelector('[data-accordion-el="expandIcon"]'),t.containerEl=t.el.querySelector('[data-accordion-el="container"]'),t.containerEl&&(t.containerEl.addEventListener("transitionend",(function(){t.containerEl.style.maxHeight=null,t.containerEl.style.transition=""})),t.initAccordion()),t}return Wb(n,[{key:"initAccordion",value:function(){var t=this;this.toggleExpandedState(!!this.settings.isFirstItemOpen||!!this.settings.isExpanded),this.boundOnAccordionClick=function(){t.onAccordionClick()},this.switchEl.addEventListener("click",this.boundOnAccordionClick)}},{key:"onAccordionClick",value:function(){this.isExpanded?this.collapse():this.expand()}},{key:"expand",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),r=t.getBreakpointClasses(e,"opacity-none"),o=t.getBreakpointClasses(e,"hidden");t.onExpand(),t.containerEl.classList.remove(o),t.containerEl.setAttribute("aria-hidden",!1),setTimeout((function(){t.containerEl.classList.remove(n),t.containerEl.classList.remove(r),t.containerEl.style.transform="translateY(0)"}),0)})),this.toggleIconsExpanded(!0)}},{key:"collapse",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),r=t.getBreakpointClasses(e,"opacity-none"),o=t.getBreakpointClasses(e,"hidden");t.onCollapse(),t.containerEl.classList.add(o),t.containerEl.classList.add(n),t.containerEl.classList.add(r),t.containerEl.style.transform="translateY(-10px)",t.containerEl.setAttribute("aria-hidden",!0)})),this.toggleIconsExpanded(!1)}},{key:"toggleIconsExpanded",value:function(t){var e=this;this.breakpoints.forEach((function(n){var r=e.getBreakpointClasses(n,"hidden");t?(e.expandIconEl.classList.add(r),e.collapseIconEl.classList.remove(r)):(e.expandIconEl.classList.remove(r),e.collapseIconEl.classList.add(r))}))}},{key:"getBreakpointClasses",value:function(t,e){return t?"".concat(t,":").concat(e):e}},{key:"onExpand",value:function(){this.toggleExpandedState(!0)}},{key:"onCollapse",value:function(){this.toggleExpandedState(!1),this.publish(c.K,{id:this.id})}},{key:"toggleExpandedState",value:function(t){this.el.setAttribute("aria-expanded",t),this.isExpanded=t}},{key:"destroy",value:function(){this.switchEl.removeEventListener("click",this.boundOnAccordionClick),Xb(ov(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function av(t){return(av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lv(r.key),r)}}function sv(t,e,n){return e&&cv(t.prototype,e),n&&cv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lv(t){var e=fv(t,"string");return"symbol"===av(e)?e:String(e)}function fv(t,e){if("object"!==av(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==av(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function yv(){return(yv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=pv(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pv(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wv(t)););return t}function dv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return(hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bv(t){var e=gv();return function(){var n,r=wv(t);if(e){var o=wv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vv(this,n)}}function vv(t,e){if(e&&("object"===av(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mv(t)}function mv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function wv(t){return(wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sv=function(t){dv(n,t);var e=bv(n);function n(){return uv(this,n),e.apply(this,arguments)}return sv(n,[{key:"initAccordion",value:function(){var t=this;yv(wv(n.prototype),"initAccordion",this).call(this),"sm"!==ln.a.instance.breakpoint&&this.disableAccordion(),this.subscribe(c.Z,(function(e){"sm"===e.breakpoint?t.enableAccordion():t.disableAccordion()}))}},{key:"disableAccordion",value:function(){yv(wv(n.prototype),"toggleExpandedState",this).call(this,!0),this.switchEl.removeEventListener("click",this.boundOnAccordionClick)}},{key:"enableAccordion",value:function(){yv(wv(n.prototype),"toggleExpandedState",this).call(this,!1),this.switchEl.addEventListener("click",this.boundOnAccordionClick)}}]),n}(iv);function Ov(t){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jv(r.key),r)}}function Ev(t,e,n){return e&&Pv(t.prototype,e),n&&Pv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jv(t){var e=_v(t,"string");return"symbol"===Ov(e)?e:String(e)}function _v(t,e){if("object"!==Ov(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Tv(){return(Tv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Cv(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cv(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bv(t)););return t}function Av(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return(Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lv(t){var e=xv();return function(){var n,r=Bv(t);if(e){var o=Bv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rv(this,n)}}function Rv(t,e){if(e&&("object"===Ov(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nv(t)}function Nv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Bv(t){return(Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dv=function(t){Av(n,t);var e=Lv(n);function n(){var t;kv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).dataSettings=t.data.settings?JSON.parse(t.data.settings):{},void 0!==t.dataSettings.advertisementPositions&&Array.isArray(t.dataSettings.advertisementPositions)&&t.subscribe(c.g,(function(e){t.onAdPositionLoaded(e)})),void 0!==t.dataSettings.outbrainMovable&&t.dataSettings.outbrainMovable&&t.subscribe(c.ib,(function(e){t.onOutbrainFurtherReadsReady(e)})),t}return Ev(n,[{key:"onAdPositionLoaded",value:function(t){var e=this;void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(n){t===n&&e.publish(c.dc,{updateId:e.dataSettings.updateId})}))}},{key:"onOutbrainFurtherReadsReady",value:function(t){t&&"function"==typeof t.appendChild&&t.appendChild(this.el),void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(t){ai.instance.initAdPosition(t)}))}},{key:"destroy",value:function(){Tv(Bv(n.prototype),"destroy",this).call(this)}}]),n}(iv);function Mv(t){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zv(r.key),r)}}function qv(t,e,n){return e&&Vv(t.prototype,e),n&&Vv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zv(t){var e=Fv(t,"string");return"symbol"===Mv(e)?e:String(e)}function Fv(t,e){if("object"!==Mv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Gv(){return(Gv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Hv(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Hv(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qv(t)););return t}function Jv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return(Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kv(t){var e=$v();return function(){var n,r=Qv(t);if(e){var o=Qv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yv(this,n)}}function Yv(t,e){if(e&&("object"===Mv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xv(t)}function Xv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Qv(t){return(Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zv=function(t){Jv(n,t);var e=Kv(n);function n(){var t;Uv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))).dataSettings=t.data.settings?JSON.parse(t.data.settings):{},t.id=t.dataSettings.id,t.hash="fotostrecke-".concat(t.id),t.galleryBar=t.el.querySelector('[data-gallerylayer-el="gallery-bar"]'),t.galleryContent=t.el.querySelector('[data-gallerylayer-el="gallery-content"]'),t.focusCatcher=t.el.querySelector('[data-gallerylayer-el="catchFocus"]'),t.transitionDuration=200,t.gujAdContainers=Array.from(t.el.querySelectorAll('[data-advertisement^="GujAd"]'));var a=t.el.querySelector('[data-gallerylayer-el="back-to-article"]'),u=t.el.querySelector('[data-gallerylayer-el="close-gallery"]');return a.addEventListener("click",(function(){return t.publish(c.G)})),u.addEventListener("click",(function(){return t.publish(c.G)})),Gd.a.instance.register(Xv(t)),window.location.hash==="#".concat(t.hash)&&t.publish(c.J,t.id),t}return qv(n,[{key:"open",value:function(){var t=this,e=[];this.gujAdContainers.forEach((function(t){var n=t.getAttribute("data-advertisement-id");n&&(t.setAttribute("id",n),e.push(n)),t.setAttribute("data-advertisement",t.getAttribute("data-advertisement").replace(/\sdisabled/g,""))})),e.forEach((function(t){ai.instance.initAdPosition(t)})),document.removeEventListener("transitionend",this.boundHandleTransitionEnd),this.el.classList.remove("hidden"),this.el.style.transform="translateX(100vw)",this.publish(c.mb,this),window.setTimeout((function(){t.el.classList.add("opacity-full"),t.el.style.transform="translateX(0)"}),0),Ue.a.isInternetExplorer&&window.dispatchEvent(new Event("resize")),this.focusLayer()}},{key:"focusLayer",value:function(){this.focusCatcher.focus()}},{key:"close",value:function(){var t=this;this.gujAdContainers.forEach((function(t){t.removeAttribute("id"),t.setAttribute("data-advertisement","".concat(t.getAttribute("data-advertisement")," disabled")),t.classList.add("hidden")})),this.publish(c.kb,this),window.setTimeout((function(){t.el.style.transform="translateX(100vw)"}),0),this.boundHandleTransitionEnd=function(){return t.handleTransitionEnd()},document.addEventListener("transitionend",this.boundHandleTransitionEnd)}},{key:"handleTransitionEnd",value:function(){this.el.classList.add("hidden")}},{key:"preventScrolling",get:function(){return!0}},{key:"destroy",value:function(){Gv(Qv(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function tm(t){return(tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,om(r.key),r)}}function rm(t,e,n){return e&&nm(t.prototype,e),n&&nm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function om(t){var e=im(t,"string");return"symbol"===tm(e)?e:String(e)}function im(t,e){if("object"!==tm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function am(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}function um(t,e){return(um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cm(t){var e=fm();return function(){var n,r=ym(t);if(e){var o=ym(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&("object"===tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lm(t)}function lm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ym(t){return(ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pm="STATE_ACCEPTED",dm="STATE_REJECTED",hm=function(t){am(n,t);var e=cm(n);function n(){var t;em(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.boundOnConsentChanged=function(e){return t.onConsentChanged(e)},t.subscribe(c.Qb,t.boundOnConsentChanged),t.state=t.isConsentVerified?pm:dm,t}return rm(n,[{key:"onConsentChanged",value:function(t){t.accepted?this.state=pm:(this.state=dm,window.location.reload(!0))}},{key:"isConsentVerified",get:function(){return!this.settings.requireConsent||this.settings.requireConsent&&hh.instance.accepted}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,t===pm&&E.a.toggleElementVisibility(this.el,!0)}},{key:"destroy",value:function(){this.unsubscribe(c.Qb,this.boundOnConsentChanged)}}]),n}(a.Component);function bm(t){return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wm(r.key),r)}}function gm(t,e,n){return e&&mm(t.prototype,e),n&&mm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wm(t){var e=Sm(t,"string");return"symbol"===bm(e)?e:String(e)}function Sm(t,e){if("object"!==bm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==bm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Om(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&km(t,e)}function km(t,e){return(km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pm(t){var e=_m();return function(){var n,r=Tm(t);if(e){var o=Tm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(t,e){if(e&&("object"===bm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jm(t)}function jm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Tm(t){return(Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cm=function(t){Om(n,t);var e=Pm(n);function n(){var t;vm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=t.data.settings?JSON.parse(t.data.settings):null,t.loader=t.el.querySelector('[data-iframe-el="loader"]'),t.background=t.el.querySelector('[data-iframe-el="background"]'),t.iframe=t.el.querySelector('[data-iframe-el="iframe"]'),t.isLoaded=!1,t.beforeInit(),t.addMessageListener(),t.init(),t}return gm(n,[{key:"beforeInit",value:function(){}},{key:"init",value:function(){var t=this;this.iframe&&(this.iframe.addEventListener("load",(function(){t.onLoaded()})),this.iframe.classList.remove("hidden"),this.iframe.classList.contains("lazyload")||this.iframe.classList.contains("lazytrigger")||this.loadSrc())}},{key:"addMessageListener",value:function(){var t=this;window.addEventListener("message",(function(e){var n=e.data;if(e.origin===new URL(t.src).origin){try{n=JSON.parse(n)}catch(t){return}if(["resize","track"].includes(n.event)&&e.source===t.iframe.contentWindow)if("resize"===n.event&&n.height)t.el.style.paddingBottom="".concat(n.height,"px"),t.isLoaded&&(t.el.style.minHeight="");else if("track"===n.event){Hn.instance.push(n.payload)}}}))}},{key:"loadSrc",value:function(){this.src&&this.iframe&&!this.iframe.getAttribute("src")&&this.iframe.setAttribute("src",this.src)}},{key:"onLoaded",value:function(){var t=this;this.isLoaded=!0,this.loader&&this.loader.classList.add("hidden"),this.iframe&&this.background&&window.setTimeout((function(){E.a.toggleElementVisibility(t.background,!0)}),0),this.el.style.paddingBottom&&(this.el.style.minHeight="")}},{key:"src",get:function(){if(this._src)return this._src;var t=this.iframe?this.iframe.getAttribute("data-src"):void 0;return t?(this._src=t,this._src):""}}]),n}(a.Component);function Am(t){return(Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nm(r.key),r)}}function Rm(t,e,n){return e&&Lm(t.prototype,e),n&&Lm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nm(t){var e=xm(t,"string");return"symbol"===Am(e)?e:String(e)}function xm(t,e){if("object"!==Am(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Bm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dm(t,e)}function Dm(t,e){return(Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mm(t){var e=qm();return function(){var n,r=zm(t);if(e){var o=zm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Um(this,n)}}function Um(t,e){if(e&&("object"===Am(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vm(t)}function Vm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function zm(t){return(zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fm=function(t){Bm(n,t);var e=Mm(n);function n(){return Im(this,n),e.apply(this,arguments)}return Rm(n,[{key:"beforeInit",value:function(){if(this.iframe&&this.settings.subscribeUrl){var t=this.settings.subscribeUrl,e=new URLSearchParams(window.location.search),n=e.get("n2g"),r=e.get("nlid");if(n&&r&&this.settings.unsubscribeUrl){var o=new URL(this.settings.unsubscribeUrl);o.searchParams.set("n2g",n),o.searchParams.set("nlid",r),t=o.href}this.settings.useRedirect?window.location.replace(t):this.iframe.dataset.src=t}}}]),n}(Cm);function Gm(t){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Km(r.key),r)}}function Wm(t,e,n){return e&&Jm(t.prototype,e),n&&Jm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Km(t){var e=Ym(t,"string");return"symbol"===Gm(e)?e:String(e)}function Ym(t,e){if("object"!==Gm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Xm(){return(Xm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=$m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function $m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=og(t)););return t}function Qm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zm(t,e)}function Zm(t,e){return(Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tg(t){var e=rg();return function(){var n,r=og(t);if(e){var o=og(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eg(this,n)}}function eg(t,e){if(e&&("object"===Gm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ng(t)}function ng(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function og(t){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ig=function(t){Qm(n,t);var e=tg(n);function n(){var t;Hm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),"function"==typeof window.jwplayer?t.publish(c.U):(t.el.onload=function(){t.publish(c.U)},t.loadSrc()),t}return Wm(n,[{key:"destroy",value:function(){Xm(og(n.prototype),"destroy",this).call(this)}}]),n}(Tf);function ag(t){return(ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lg(r.key),r)}}function sg(t,e,n){return e&&cg(t.prototype,e),n&&cg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lg(t){var e=fg(t,"string");return"symbol"===ag(e)?e:String(e)}function fg(t,e){if("object"!==ag(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ag(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function yg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pg(t,e)}function pg(t,e){return(pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dg(t){var e=vg();return function(){var n,r=mg(t);if(e){var o=mg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hg(this,n)}}function hg(t,e){if(e&&("object"===ag(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bg(t)}function bg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function mg(t){return(mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gg=function(t){yg(n,t);var e=dg(n);function n(){var t;ug(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).subscribe(c.X,t.onLoadTriggered,bg(t)),t}return sg(n,[{key:"onLoadTriggered",value:function(t){t&&t===this.data.sourceId&&this.loadSrc()}}]),n}(Tf);function wg(t){return(wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kg(r.key),r)}}function Og(t,e,n){return e&&Sg(t.prototype,e),n&&Sg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kg(t){var e=Pg(t,"string");return"symbol"===wg(e)?e:String(e)}function Pg(t,e){if("object"!==wg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_g(t,e)}function _g(t,e){return(_g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tg(t){var e=Ig();return function(){var n,r=Lg(t);if(e){var o=Lg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cg(this,n)}}function Cg(t,e){if(e&&("object"===wg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ag(t)}function Ag(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ig(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Lg(t){return(Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rg=function(t){jg(n,t);var e=Tg(n);function n(){return Eg(this,n),e.apply(this,arguments)}return Og(n)}(iv);function Ng(t){return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mg(r.key),r)}}function Dg(t,e,n){return e&&Bg(t.prototype,e),n&&Bg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mg(t){var e=Ug(t,"string");return"symbol"===Ng(e)?e:String(e)}function Ug(t,e){if("object"!==Ng(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ng(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Vg=Symbol("INSTANCE"),qg=Symbol("SINGELTONENFORCER"),zg=function(){function t(e){if(xg(this,t),e!==qg)throw new Error("Instantiation failed: Use FeatureDetection.instance instead of new.");this.init()}return Dg(t,[{key:"init",value:function(){this._supportsPassiveEventListener=this.getSupportsPassiveEventListener()}},{key:"getSupportsPassiveEventListener",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}},{key:"supportsPassiveEventListener",get:function(){return this._supportsPassiveEventListener}}],[{key:"instance",get:function(){return this[Vg]||(this[Vg]=new t(qg)),this[Vg]}}]),t}();function Fg(t){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wg(r.key),r)}}function Jg(t,e,n){return e&&Hg(t.prototype,e),n&&Hg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wg(t){var e=Kg(t,"string");return"symbol"===Fg(e)?e:String(e)}function Kg(t,e){if("object"!==Fg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Yg(){return(Yg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Xg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Xg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rw(t)););return t}function $g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return(Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zg(t){var e=nw();return function(){var n,r=rw(t);if(e){var o=rw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&("object"===Fg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ew(t)}function ew(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function rw(t){return(rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ow=zg.instance,iw=function(t){$g(n,t);var e=Zg(n);function n(){var t;Gg(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),K.a.isApp?tw(t):(t.overlay=t.el.querySelector('[data-menu-el="overlay"]'),t.menuDrawer=t.el.querySelector('[data-menu-el="menuDrawer"]'),t.rightSwiper=t.el.querySelector('[data-menu-el="rightSwiper"]'),t.focusCatcher=t.el.querySelector('[data-menu-el="catchFocus"]'),t.subscribe(c.hb,(function(){t.open()})),t.overlay.addEventListener("click",(function(){t.close()})),t.boundOnKeyDown=function(e){return t.onKeyDown(e)},t.initSwipe(),t)}return Jg(n,[{key:"initSwipe",value:function(){var t=this;this.initialX=null,this.initialY=null,this.el.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!ow.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!ow.supportsPassiveEventListener&&{passive:!0}),this.el.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!ow.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!ow.supportsPassiveEventListener&&{passive:!0})}},{key:"onTouchStart",value:function(t){this.initialX=t.touches[0].clientX,this.initialY=t.touches[0].clientY}},{key:"onTouchMove",value:function(t){if(null!==this.initialX&&null!==this.initialY){var e=t.touches[0].clientX,n=t.touches[0].clientY,r=this.initialX-e,o=this.initialY-n,i=o>-Math.abs(5)&&o<Math.abs(5);Math.abs(r)>Math.abs(o)&&(r>0&&i?this.close():this.open()),this.initialX=null,this.initialY=null}}},{key:"open",value:function(){var t=this;this.overlay.classList.add("fixed"),this.el.setAttribute("aria-hidden",!1),this.el.classList.toggle("hidden",!1),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(0px)"}),0),this.focusDrawer(),window.document.addEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.el.setAttribute("aria-hidden",!0),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(-320px)"}),0);this.el.addEventListener("transitionend",(function e(){t.el.classList.toggle("hidden",!0),t.el.removeEventListener("transitionend",e)})),"function"==typeof this.boundOnKeyDown&&window.document.removeEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"focusDrawer",value:function(){this.focusCatcher.focus()}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"destroy",value:function(){Yg(rw(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function aw(t){return(aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lw(r.key),r)}}function sw(t,e,n){return e&&cw(t.prototype,e),n&&cw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lw(t){var e=fw(t,"string");return"symbol"===aw(e)?e:String(e)}function fw(t,e){if("object"!==aw(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function yw(){return(yw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=pw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ww(t)););return t}function dw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return(hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bw(t){var e=gw();return function(){var n,r=ww(t);if(e){var o=ww(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vw(this,n)}}function vw(t,e){if(e&&("object"===aw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mw(t)}function mw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ww(t){return(ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sw=function(t){dw(n,t);var e=bw(n);function n(){var t;uw(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if((t=e.call.apply(e,[this].concat(i))).isGujDisabled)return vw(t);var u=!(!r.a.instance.consent||"boolean"!=typeof r.a.instance.consent.globallyDisabled)&&r.a.instance.consent.globallyDisabled;return u&&t.addRequiredPurpose(_.p.store_and_access_information_on_a_device),t.settings=t.data.settings?JSON.parse(t.data.settings):{},t.topScript=t.el.querySelector('[data-moltenbundlesource-el="top"]'),t.bottomScript=t.el.querySelector('[data-moltenbundlesource-el="bottom"]'),t.srcTop&&t.srcBottom&&(t.boundOnTopLoaded=function(){return t.onTopLoaded()},t.boundOnTopError=function(){return t.onTopError()},t.boundOnBottomLoaded=function(){return t.onBottomLoaded()},t.topScript.addEventListener("load",t.boundOnTopLoaded),t.topScript.addEventListener("error",t.boundOnTopError),t.bottomScript.addEventListener("load",t.boundOnBottomLoaded),t.loadSrc()),t}return sw(n,[{key:"onTopLoaded",value:function(){this.removeTopScriptListeners(),window.$AC&&"function"==typeof window.$AC.loadConfig?this.publish(c.kc):this.publish(c.jc),this.bottomScript.setAttribute("src",this.srcBottom)}},{key:"onTopError",value:function(){this.removeTopScriptListeners(),this.removeBottomScriptListeners(),this.publish(c.jc),this.destroy()}},{key:"onBottomLoaded",value:function(){this.removeBottomScriptListeners(),void 0!==window.GujAd&&void 0!==window.GujAd.cmd&&window.GujAd.cmd.push((function(){window.GujAd.finalize()}))}},{key:"removeTopScriptListeners",value:function(){"function"==typeof this.boundOnTopLoaded&&(this.topScript.removeEventListener("load",this.boundOnTopLoaded),this.boundOnTopLoaded=null),"function"==typeof this.boundOnTopError&&(this.topScript.removeEventListener("error",this.boundOnTopError),this.boundOnTopError=null)}},{key:"removeBottomScriptListeners",value:function(){"function"==typeof this.boundOnBottomLoaded&&(this.bottomScript.removeEventListener("load",this.boundOnBottomLoaded),this.boundOnBottomLoaded=null)}},{key:"initSrc",value:function(){var t=this,e=(mt.a.instance.adaSettings||{}).initDelay;e&&e>0?setTimeout((function(){yw(ww(n.prototype),"initSrc",t).call(t)}),e):yw(ww(n.prototype),"initSrc",this).call(this)}},{key:"isGujDisabled",get:function(){return r.a.instance.endToEndTestEnabled&&Ue.a.isAutomated||j.a.instance.hasNoAdsAccess||r.a.instance.disableAds}},{key:"isPreview",get:function(){return"1"===new URLSearchParams(window.location.search).get("gujAd")}},{key:"srcTop",get:function(){var t=this.settings.sources||{},e=t.liveTop,n=t.previewTop;return this.isPreview&&n?n:e||""}},{key:"srcBottom",get:function(){var t=this.settings.sources||{},e=t.liveBottom,n=t.previewBottom;return this.isPreview&&n?n:e||""}},{key:"src",get:function(){return this.srcTop}},{key:"scriptEl",get:function(){return this.topScript}}]),n}(Tf);function Ow(t){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jw(r.key),r)}}function Ew(t,e,n){return e&&Pw(t.prototype,e),n&&Pw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jw(t){var e=_w(t,"string");return"symbol"===Ow(e)?e:String(e)}function _w(t,e){if("object"!==Ow(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ow(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Tw(){return(Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Cw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bw(t)););return t}function Aw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return(Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lw(t){var e=xw();return function(){var n,r=Bw(t);if(e){var o=Bw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rw(this,n)}}function Rw(t,e){if(e&&("object"===Ow(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nw(t)}function Nw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Bw(t){return(Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dw=function(t){Aw(n,t);var e=Lw(n);function n(){var t;kw(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).el.id&&document.querySelectorAll('main [id="'.concat(t.el.id,'"]'))&&(t.initLayer(),t.initLinks()),t}return Ew(n,[{key:"initLayer",value:function(){var t=this;this.hash=this.el.id,this.el.removeAttribute("id"),window.history.scrollRestoration="manual",this.layerService=Gd.a.instance,this.layerService.register(this),this.subscribe(c.F,(function(e){return t.onActiveLayerChanged(e)})),window.location.hash&&window.location.hash==="#".concat(this.hash)&&this.publish(c.J,this.id)}},{key:"initLinks",value:function(){var t=this;Array.from(document.querySelectorAll('main a[href="#'.concat(this.hash,'"]'))).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),t.publish(c.J,t.id)}))}))}},{key:"onExpand",value:function(){Tw(Bw(n.prototype),"onExpand",this).call(this),this.switchEl.classList.add("bg-sec2-lightest"),this.switchEl.classList.add("dark:bg-sec2-darker")}},{key:"onCollapse",value:function(){Tw(Bw(n.prototype),"onCollapse",this).call(this),this.switchEl.classList.remove("bg-sec2-lightest"),this.switchEl.classList.remove("dark:bg-sec2-darker")}},{key:"onActiveLayerChanged",value:function(t){t===this.id&&this.el.scrollIntoView()}},{key:"open",value:function(){this.expand()}},{key:"close",value:function(){this.collapse()}}]),n}(iv),Mw=n(152),Uw=n.n(Mw),Vw=n(77);function qw(t){return(qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hw(r.key),r)}}function Gw(t,e,n){return e&&Fw(t.prototype,e),n&&Fw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hw(t){var e=Jw(t,"string");return"symbol"===qw(e)?e:String(e)}function Jw(t,e){if("object"!==qw(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ww(){return(Ww="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Kw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Kw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eS(t)););return t}function Yw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return(Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $w(t){var e=tS();return function(){var n,r=eS(t);if(e){var o=eS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qw(this,n)}}function Qw(t,e){if(e&&("object"===qw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zw(t)}function Zw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function eS(t){return(eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nS=function(t){Yw(n,t);var e=$w(n);function n(){var t;zw(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings);var a=window.getComputedStyle(t.el).fontFamily.split(", ")[0];if("serif"!==a&&"sans-serif"!==a){var u=new Uw.a(a);u.load().then((function(){t.initSwiper()}),(function(){t.initSwiper(),u.load(null,1e4).then((function(){t.swiper.update()}),(function(){console.error("".concat(a," font is not available"))}))}))}else t.initSwiper();return t.initMenuActivator(),t.initLatestNews(),t}return Gw(n,[{key:"initSwiper",value:function(){var t=this,e=this.el.querySelector(".swiper"),n=this.el.querySelector('[data-swiper-el="prevEl"]'),r=this.el.querySelector('[data-swiper-el="nextEl"]'),o=this.settings.isBreadcrumb;this.swiper=new Vw.d(e,{modules:[Vw.c,Vw.a],freeMode:!0,slidesPerView:"auto",navigation:{nextEl:r,prevEl:n,disabledClass:"hidden"},on:{init:function(){if(o)this.slideTo(this.slides.length-1,500,!1);else{var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}},reachBeginning:function(){t.onSwiperReachBeginning()},fromEdge:function(){t.onSwiperFromEdge()}}}),this.subscribe(c.dc,this.onUpdateSwiper)}},{key:"initMenuActivator",value:function(){var t=this;this.el.querySelector('[data-navbar-el="menuActivator"]').addEventListener("click",(function(){t.publish(c.hb)}))}},{key:"initLatestNews",value:function(){this.latestNewsTooltip=this.el.querySelector('[data-navbar-el="latestNewsTooltip"]')}},{key:"onSwiperFromEdge",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="hidden")}},{key:"onSwiperReachBeginning",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="visible")}},{key:"onUpdateSwiper",value:function(t){t.updateId===this.settings.updateId&&this.swiper&&"function"==typeof this.swiper.update&&this.swiper.update()}},{key:"destroy",value:function(){Ww(eS(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function rS(t){return(rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uS(r.key),r)}}function aS(t,e,n){return e&&iS(t.prototype,e),n&&iS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uS(t){var e=cS(t,"string");return"symbol"===rS(e)?e:String(e)}function cS(t,e){if("object"!==rS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function sS(){return(sS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=lS(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function lS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vS(t)););return t}function fS(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return(yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pS(t){var e=bS();return function(){var n,r=vS(t);if(e){var o=vS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dS(this,n)}}function dS(t,e){if(e&&("object"===rS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hS(t)}function hS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vS(t){return(vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mS=function(t){fS(n,t);var e=pS(n);function n(){var t;oS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).loadSrc(),t}return aS(n,[{key:"destroy",value:function(){sS(vS(n.prototype),"destroy",this).call(this)}}]),n}(Tf);n(289);function gS(t){return(gS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kS(r.key),r)}}function OS(t,e,n){return e&&SS(t.prototype,e),n&&SS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kS(t){var e=PS(t,"string");return"symbol"===gS(e)?e:String(e)}function PS(t,e){if("object"!==gS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ES(){return(ES="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=jS(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function jS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RS(t)););return t}function _S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return(TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CS(t){var e=LS();return function(){var n,r=RS(t);if(e){var o=RS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AS(this,n)}}function AS(t,e){if(e&&("object"===gS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return IS(t)}function IS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function RS(t){return(RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var NS=2e3,xS=function(t){_S(n,t);var e=CS(n);function n(){var t;wS(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t=e.call.apply(e,[this].concat(i));var u=D.a.instance;if(u.isIssueArticle)return AS(t);if(t.isInitialized=!1,t.consentDisabled=!(!r.a.instance.consent||"boolean"!=typeof r.a.instance.consent.disabled)&&r.a.instance.consent.disabled,t.settings=JSON.parse(t.data.outbrainSettings),t.app=!!K.a.isApp&&K.a.appCode,t.outbrainId=String(),t.noAds=t.settings.noAds,t.consentGloballyDisabled=!(!r.a.instance.consent||"boolean"!=typeof r.a.instance.consent.globallyDisabled)&&r.a.instance.consent.globallyDisabled,!t.noAds&&t.consentGloballyDisabled){t.noAds=!0;var s=Yu.a.instance;s.ready?t.onTCDataChanged():(t.tcdataInitializationTimeoutId=setTimeout((function(){console.error("Outbrain: TCData init timeout"),t.onTCDataChanged()}),NS),t.subscribe(c.Ob,t.onTCDataChanged,IS(t)))}else t.init();return t}return OS(n,[{key:"onTCDataChanged",value:function(){(void 0!==this.tcdataInitializationTimeoutId&&clearTimeout(this.tcdataInitializationTimeoutId),this.noAds&&this.consentGloballyDisabled)&&(Yu.a.instance.isPurposeGranted(_.p.store_and_access_information_on_a_device)&&(this.noAds=!1));this.init()}},{key:"init",value:function(){this.isInitialized||(this.isInitialized=!0,this.determineOutbrainId(),this.outbrainId&&(this.setTrackingReducedVersion(),this.embedOutbrainElement(),this.loadSrc()))}},{key:"determineOutbrainId",value:function(){var t=this,e="web";"android"===this.app?e="android":"ios"===this.app&&(e="ios");var n=Array.from(this.settings.widgetIDs).filter((function(n){return n.ads===!t.noAds&&n.guaranteed===t.settings.guaranteed&&n.type===t.settings.type&&n.device===e?n.id:null}));this.outbrainId=n[0]&&n[0].id?n[0].id:null}},{key:"setTrackingReducedVersion",value:function(){if(this.consentDisabled){var t="OB_ContextKeyValue";window[t]||(window[t]="notracking")}}},{key:"partnerKey",get:function(){return K.a.isApp&&(K.a.isAndroidApp||K.a.isIOSApp)?this.settings.partnerKeys["".concat(K.a.isAndroidApp?"android":"ios").concat(Ue.a.isTablet?"Tablet":"Mobile")]:""}},{key:"embedOutbrainElement",value:function(){var t={};K.a.isApp&&(t["data-ob-installation-type"]="app_js_widget",t["data-is-secured"]="true",t["data-ob-installation-key"]=this.partnerKey,t["data-ob-user-id"]=mt.a.instance.advertisingId?mt.a.instance.advertisingId:"null",t["data-ob-app-ver"]=mt.a.instance.bundleId?mt.a.instance.bundleId:"");var e='\n            <div class="outbrain-container">\n                <div id="'.concat(this.outbrainId,'"\n                    class="OUTBRAIN"\n                    data-src="').concat(this.settings.src,'"\n                    data-widget-id="').concat(this.outbrainId,'"\n                    data-ob-template="').concat(this.settings.template||"DE_SPIEGEL",'"\n        ');Object.keys(t).forEach((function(n){e+="".concat(n,'="').concat(t[n],'"\n            ')})),e+=">\n                </div>\n            </div>\n        ",this.embedToWrapper(e.trim())}},{key:"embedToWrapper",value:function(t){if(t)try{this.el.appendChild(document.createRange().createContextualFragment(t))}catch(e){this.el.insertAdjacentHTML("beforeend",t)}}},{key:"scriptEl",get:function(){return this.el.querySelector('[data-outbrain-el="script"]')}},{key:"destroy",value:function(){this.el.innerHTML="",ES(RS(n.prototype),"destroy",this).call(this)}}]),n}(Tf);function BS(t){return(BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VS(r.key),r)}}function US(t,e,n){return e&&MS(t.prototype,e),n&&MS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VS(t){var e=qS(t,"string");return"symbol"===BS(e)?e:String(e)}function qS(t,e){if("object"!==BS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==BS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function zS(){return(zS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=FS(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function FS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XS(t)););return t}function GS(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return(HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function JS(t){var e=YS();return function(){var n,r=XS(t);if(e){var o=XS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WS(this,n)}}function WS(t,e){if(e&&("object"===BS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return KS(t)}function KS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function XS(t){return(XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $S=function(t){GS(n,t);var e=JS(n);function n(){var t;DS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).paywallId=t.settings.paywallId,t.subscribe(c.a,t.onAccordionSectionExpanded,KS(t)),t}return US(n,[{key:"onAccordionClick",value:function(){this.isExpanded||this.expand()}},{key:"onAccordionSectionExpanded",value:function(t){t!==this&&t.paywallId===this.paywallId&&this.collapse()}},{key:"expand",value:function(){zS(XS(n.prototype),"expand",this).call(this),this.publish(c.a,this,this.paywallId)}},{key:"toggleIconsExpanded",value:function(t){t?(this.expandIconEl.style.transform="rotate(-180deg)",this.expandIconEl.style.transition="ease .3s transform",this.expandIconEl.classList.add("opacity-full"),this.expandIconEl.classList.remove("opacity-slight")):(this.expandIconEl.style.transform="",this.expandIconEl.style.transition="none",this.expandIconEl.classList.remove("opacity-full"),this.expandIconEl.classList.add("opacity-slight"))}}]),n}(iv);function QS(t){return(QS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nO(r.key),r)}}function eO(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nO(t){var e=rO(t,"string");return"symbol"===QS(e)?e:String(e)}function rO(t,e){if("object"!==QS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==QS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function oO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iO(t,e)}function iO(t,e){return(iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function aO(t){var e=sO();return function(){var n,r=lO(t);if(e){var o=lO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&("object"===QS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cO(t)}function cO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function lO(t){return(lO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fO=function(t){oO(n,t);var e=aO(n);function n(){return ZS(this,n),e.apply(this,arguments)}return eO(n,[{key:"loginLayerClosedEvent",get:function(){return c.qb}},{key:"loginLayerOpenedEvent",get:function(){return c.rb}},{key:"closeLoginEvent",get:function(){return c.pb}},{key:"openLoginEvent",get:function(){return c.sb}}]),n}(ld);function yO(t){return(yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bO(r.key),r)}}function hO(t,e,n){return e&&dO(t.prototype,e),n&&dO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bO(t){var e=vO(t,"string");return"symbol"===yO(e)?e:String(e)}function vO(t,e){if("object"!==yO(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var mO=Symbol("INSTANCE"),gO=Symbol("SINGELTONENFORCER"),wO="STATE_READY",SO="STATE_LOADING",OO="STATE_ERROR",kO=function(){function t(e){if(pO(this,t),e!==gO)throw new Error("Instantiation failed: Use Secretbox.instance instead of new.");this._state=SO,this.key=j.a.instance.secretboxKey,this.key?this.init():this._state=OO}return hO(t,[{key:"init",value:function(){var t=this;Promise.all([Promise.all([n.e(2),n.e(11)]).then(n.t.bind(null,319,7)),n.e(2).then(n.t.bind(null,320,7)),n.e(2).then(n.t.bind(null,321,7))]).then((function(e){t.secretbox=e[0].secretbox,t.decodeBase64=e[1].decode,t.encodeUTF8=e[2].decode,t._state=wO,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(c.xb)})).catch((function(e){t._state=OO,console.error(e.message)}))}},{key:"decrypt",value:function(t){if(this.state!==wO){var e="";switch(this.state){case OO:e="Secretbox is not available";break;case SO:e="Secretbox is not yet ready";break;default:e="Secretbox has not been initialized"}return console.error(e),""}var n=this.decodeBase64(this.key),r=this.decodeBase64(t),o=r.slice(0,this.secretbox.nonceLength),i=r.slice(this.secretbox.nonceLength),a=this.secretbox.open(i,o,n);return a?this.encodeUTF8(a):(console.error("Could not decrypt message"),"")}},{key:"ready",get:function(){return this.state===wO}},{key:"state",get:function(){return this._state}}],[{key:"instance",get:function(){return this[mO]||(this[mO]=new t(gO)),this[mO]}}]),t}();function PO(t){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TO(r.key),r)}}function _O(t,e,n){return e&&jO(t.prototype,e),n&&jO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TO(t){var e=CO(t,"string");return"symbol"===PO(e)?e:String(e)}function CO(t,e){if("object"!==PO(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==PO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function AO(){return(AO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=IO(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function IO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=MO(t)););return t}function LO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return(RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function NO(t){var e=DO();return function(){var n,r=MO(t);if(e){var o=MO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(t,e){if(e&&("object"===PO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return BO(t)}function BO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function MO(t){return(MO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var UO=function(t){LO(n,t);var e=NO(n);function n(){var t;EO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=E.a.parseBase64Settings(t.data.settings),t.settings?(t.isInitialized=!1,t.isClickPending=!1,t.playlistId=null,t.clipId=null,t.boundOnClick=function(e){return t.onClick(e)},t.el.addEventListener("click",t.boundOnClick),t):xO(t)}return _O(n,[{key:"init",value:function(){var t=this.settings.isEncrypted;t&&!j.a.instance.secretboxKey||(t?kO.instance.ready?this.onSecretboxReady():this.subscribe(c.xb,this.onSecretboxReady,this):(this.playlistId=this.settings.playlistId,this.clipId=this.settings.clipId,this.onInitialized()))}},{key:"onSecretboxReady",value:function(){var t=kO.instance;this.settings.playlistId&&(this.playlistId=t.decrypt(this.settings.playlistId)),this.settings.clipId&&(this.clipId=t.decrypt(this.settings.clipId)),this.onInitialized()}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.isClickPending&&(this.isClickPending=!1,this.openPodcastSubscribeLayer())}},{key:"onClick",value:function(t){if(t.preventDefault(),!this.isInitialized)return this.isClickPending=!0,void this.init();this.openPodcastSubscribeLayer()}},{key:"openPodcastSubscribeLayer",value:function(){this.publish(c.tb,{playlistId:this.playlistId,clipId:this.clipId})}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),AO(MO(n.prototype),"destroy",this).call(this)}}]),n}(a.Component),VO=(n(291),n(204),n(294),n(68));function qO(t){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HO(r.key),r)}}function GO(t,e,n){return e&&FO(t.prototype,e),n&&FO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HO(t){var e=JO(t,"string");return"symbol"===qO(e)?e:String(e)}function JO(t,e){if("object"!==qO(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var WO=function(){function t(){zO(this,t)}return GO(t,null,[{key:"getPodcastPlatformLinks",value:function(t){var e=[],n=t.itunesId,r=t.feedUrl,o=t.spotifyId;return n&&e.push({id:"apple-podcasts",platform:"Apple Podcasts",link:"https://podcasts.apple.com/podcast/id".concat(n)},{id:"castbox",platform:"Castbox",link:"https://castbox.fm/vic/".concat(n)}),r&&e.push({id:"google-podcasts",platform:"Google Podcasts",link:"https://podcasts.google.com/?feed=".concat(VO.a.encodeBase64(r))},{id:"rss",platform:"RSS",link:r}),o&&e.push({id:"spotify",platform:"Spotify",link:"https://open.spotify.com/show/".concat(o)}),e}}]),t}();function KO(t){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YO(Object(n),!0).forEach((function(e){$O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $O(t,e,n){return(e=ok(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(){QO=function(t,e){return new n(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function n(t,r,o){var i=new RegExp(t,r);return e.set(i,o||e.get(t)),tk(i,n.prototype)}function r(t,n){var r=e.get(n);return Object.keys(r).reduce((function(e,n){var o=r[n];if("number"==typeof o)e[n]=t[o];else{for(var i=0;void 0===t[o[i]]&&i+1<o.length;)i++;e[n]=t[o[i]]}return e}),Object.create(null))}return ZO(n,RegExp),n.prototype.exec=function(e){var n=t.exec.call(this,e);if(n){n.groups=r(n,this);var o=n.indices;o&&(o.groups=r(o,this))}return n},n.prototype[Symbol.replace]=function(n,o){if("string"==typeof o){var i=e.get(this);return t[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(t,e){var n=i[e];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof o){var a=this;return t[Symbol.replace].call(this,n,(function(){var t=arguments;return"object"!=KO(t[t.length-1])&&(t=[].slice.call(t)).push(r(t,a)),o.apply(this,t)}))}return t[Symbol.replace].call(this,n,o)},QO.apply(this,arguments)}function ZO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return(tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ek(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ok(r.key),r)}}function rk(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ok(t){var e=ik(t,"string");return"symbol"===KO(e)?e:String(e)}function ik(t,e){if("object"!==KO(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==KO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ak=Symbol("INSTANCE"),uk=Symbol("SINGELTONENFORCER"),ck=function(){function t(e){if(ek(this,t),e!==uk)throw new Error("Instantiation failed: Use OmnyStudio.instance instead of new.");this.init()}return rk(t,[{key:"init",value:function(){var t=r.a.instance;t.thirdparty&&t.thirdparty.omny&&t.thirdparty.omny.apiUrl&&t.thirdparty.omny.orgId?(this.apiUrl=t.thirdparty.omny.apiUrl,this.orgId=t.thirdparty.omny.orgId,this.programs=t.thirdparty.omny.programs?t.thirdparty.omny.programs:{}):console.error("OmnyStudio requires apiUrl and orgId for correct instantiation.")}},{key:"getClipByClipId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByClipId - missing valid clipId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/clips/").concat(t);return new Promise((function(r,o){e.fetchUrl(n).then((function(n){if(n){var i=e.sanitizeFieldsInObject(n,["Title","Description"]);r(i)}else o(new Error("OmnyStudio getClipByClipId - no clip found for clipId: ".concat(t)))})).catch((function(t){return o(t)}))}))}},{key:"getClipByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips?pageSize=1");return new Promise((function(r,o){e.fetchUrl(n).then((function(n){var i=n.Clips&&Array.isArray(n.Clips)&&"undefined"!==n.Clips[0]?n.Clips[0]:void 0;if(i){var a=e.sanitizeFieldsInObject(i,["Title","Description"]);r(a)}else o(new Error("OmnyStudio getClipByPlaylistId - no clip found for playlistId: ".concat(t)))})).catch((function(t){return o(t)}))}))}},{key:"getClipsByPlaylistId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var r="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips?pageSize=").concat(n);return new Promise((function(n,o){e.fetchUrl(r).then((function(r){var i=r.Clips&&Array.isArray(r.Clips)&&r.Clips.length>0?r.Clips:void 0;if(i){var a=i.map((function(t){return e.sanitizeFieldsInObject(t,["Title","Description"])}));n(a)}else o(new Error("OmnyStudio getClipsByPlaylistId - no clips found for playlistId: ".concat(t)))})).catch((function(t){return o(t)}))}))}},{key:"getPlaylistByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getPlaylistByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t);return new Promise((function(r,o){e.fetchUrl(n).then((function(n){if(n){var i=e.sanitizeFieldsInObject(n,["Title","Description"]);r(i)}else o(new Error("OmnyStudio getPlaylistByPlaylistId - no playlist found for playlistId: ".concat(t)))})).catch((function(t){return o(t)}))}))}},{key:"getPlaylistIdFromClip",value:function(t){return void 0!==t&&t.PlaylistIds&&Array.isArray(t.PlaylistIds)?t.PlaylistIds[0]:""}},{key:"getProgramIdFromClip",value:function(t){return void 0!==t&&t.ProgramId?t.ProgramId:""}},{key:"getProgramNameByProgramId",value:function(t){return this.programs[t]&&this.programs[t].name?this.programs[t].name:""}},{key:"getPlayButtonLabelByProgramId",value:function(t){return t&&this.programs[t]&&this.programs[t].playButtonLabel?this.programs[t].playButtonLabel:"AnhÃ¶ren"}},{key:"getReplayButtonLabelByProgramId",value:function(t){return t&&this.programs[t]&&this.programs[t].replayButtonLabel?this.programs[t].replayButtonLabel:"Erneut anhÃ¶ren"}},{key:"getPlatformLinksByPlaylistId",value:function(t){var e=this;return new Promise((function(n,r){e.getPlaylistByPlaylistId(t).then((function(t){var r=e.getPlatformLinksByPlaylist(t);n(r)})).catch((function(t){return r(t)}))}))}},{key:"getPlatformLinksByClipId",value:function(e){var n=this;return new Promise((function(r,o){n.getClipByClipId(e).then((function(r){var i=n.getPlaylistIdFromClip(r);return i||o(new Error("OmnyStudio getPlatformLinksByClipId - no playlist found for clipId: ".concat(e))),t.instance.getPlaylistByPlaylistId(i)})).then((function(t){var e=n.getPlatformLinksByPlaylist(t);r(e)})).catch((function(t){return o(t)}))}))}},{key:"getPlatformLinksByPlaylist",value:function(e){if(!e||!e.Id)return this.onError(),null;var n=t.instance.getItunesIdByPlaylist(e),r=t.instance.getSpotifyIdByPlaylist(e),o=t.instance.getFeedUrlByPlaylist(e);return WO.getPodcastPlatformLinks({itunesId:n,feedUrl:o,spotifyId:r})}},{key:"getItunesIdByPlaylist",value:function(t){if(!t||!t.DirectoryLinks||!t.DirectoryLinks.ApplePodcasts)return null;var e=t.DirectoryLinks.ApplePodcasts.match(QO(/id(\d+)/,{itunesId:1}));return e&&e.groups&&e.groups.itunesId?e.groups.itunesId:null}},{key:"getSpotifyIdByPlaylist",value:function(t){if(!t||!t.DirectoryLinks||!t.DirectoryLinks.Spotify)return null;var e=t.DirectoryLinks.Spotify.match(QO(/show\/(([A-Za-z]|\d)+)/,{spotifyId:1}));return e&&e.groups&&e.groups.spotifyId?e.groups.spotifyId:null}},{key:"getFeedUrlByPlaylist",value:function(t){return t&&t.DirectoryLinks&&t.DirectoryLinks.RssFeed?t.DirectoryLinks.RssFeed:null}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return 200!==t.status?Promise.reject(new Error("OmnyStudio fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()}))}},{key:"sanitizeFieldsInObject",value:function(t,e){var n=this,r=XO({},t);return e.forEach((function(t){r[t]&&"string"==typeof r[t]&&(r[t]=n.sanitizeString(r[t]))})),r}},{key:"sanitizeString",value:function(t){return t.replace(/[AOUaou]\u0308/g,(function(t){switch(t.charCodeAt(0)){case 65:return"Ã„";case 79:return"Ã–";case 85:return"Ãœ";case 97:return"Ã¤";case 111:return"Ã¶";case 117:return"Ã¼";default:return t}}))}}],[{key:"instance",get:function(){return this[ak]||(this[ak]=new t(uk)),this[ak]}}]),t}();function sk(t){return(sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pk(r.key),r)}}function yk(t,e,n){return e&&fk(t.prototype,e),n&&fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pk(t){var e=dk(t,"string");return"symbol"===sk(e)?e:String(e)}function dk(t,e){if("object"!==sk(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==sk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function hk(){return(hk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=bk(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function bk(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kk(t)););return t}function vk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return(mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gk(t){var e=Ok();return function(){var n,r=kk(t);if(e){var o=kk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wk(this,n)}}function wk(t,e){if(e&&("object"===sk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sk(t)}function Sk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function kk(t){return(kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pk=function(t){vk(n,t);var e=gk(n);function n(){var t;lk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).clipId=t.data.settings?JSON.parse(t.data.settings):{},t.omnyStudio=ck.instance,t.title=t.el.querySelector('[data-preview-el="title"]'),t.init(),t}return yk(n,[{key:"init",value:function(){var t=this;this.fetchOmnyDataByClipId(this.clipId).then((function(e){return t.displayProgramName(e)})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,r){e.omnyStudio.getClipByClipId(t).then((function(t){var r=e.omnyStudio.getProgramIdFromClip(t),o=r?e.omnyStudio.getProgramNameByProgramId(r):"";n(o)})).catch((function(t){return r(t)}))}))}},{key:"displayProgramName",value:function(t){this.title&&t&&(this.title.innerText=t)}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){hk(kk(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);n(232);function Ek(t){return(Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ck(r.key),r)}}function Tk(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ck(t){var e=Ak(t,"string");return"symbol"===Ek(e)?e:String(e)}function Ak(t,e){if("object"!==Ek(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ek(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ik(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lk(t,e)}function Lk(t,e){return(Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rk(t){var e=Bk();return function(){var n,r=Dk(t);if(e){var o=Dk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nk(this,n)}}function Nk(t,e){if(e&&("object"===Ek(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xk(t)}function xk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dk(t){return(Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mk=2e3,Uk=function(t){Ik(n,t);var e=Rk(n);function n(){var t;jk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.storageObject=new M.a("sourcepoint","session"),t.scriptSrc=t.settings.scriptSrc,t.pendingChoiceId=null,t.isExecuteMessagingPending=!1,t.isMessagePending=!1,t.init(),t}return Tk(n,[{key:"init",value:function(){var t=this;this.subscribe(c.Hb,this.openPrivacyManager),this.subscribe(c.Jb,this.selectChoice),this.subscribe(c.Ib,this.reloadMessages),this.subscribe(c.Ob,this.onTCDataChanged),this.subscribe(c.V,this.onLanguageSwitched),this.subscribe(c.fb,this.onPageResume),window.addEventListener("error",(function(e){t.onWindowError(e)})),this.initAuthIdCookie(),this.initSourcepointConfig(),this.initPrivacyManagerButtons(),this.attachPrivacyManagerPullToRefreshFix(),j.a.instance.isNewLoggedIn&&j.a.instance.hasNoAdsAccess?this.deleteConsentDataHistory().catch((function(t){console.error(t.message)})).finally((function(){t.initSourcepointScript()})):this.initSourcepointScript()}},{key:"initAuthIdCookie",value:function(){if(K.a.isApp&&mt.a.instance.authId){var t=Ol.a.get(_.i.authId.name);t&&t===mt.a.instance.authId||Ol.a.set(_.i.authId.name,mt.a.instance.authId,{expires:_.i.authId.expires})}}},{key:"initSourcepointConfig",value:function(){var t=this,e=this.settings,n=e.accountId,o=e.baseEndpoint,i=e.propertyHref,a=e.propertyId,u=e.campaignEnv,c=e.requestMessage,s=r.a.instance,l=j.a.instance,f=s.page&&s.page.category&&s.page.category.route?s.page.category.route:"";window._sp_queue=[],window._sp_={config:{accountId:n,baseEndpoint:o,isSPA:!0,consentLanguage:ds.instance.language,gdpr:{},events:{onPrivacyManagerAction:function(){var e=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0];t.onPrivacyManagerAction(e)},onPMCancel:function(){t.onPrivacyManagerCancel()},onMessageReady:function(){t.onMessageReady()},onMessageReceiveData:function(){var e=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0];t.onReceiveMessageData(e)},onMessageChoiceSelect:function(){var e=3===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],n=3===arguments.length?arguments.length<=2?void 0:arguments[2]:arguments.length<=1?void 0:arguments[1];t.onMessageChoiceSelect(e,n)},onMessageChoiceError:function(e){t.onMessageChoiceError(e)},onConsentReady:function(){var e=4===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],n=4===arguments.length?arguments.length<=2?void 0:arguments[2]:arguments.length<=1?void 0:arguments[1];t.onConsentReady(e,n)},onError:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.error("SourcePoint onError",e)}},targetingParams:{platform:K.a.isApp?"app":"web",is_phone:Ue.a.isPhone,is_tablet:Ue.a.isTablet,is_mobile:Ue.a.isMobile,route:f,is_loggedIn:l.isLoggedIn,has_paid_access:l.hasPaidAccess,has_noAds_access:l.hasNoAdsAccess,has_conditional_access:l.hasConditionalAccess,disable_consent:!(!s.consent||"boolean"!=typeof s.consent.disabled)&&s.consent.disabled,lang:ds.instance.language}}},i?window._sp_.config.propertyHref=i:a&&(window._sp_.config.propertyId=a),u&&"public"!==u&&(window._sp_.config.campaignEnv=u),"article"===f&&(window._sp_.config.targetingParams.paywall_is_active=s.paywall&&s.paywall.attributes&&s.paywall.attributes.is_active,window._sp_.config.targetingParams.paywall_type=s.paywall&&s.paywall.category&&s.paywall.category.type?s.paywall.category.type:""),K.a.isApp&&(K.a.isAndroidApp?window._sp_.config.targetingParams.os="Android":K.a.isIOSApp&&(window._sp_.config.targetingParams.os="iOS"),window._sp_.config.targetingParams.app_version=K.a.appVersion);var y=!(!s.consent||"boolean"!=typeof s.consent.disabled)&&s.consent.disabled;c?window._sp_.config.targetingParams.requestMessage=c:l.hasNoAdsAccess||y||Ue.a.isCrawler||Ue.a.isAutomated||(window._sp_.config.targetingParams.requestMessage="consent-layer")}},{key:"initPrivacyManagerButtons",value:function(){var t=this,e=Array.from(document.querySelectorAll('a[href^="#sp_privacy_manager"]'));if(e&&e.length>0)for(var n=function(n){var r=e[n],o=r.hash.split("#sp_privacy_manager_")[1]?r.hash.split("#sp_privacy_manager_")[1]:"";r.addEventListener("click",(function(e){e.preventDefault(),t.publish(c.Hb,o)}))},r=0;r<e.length;r++)n(r)}},{key:"initSourcepointScript",value:function(){var t=this,e=document.createElement("script");e.src=this.scriptSrc,e.addEventListener("error",(function(e){t.onScriptElementError(e)})),e.addEventListener("load",(function(e){t.onScriptElementLoaded(e)})),this.el.appendChild(e)}},{key:"openPrivacyManager",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.settings.privacyManagerId;if(e&&window._sp_){if("function"==typeof window._sp_.loadPrivacyManagerModal)window._sp_.loadPrivacyManagerModal(e,t);else{if(!window._sp_.gdpr||"function"!=typeof window._sp_.gdpr.loadPrivacyManagerModal)return;window._sp_.gdpr.loadPrivacyManagerModal(e,t)}this.attachPrivacyManagerResizeFix(),this.publish(c.Gb)}}},{key:"reloadMessages",value:function(){this.destroyMessages(),this.executeMessaging()}},{key:"deleteConsentDataHistory",value:function(){var t=this;return new Promise((function(e,n){var r=t.settings.siteId,o=Ol.a.get(_.i.consentUUID.name);if(r&&o){var i="https://sourcepoint.mgr.consensu.org/tcfv2/consent/v3/".concat(r,"?consentUUID=").concat(o);fetch(i,{method:"DELETE",headers:{"Content-Type":"text/plain"}}).then((function(t){200!==t.status&&n(new Error("Sourcepoint failed to delete consent data history, consentUUID: ".concat(o))),e()})).catch((function(){n(new Error("Sourcepoint failed to delete consent data history, consentUUID: ".concat(o)))}))}else n(new Error("Sourcepoint failed to delete consent data history, no data"))}))}},{key:"onReceiveMessageData",value:function(t){this.isExecuteMessagingPending&&(this.publish(c.Eb),this.isExecuteMessagingPending=!1),t&&t.msgDescription?(this.isMessagePending=!0,Us.instance.message=t.msgDescription):this.publish(c.Db)}},{key:"onMessageReady",value:function(){this.isMessagePending&&(this.publish(c.Cb,Us.instance.message),this.isMessagePending=!1)}},{key:"onMessageChoiceSelect",value:function(t,e){e&&(this.publish(c.Bb,e),this.onChoiceSelect(e))}},{key:"onMessageChoiceError",value:function(t){this.publish(c.Ab),Us.instance.errorOccurred=!0}},{key:"onPrivacyManagerAction",value:function(t){var e;(this.detachPrivacyManagerResizeFix(),t)&&(t.purposeConsent&&t.vendorConsent&&("all"===t.purposeConsent&&"all"===t.vendorConsent?(e=_.o.accept_all,this.onChoiceSelect(_.n.accept_all)):"none"===t.purposeConsent&&"none"===t.vendorConsent&&(e=_.o.reject_all,this.onChoiceSelect(_.n.reject_all)),this.publish(c.Fb,e)))}},{key:"onPrivacyManagerCancel",value:function(){this.publish(c.Fb,_.o.cancel)}},{key:"onChoiceSelect",value:function(t){this.pendingChoiceId||(t===_.n.accept_all||t===_.n.accept_some||t===_.n.reject_all?this.pendingChoiceId=t:this.publish(c.zb,t))}},{key:"onConsentReady",value:function(t,e){var n=this;void 0!==this.consentReadyTimeoutId&&clearTimeout(this.consentReadyTimeoutId),this.pendingChoiceId&&(this.consentReadyTimeoutId=setTimeout((function(){var t=n.pendingChoiceId;n.pendingChoiceId=null,n.publish(c.zb,t)}),Mk)),K.a.isApp&&this.publish(c.cb,new Lu(t,e))}},{key:"onTCDataChanged",value:function(t){}},{key:"onScriptElementLoaded",value:function(){window._sp_&&window._sp_.config&&window._sp_.config.isSPA&&"function"==typeof window._sp_.executeMessaging&&window._sp_.executeMessaging()}},{key:"onLanguageSwitched",value:function(t){t&&window._sp_&&window._sp_.config&&(window._sp_.config.consentLanguage=t,this.executeMessaging())}},{key:"onPageResume",value:function(){this.reloadMessages()}},{key:"onScriptElementError",value:function(t){console.error("SourcePoint onScriptElementError",t),this.publish(c.Ab),Us.instance.errorOccurred=!0}},{key:"onWindowError",value:function(t){t.filename&&t.filename===this.scriptSrc&&(console.error("SourcePoint onWindowError",t),this.publish(c.Ab),Us.instance.errorOccurred=!0)}},{key:"destroyMessages",value:function(){Array.from(document.querySelectorAll('body [id^="sp_message_container"]')).filter((function(t){return t&&t.style&&"none"!==t.style.display})).length>0&&window._sp_&&"function"==typeof window._sp_.destroyMessages&&window._sp_.destroyMessages()}},{key:"executeMessaging",value:function(){window._sp_&&"function"==typeof window._sp_.executeMessaging&&(this.isExecuteMessagingPending=!0,window._sp_.executeMessaging())}},{key:"attachPrivacyManagerResizeFix",value:function(){Ue.a.isMobileSafari&&(this.boundOnWindowResize||(this.boundOnWindowResize=function(){setTimeout((function(){window.scrollTo(0,1)}),500)}),window.addEventListener("resize",this.boundOnWindowResize))}},{key:"detachPrivacyManagerResizeFix",value:function(){Ue.a.isMobileSafari&&this.boundOnWindowResize&&window.removeEventListener("resize",this.boundOnWindowResize)}},{key:"attachPrivacyManagerPullToRefreshFix",value:function(){if(K.a.isAndroidApp){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText='[id^="sp_message_container"] { overflow: visible !important; }':t.appendChild(document.createTextNode('[id^="sp_message_container"] { overflow: visible !important; }')),document.head&&t&&document.head.appendChild(t)}}}]),n}(a.Component);function Vk(t){return(Vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qk(t){return Hk(t)||Gk(t)||Fk(t)||zk()}function zk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fk(t,e){if(t){if("string"==typeof t)return Jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jk(t,e):void 0}}function Gk(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Hk(t){if(Array.isArray(t))return Jk(t)}function Jk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xk(r.key),r)}}function Yk(t,e,n){return e&&Kk(t.prototype,e),n&&Kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xk(t){var e=$k(t,"string");return"symbol"===Vk(e)?e:String(e)}function $k(t,e){if("object"!==Vk(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Qk=Symbol("INSTANCE"),Zk=Symbol("SINGELTONENFORCER"),tP=function(){function t(e){if(Wk(this,t),e!==Zk)throw new Error("Instantiation failed: Use StoryHistory.instance instead of new.");this.init()}return Yk(t,[{key:"init",value:function(){this.localStorage=new M.a("stories","local")}},{key:"add",value:function(t){t&&!this.visitedStories.includes(t)&&(this.localStorage.setItem("visited",[].concat(qk(this.visitedStories),[t])),E.a.publish(c.Kb))}},{key:"isVisited",value:function(t){return t&&this.visitedStories.includes(t)}},{key:"visitedStories",get:function(){return this.localStorage&&Array.isArray(this.localStorage.getItem("visited"))?this.localStorage.getItem("visited"):[]}}],[{key:"instance",get:function(){return this[Qk]||(this[Qk]=new t(Zk)),this[Qk]}}]),t}();function eP(t){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iP(r.key),r)}}function oP(t,e,n){return e&&rP(t.prototype,e),n&&rP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iP(t){var e=aP(t,"string");return"symbol"===eP(e)?e:String(e)}function aP(t,e){if("object"!==eP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==eP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function uP(){return(uP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=cP(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function cP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hP(t)););return t}function sP(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return(lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fP(t){var e=dP();return function(){var n,r=hP(t);if(e){var o=hP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yP(this,n)}}function yP(t,e){if(e&&("object"===eP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pP(t)}function pP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function hP(t){return(hP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bP=function(t){sP(n,t);var e=fP(n);function n(){var t;nP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if((t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),!t.settings.storyId)return yP(t);t.boundOnClick=function(e){return t.onClick(e)},t.el.addEventListener("click",t.boundOnClick);var a=tP.instance.isVisited(t.settings.storyId),u=new URLSearchParams(window.location.search),s="1"===u.get("forceStoryLayer");return!t.settings.autoplay||a&&!s||Promise.resolve().then((function(){return t.publish(c.Lb,t.eventPayload)})),t}return oP(n,[{key:"onClick",value:function(t){t.preventDefault(),this.publish(c.Lb,this.eventPayload)}},{key:"eventPayload",get:function(){return{storyId:this.settings&&this.settings.storyId?this.settings.storyId:null,layerId:this.settings&&this.settings.layerId?this.settings.layerId:null,activatorElement:this.el}}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),uP(hP(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function vP(t){return(vP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SP(r.key),r)}}function wP(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SP(t){var e=OP(t,"string");return"symbol"===vP(e)?e:String(e)}function OP(t,e){if("object"!==vP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function kP(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PP(t,e)}function PP(t,e){return(PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EP(t){var e=TP();return function(){var n,r=CP(t);if(e){var o=CP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(t,e){if(e&&("object"===vP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _P(t)}function _P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function CP(t){return(CP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var AP=function(t){kP(n,t);var e=EP(n);function n(){var t;mP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.settings.storyId?(t.subscribe(c.Kb,t.update,_P(t)),t.update(),t):jP(t)}return wP(n,[{key:"update",value:function(){this.el.classList.toggle("opacity-moderate",tP.instance.isVisited(this.settings.storyId))}}]),n}(a.Component);n(177);function IP(t){return(IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xP(r.key),r)}}function NP(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xP(t){var e=BP(t,"string");return"symbol"===IP(e)?e:String(e)}function BP(t,e){if("object"!==IP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==IP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function DP(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MP(t,e)}function MP(t,e){return(MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UP(t){var e=zP();return function(){var n,r=FP(t);if(e){var o=FP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VP(this,n)}}function VP(t,e){if(e&&("object"===IP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qP(t)}function qP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function FP(t){return(FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GP="STATE_CLOSED",HP="STATE_OPEN",JP="STATE_PLAYER_LOADING",WP="STATE_PLAYER_DEFAULT",KP="STATE_CUSTOM_CONTROLS_OPEN",YP="STATE_CUSTOM_CONTROLS_CLOSE",XP={android:5,IOS:11},$P=function(t){DP(n,t);var e=UP(n);function n(){var t;LP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.stories=Array.isArray(t.settings.stories)?t.settings.stories:[],t.pagesData=t.settings.pagesData?t.settings.pagesData:{},t.playerContainer=t.el.querySelector('[data-story-el="player-container"]'),t.player=t.el.querySelector('[data-story-el="player"]'),t.loader=t.el.querySelector('[data-story-el="loader"]'),t.cancelButton=t.el.querySelector('[data-story-el="cancel-button"]'),t.customControls=t.el.querySelector('[data-story-el="custom-controls"]'),t.customCloseButton=t.el.querySelector('[data-story-el="custom-close-button"]'),t.customCloseButtonLabel=t.el.querySelector('[data-story-el="custom-close-button-label"]'),t.customRedirectLink=t.el.querySelector('[data-story-el="custom-redirect-link"]'),t.customRedirectLinkLabel=t.el.querySelector('[data-story-el="custom-redirect-link-label"]'),t.defaultCustomRedirectLinkLabel=t.customRedirectLinkLabel&&t.customRedirectLinkLabel.textContent?t.customRedirectLinkLabel.textContent:"",t._isInitPending=!1,t._isInitialized=!1,t._state=GP,t._playerState=JP,t._customControlsState=null,t._storyIndex=0,t._activatorElement=null,t.boundOnPlayerReady=function(){return t.onPlayerReady()},t.boundOnNavigation=function(e){return t.onNavigation(e)},t.boundOnStoryNavigation=function(e){return t.onStoryNavigation(e)},t.boundOnClose=function(){return t.onClose()},t.boundOnKeyDown=function(e){return t.onKeyDown(e)},n.isSupported?(t.subscribe(c.Lb,t.onStoryOpen,qP(t)),t.cancelButton.addEventListener("click",t.boundOnClose),t):VP(t)}return NP(n,[{key:"init",value:function(){var t=this;this._isInitialized||this._isInitPending||(this._isInitPending=!0,"function"==typeof this.player.addEventListener&&(this.player.addEventListener("ready",this.boundOnPlayerReady),this.player.addEventListener("navigation",this.boundOnNavigation),this.player.addEventListener("storyNavigation",this.boundOnStoryNavigation),this.player.addEventListener("noNextStory",this.boundOnClose),this.player.addEventListener("amp-story-player-close",this.boundOnClose)),this.player.isReady?this.onPlayerReady():Promise.resolve().then((function(){t.publish(c.i)})))}},{key:"onStoryOpen",value:function(t){var e=t.storyId,n=t.layerId,r=t.activatorElement;if(!n||this.settings.layerId===n){var o=this.stories.find((function(t){return t.id===e}));if(o){if(this._isInitialized)this.playerStories.find((function(t){return t.href===o.url})).storyContentLoaded||(this.playerState=JP),this.player.show(o.url,null,{animate:!1});else this.nextStory=o,this.init();r instanceof Element&&(this._activatorElement=r),this.state=HP}}}},{key:"onLayerOpened",value:function(){this.cancelButton.focus(),this.player.isReady&&(this.rewindAllStories(),this.player.play())}},{key:"onLayerClosed",value:function(){this._activatorElement&&(this._activatorElement.focus(),this._activatorElement=null),this.rewindAllStories()}},{key:"onPlayerReady",value:function(){this._isInitPending=!1,this.nextStory&&(this.player.show(this.nextStory.url,null,{animate:!1}),this.nextStory=null),this._isInitialized=!0}},{key:"onStoryNavigation",value:function(t){var e=t.detail&&t.detail.pageId?t.detail.pageId:null;this.currentStory.pageId=e,this.updateCustomControls(),this.playerState!==WP&&(this.playerState=WP),tP.instance.isVisited(this.currentStory.id)||tP.instance.add(this.currentStory.id)}},{key:"onNavigation",value:function(t){this._storyIndex=t.detail.index,this.updateCustomControls(),this.playerStories[this._storyIndex].storyContentLoaded||(this.playerState=JP)}},{key:"onClose",value:function(){this.pause(),this.state=GP}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.onClose())}},{key:"open",value:function(){var t=this;this.state!==HP&&(this.publish(c.mb,this),window.document.addEventListener("keydown",this.boundOnKeyDown),this.el.classList.remove("hidden"),this.el.style.opacity=0,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=1}),0),setTimeout((function(){return t.onLayerOpened()}),500))}},{key:"close",value:function(){var t=this;this.state!==GP&&(this.publish(c.kb,this),window.document.removeEventListener("keydown",this.boundOnKeyDown),this._activatorElement&&!Dr.a.isInViewport(this._activatorElement)&&Dr.a.scrollToElement(this._activatorElement,{behavior:"auto",block:"center"}),this.el.style.opacity=1,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=0}),0),setTimeout((function(){t.el.classList.add("hidden"),t.onLayerClosed()}),500))}},{key:"rewindAllStories",value:function(){var t=this;"function"==typeof this.player.rewind&&this.stories.forEach((function(e){e.url&&t.player.rewind(e.url)}))}},{key:"pause",value:function(){"function"==typeof this.player.pause&&this.player.pause()}},{key:"openCustomControls",value:function(){this.customControlsState!==KP&&(E.a.toggleElementVisibility(this.customControls,!0),this.customCloseButton.addEventListener("click",this.boundOnClose))}},{key:"closeCustomControls",value:function(){this.customControlsState!==YP&&(E.a.toggleElementVisibility(this.customControls,!1),this.customCloseButton.removeEventListener("click",this.boundOnClose))}},{key:"updateCustomControls",value:function(){var t=this.currentStory&&this.currentStory.pageId?this.currentStory.pageId:"",e=this.pagesData&&this.pagesData[t]&&this.pagesData[t].customControls?this.pagesData[t].customControls:{},n=e.action,r=e.url,o=void 0===r?"#":r,i=e.label,a=void 0===i?"":i;switch(n){case"redirect":this.customRedirectLink.setAttribute("href",o),this.customRedirectLink.setAttribute("title",o?a:""),this.customRedirectLinkLabel.textContent=a,E.a.toggleElementVisibility(this.customRedirectLink,!0),E.a.toggleElementVisibility(this.customCloseButton,!1),this.customControlsState=KP;break;case"close":this.customCloseButtonLabel.textContent=a,E.a.toggleElementVisibility(this.customRedirectLink,!1),E.a.toggleElementVisibility(this.customCloseButton,!0),this.customControlsState=KP;break;default:this.customControlsState=YP}}},{key:"preventScrolling",get:function(){return!0}},{key:"expandHeader",get:function(){return!0}},{key:"state",get:function(){return this._state},set:function(t){switch(t){case HP:this.open(),this._state=t;break;case GP:this.close(),this._state=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for state'))}}},{key:"playerState",get:function(){return this._playerState},set:function(t){var e=this;switch(t){case JP:this.loader.classList.add("opacity-none"),E.a.toggleElementVisibility(this.loader,!0),window.setTimeout((function(){return e.loader.classList.remove("opacity-none")}),0),this._playerState=t;break;case WP:this.loader.classList.add("opacity-none"),window.setTimeout((function(){E.a.toggleElementVisibility(e.loader,!1),e.loader.classList.remove("opacity-none")}),150),this._playerState=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for playerState'))}}},{key:"customControlsState",get:function(){return this._customControlsState},set:function(t){switch(t){case KP:this.openCustomControls(),this._customControlsState=t;break;case YP:this.closeCustomControls(),this._customControlsState=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for customControlsState'))}}},{key:"currentStory",get:function(){return this.stories[this._storyIndex]}},{key:"playerStories",get:function(){return this.player&&"function"==typeof this.player.getStories?this.player.getStories():[]}}],[{key:"isSupported",get:function(){var t=!1,e=Ue.a.isAndroid,n=Ue.a.isIOS,r=e?"android":n?"IOS":null,o=r?Ue.a["".concat(r,"Version")]:{},i=r?XP[r]:null;return o&&o.major&&i&&o.major<i&&(t=!0),!t&&!Ue.a.isInternetExplorer}}]),n}(a.Component);function QP(t){return(QP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nE(r.key),r)}}function eE(t,e,n){return e&&tE(t.prototype,e),n&&tE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nE(t){var e=rE(t,"string");return"symbol"===QP(e)?e:String(e)}function rE(t,e){if("object"!==QP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==QP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function oE(){return(oE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=iE(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function iE(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yE(t)););return t}function aE(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return(uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cE(t){var e=fE();return function(){var n,r=yE(t);if(e){var o=yE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sE(this,n)}}function sE(t,e){if(e&&("object"===QP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lE(t)}function lE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yE(t){return(yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pE=function(t){aE(n,t);var e=cE(n);function n(){var t;ZP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=t.data.settings?JSON.parse(t.data.settings):{},t.slides=Array.from(t.el.querySelectorAll(".swiper-slide")),t.boundOnLazyLoad=function(e){return t.onLazyLoad(e)},t.settings.updateId&&t.subscribe(c.dc,(function(e){e.updateId&&t.settings.updateId===e.updateId&&t.swiper.update()})),t.settings.loadLazy?t.el.addEventListener("lazybeforeunveil",t.boundOnLazyLoad):t.init(),t}return eE(n,[{key:"init",value:function(){var t=this,e=void 0===this.settings.observeFonts||this.settings.observeFonts,n=window.getComputedStyle(this.el).fontFamily.split(", ")[0];if("serif"!==n&&"sans-serif"!==n&&e){var r=new Uw.a(n);r.load().then((function(){t.initSwiper()}),(function(){t.initSwiper(),r.load(null,1e4).then((function(){t.swiper.update()}),(function(){console.error("".concat(n," font is not available"))}))}))}else this.initSwiper()}},{key:"onLazyLoad",value:function(t){t.target===this.el&&this.init()}},{key:"initSwiper",value:function(){var t=this.el.classList.contains("swiper")?this.el:this.el.querySelector(".swiper"),e=this.el.querySelector('[data-swiper-el="prevEl"]'),n=this.el.querySelector('[data-swiper-el="nextEl"]'),r="boolean"==typeof this.settings.autoHeight&&this.settings.autoHeight,o="boolean"!=typeof this.settings.freeMode||this.settings.freeMode,i="boolean"==typeof this.settings.hashNavigation&&this.settings.hashNavigation,a="boolean"==typeof this.settings.loop&&this.settings.loop,u="boolean"!=typeof this.settings.roundLengths||this.settings.roundLengths,c="boolean"==typeof this.settings.watchOverflow&&this.settings.watchOverflow,s="object"===QP(this.settings.breakpoints)&&null!==this.settings.breakpoints?this.settings.breakpoints:{},l=("boolean"==typeof this.settings.pagination||"object"===QP(this.settings.pagination))&&this.settings.pagination,f=window.history.state;this.swiper=new Vw.d(t,{modules:[Vw.c,Vw.b,Vw.a],autoHeight:r,freeMode:o,hashNavigation:!!i&&{watchState:!0},loop:a,breakpoints:s,navigation:{nextEl:n,prevEl:e,disabledClass:"hidden"},pagination:l,roundLengths:u,slidesPerView:"auto",watchOverflow:c,on:{init:function(){var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}}}),window.history.state!==f&&window.history.replaceState(f,document.title)}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),oE(yE(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function dE(t){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mE(r.key),r)}}function vE(t,e,n){return e&&bE(t.prototype,e),n&&bE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mE(t){var e=gE(t,"string");return"symbol"===dE(e)?e:String(e)}function gE(t,e){if("object"!==dE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function wE(){return(wE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=SE(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function SE(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=TE(t)););return t}function OE(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return(kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function PE(t){var e=_E();return function(){var n,r=TE(t);if(e){var o=TE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EE(this,n)}}function EE(t,e){if(e&&("object"===dE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jE(t)}function jE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function TE(t){return(TE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CE=function(t){OE(n,t);var e=PE(n);function n(){var t;hE(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).settings=JSON.parse(t.data.settings),t.articleId=t.settings.articleId?t.settings.articleId:"",t.embedRoot=t.el.querySelector('[data-talk-el="embedRoot"]'),t.el.classList.contains("lazyloaded")?t.init():(t.boundInit=function(){t.init()},t.el.addEventListener("lazybeforeunveil",t.boundInit)),t}return vE(n,[{key:"init",value:function(){var t=this;this.settings.baseURL?window.Coral&&window.Coral.Talk?this.renderTalk():this.subscribe(c.Mb,(function(){t.renderTalk()})):console.error("Talk Base URL is undefined")}},{key:"renderTalk",value:function(){window.Coral.Talk.render(this.embedRoot,{talk:this.settings.baseURL,auth_token:Ol.a.get("userInfo"),asset_id:this.articleId}),this.el.querySelector('iframe[src^="'.concat(this.settings.baseURL,'"]')).style.minHeight="450px"}},{key:"destroy",value:function(){wE(TE(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function AE(t){return(AE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NE(r.key),r)}}function RE(t,e,n){return e&&LE(t.prototype,e),n&&LE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NE(t){var e=xE(t,"string");return"symbol"===AE(e)?e:String(e)}function xE(t,e){if("object"!==AE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==AE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function BE(){return(BE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=DE(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function DE(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=GE(t)););return t}function ME(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return(UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function VE(t){var e=FE();return function(){var n,r=GE(t);if(e){var o=GE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qE(this,n)}}function qE(t,e){if(e&&("object"===AE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zE(t)}function zE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function GE(t){return(GE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HE=function(t){ME(n,t);var e=VE(n);function n(){var t;IE(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).id="".concat(Math.floor(1e8+9e8*Math.random())),t.hash="kommentare",t.overlay=t.el.querySelector('[data-talk-drawer-el="overlay"]'),t.closeButton=t.el.querySelector('[data-talk-drawer-el="close"]'),t.toTopButton=t.el.querySelector('[data-talk-drawer-el="toTopButton"]'),t.talkDrawer=t.el.querySelector('[data-talk-drawer-el="talkDrawer"]'),t.intersectionObserverTarget=t.el.querySelector('[data-talk-drawer-el="intersectionObserverTarget"]'),t.body=document.querySelector("body"),t.talkActive=!1,t._showToTopButton=!1,t.subscribe(c.Wb,(function(e){t.returnFocusElement=e&&e instanceof Element?e:null,t.talkActive?t.publish(c.G):t.publish(c.J,t.id)})),t.closeButton.addEventListener("click",(function(e){e.preventDefault(),t.publish(c.G)})),t.toTopButton.addEventListener("click",(function(){t.scrollToTop()})),t.overlay.addEventListener("click",(function(){t.publish(c.G)})),Gd.a.instance.register(zE(t)),window.location.hash==="#".concat(t.hash)&&t.publish(c.J,t.id),t}return RE(n,[{key:"onIntersectionChanged",value:function(t){this.showToTopButton=!t[0].isIntersecting}},{key:"open",value:function(){this.overlay.classList.add("fixed"),this.talkDrawer.style.transform="translateX(0px)",this.talkDrawer.style.webkitTransform="translateX(0px)",this.talkDrawer.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.intersectionObserverTarget&&!this.intersectionObserver&&this.initIntersectionObserver(),this.publish(c.mb,this),this.focusDrawer(),this.talkActive=!0}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.talkDrawer.style.transform="translateX(100%)",this.talkDrawer.style.webkitTransform="translateX(100%)",this.talkDrawer.addEventListener("ontransitionend",(function(){t.talkDrawer.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(c.kb,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.talkActive=!1}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{root:this.talkDrawer,rootMargin:"600px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"focusDrawer",value:function(){this.closeButton.focus()}},{key:"scrollToTop",value:function(){this.talkDrawer.scrollTo({top:0,behavior:"smooth"})}},{key:"preventScrolling",get:function(){return Ue.a.isMobile}},{key:"showToTopButton",get:function(){return this._showToTopButton},set:function(t){t?(this.toTopButton.classList.remove("invisible"),this.toTopButton.style.transform="translateY(0px)",this.toTopButton.style.webkitTransform="translateY(0px)",this._showToTopButton=!0):(this.toTopButton.classList.add("invisible"),this.toTopButton.style.transform="translateY(100%)",this.toTopButton.style.webkitTransform="translateY(150%)",this._showToTopButton=!1)}},{key:"destroy",value:function(){BE(GE(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function JE(t){return(JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XE(r.key),r)}}function YE(t,e,n){return e&&KE(t.prototype,e),n&&KE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XE(t){var e=$E(t,"string");return"symbol"===JE(e)?e:String(e)}function $E(t,e){if("object"!==JE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function QE(){return(QE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ZE(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ZE(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aj(t)););return t}function tj(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ej(t,e)}function ej(t,e){return(ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nj(t){var e=ij();return function(){var n,r=aj(t);if(e){var o=aj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rj(this,n)}}function rj(t,e){if(e&&("object"===JE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oj(t)}function oj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ij(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function aj(t){return(aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uj="STATE_DEFAULT",cj="STATE_HIDDEN",sj=K.a.isAndroidApp?0:10,lj=function(t){tj(n,t);var e=nj(n);function n(){var t;WE(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).activatorButton=t.el.querySelector('[data-tocnavigation-el="activatorButton"]'),t.backButton=t.el.querySelector('[data-tocnavigation-el="backButton"]'),t.forwardButton=t.el.querySelector('[data-tocnavigation-el="forwardButton"]'),t.intersectionObserver=null,t.intersectionObserverTargets=document.querySelectorAll('[data-tocnavigation-el="intersectionObserverTarget"]'),t.scrollDirection="",t.isInSafeArea=!1,t._state=uj,t._initialTransform=t.el.style.transform,t.boundOnActivatorButtonClick=function(e){return t.onActivatorButtonClick(e)},t.boundOnScrolldirectionChanged=function(e){return t.onScrolldirectionChanged(e)},t.init(),t}return YE(n,[{key:"init",value:function(){this.initIntersectionObserver(),this.subscribe(c.vb,this.boundOnScrolldirectionChanged),this.activatorButton&&this.activatorButton.addEventListener("click",this.boundOnActivatorButtonClick)}},{key:"onActivatorButtonClick",value:function(t){t.preventDefault(),this.publish(c.Tb,{id:this.data.componentId})}},{key:"onScrolldirectionChanged",value:function(t){this.scrollDirection=t.direction,this.updateState()}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTargets&&0!==this.intersectionObserverTargets.length&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{rootMargin:"".concat(sj,"px 0px ").concat(sj,"px 0px")}),this.intersectionObserverTargets.forEach((function(e){t.intersectionObserver.observe(e)})))}},{key:"onIntersectionChanged",value:function(t){var e=!1;t.forEach((function(t){t.isIntersecting&&(e=!0)})),this.isInSafeArea=e,this.updateState()}},{key:"updateState",value:function(){this.isInSafeArea||this.scrollDirection===_.m?this.state=uj:this.state=cj}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case cj:this.el.style.transform="translateY(200%)";break;case uj:default:this.el.style.transform=this._initialTransform}}},{key:"destroy",value:function(){this.unsubscribe(c.vb,this.boundOnScrolldirectionChanged),this.activatorButton&&this.activatorButton.removeEventListener("click",this.boundOnActivatorButtonClick),this.intersectionObserver&&"function"==typeof this.intersectionObserver.disconnect&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null),QE(aj(n.prototype),"destroy",this).call(this)}}]),n}(a.Component);function fj(t){return(fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function dj(t,e,n){return e&&pj(t.prototype,e),n&&pj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hj(t){var e=bj(t,"string");return"symbol"===fj(e)?e:String(e)}function bj(t,e){if("object"!==fj(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function vj(){return(vj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=mj(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function mj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ej(t)););return t}function gj(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wj(t,e)}function wj(t,e){return(wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sj(t){var e=Pj();return function(){var n,r=Ej(t);if(e){var o=Ej(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oj(this,n)}}function Oj(t,e){if(e&&("object"===fj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kj(t)}function kj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ej(t){return(Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jj="STATE_OPEN",_j="STATE_CLOSED",Tj=function(t){gj(n,t);var e=Sj(n);function n(){var t;yj(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).id="".concat(Math.floor(1e8+9e8*Math.random())),t.hash="inhaltsverzeichnis",t.overlay=t.el.querySelector('[data-toc-drawer-el="overlay"]'),t.closeButton=t.el.querySelector('[data-toc-drawer-el="close"]'),t.container=t.el.querySelector('[data-toc-drawer-el="container"]'),t.activeItem=t.el.querySelector('[data-is-active="true"]'),t.items=Array.from(t.el.querySelectorAll('[data-toc-drawer-el="item"]')),t.body=document.querySelector("body"),t.pendingClickUrl="",t.scrollTop=-1,t.state=_j,t.featureDetection=zg.instance,t.init(),t}return dj(n,[{key:"init",value:function(){var t=this;this.container&&(this.subscribe(c.Tb,(function(e){t.returnFocusElement=e&&e.id?document.querySelector('[data-component-id="'.concat(e.id,'"]')):null,t.publish(c.J,t.id)})),this.subscribe(c.Rb,(function(){t.publish(c.G)})),this.subscribe(c.Vb,(function(){t.onToggle()})),this.closeButton&&this.closeButton.addEventListener("click",(function(e){e.preventDefault(),t.publish(c.G)})),this.overlay&&this.overlay.addEventListener("click",(function(){t.publish(c.G)}),!!this.featureDetection.supportsPassiveEventListener&&{passive:!0}),Array.isArray(this.items)&&this.items.length>0&&this.items.forEach((function(e){e.addEventListener("click",(function(e){t.onItemClicked(e)}))})),Gd.a.instance.register(this),window.location.hash==="#".concat(this.hash)&&this.publish(c.J,this.id))}},{key:"open",value:function(){this.state=jj,this.overlay&&this.overlay.classList.add("fixed"),this.container.style.transform="translateX(0px)",this.container.style.webkitTransform="translateX(0px)",this.container.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.publish(c.mb,this),-1===this.scrollTop?this.centerActiveItem():this.container.scrollTop=this.scrollTop}},{key:"close",value:function(){var t=this;if(this.state=_j,this.scrollTop=this.container.scrollTop,this.overlay&&this.overlay.classList.remove("fixed"),this.container.style.transform="translateX(100%)",this.container.style.webkitTransform="translateX(100%)",this.container.addEventListener("ontransitionend",(function(){t.container.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(c.kb,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.pendingClickUrl){var e=this.pendingClickUrl;this.pendingClickUrl="",window.location.assign(e)}}},{key:"centerActiveItem",value:function(){if(this.activeItem&&"function"==typeof this.activeItem.getBoundingClientRect){var t=this.activeItem.getBoundingClientRect().top,e=this.activeItem.getBoundingClientRect().height,n=this.container.offsetHeight;if(t<0||t+e>n){var r=t-n/2;this.container.scrollTop+=r,this.scrollTop=this.container.scrollTop}}}},{key:"onItemClicked",value:function(t){K.a.isIOSApp&&t.target&&"string"==typeof t.target.href&&t.target.href&&(t.preventDefault(),this.pendingClickUrl=t.target.href),this.publish(c.G)}},{key:"onToggle",value:function(){switch(this.state){case jj:this.publish(c.Rb);break;case _j:this.publish(c.Tb)}}},{key:"preventScrolling",get:function(){return Ue.a.isMobile}},{key:"destroy",value:function(){vj(Ej(n.prototype),"destroy",this).call(this)}}]),n}(a.Component),Cj=n(153);function Aj(t){return(Aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nj(r.key),r)}}function Rj(t,e,n){return e&&Lj(t.prototype,e),n&&Lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nj(t){var e=xj(t,"string");return"symbol"===Aj(e)?e:String(e)}function xj(t,e){if("object"!==Aj(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Aj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Bj(){return(Bj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Dj(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Dj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gj(t)););return t}function Mj(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uj(t,e)}function Uj(t,e){return(Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vj(t){var e=Fj();return function(){var n,r=Gj(t);if(e){var o=Gj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qj(this,n)}}function qj(t,e){if(e&&("object"===Aj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zj(t)}function zj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gj(t){return(Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hj="MODE_PLAY",Jj="MODE_PAUSE",Wj="MODE_STOP",Kj="STATE_DEFAULT",Yj="STATE_LOADING",Xj="STATE_WAITING",$j="STATE_PLAYING",Qj="STATE_ERROR",Zj="AUTOPLAY_INTERSECTION",t_="AUTOPLAY_MOUSEOVER",e_="AUTOPLAY_NONE",n_=function(t){Mj(n,t);var e=Vj(n);function n(){var t;Ij(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).video=t.el.querySelector('[data-video-el="video"]'),t.poster=t.el.querySelector('[data-video-el="poster"]'),t.loader=t.el.querySelector('[data-video-el="loader"]'),!Ue.a.isInternetExplorer&&Element.prototype.closest&&(t.mouseTarget=t.el.closest('[data-video-el="mouseTarget"]')),t.mouseTarget=t.mouseTarget||t.el,t.settings=t.data.settings?JSON.parse(t.data.settings):{},t.dataSrc=t.video?t.video.getAttribute("data-src"):"",t.jwplayerMediaId=t.settings.jwplayerMediaId?t.settings.jwplayerMediaId:"",t.useJwplayerVideoThumbnail=!!t.settings.useJwplayerVideoThumbnail,t.useJwplayerDeliveryAPI=!!t.settings.useJwplayerDeliveryAPI,t.lazyload=!!t.settings.lazyload,t.loop=!!t.settings.loop,t.backgroundColor=t.settings.backgroundColor?t.settings.backgroundColor:"",t.blurredBackgroundClasses=Array.isArray(t.settings.blurredBackgroundClasses)?t.settings.blurredBackgroundClasses:[],t.autoplayModeOnMouseOver=!!t.settings.autoplayOnMouseOver,t.maxPlays=Number.isInteger(t.settings.maxPlays)?t.settings.maxPlays:null,t.settings.autoplay?t.autoplayMode=!Ue.a.isMobile&&t.autoplayModeOnMouseOver?t_:Zj:t.autoplayMode=e_,t.boundOnMouseEnter=function(e){return t.onMouseEnter(e)},t.boundOnMouseMove=function(e){return t.onMouseMove(e)},t.boundOnLazyLoad=function(e){return t.onLazyLoad(e)},t.boundOnVideoCanPlay=function(){return t.onVideoCanPlay()},t.boundOnVideoLoadedMetadata=function(){return t.onVideoLoadedMetadata()},t.boundOnVideoPlaying=function(){return t.onVideoPlaying()},t.boundOnVideoWaiting=function(){return t.onVideoWaiting()},t.boundOnVideoEnded=function(){return t.onVideoEnded()},t.boundOnVideoError=function(){return t.onError()},t.completedPlays=0,t.isInitialized=!1,t.isLoaded=!1,t.mode=Wj,t.state=Kj,t.video&&(t.dataSrc||t.jwplayerMediaId)?t.init():t.onError(),t}return Rj(n,[{key:"init",value:function(){(Ue.a.isMobileSafari||K.a.isIOSApp)&&this.video.addEventListener("loadedmetadata",this.boundOnVideoLoadedMetadata),this.video.addEventListener("canplay",this.boundOnVideoCanPlay),this.video.addEventListener("playing",this.boundOnVideoPlaying),this.video.addEventListener("waiting",this.boundOnVideoWaiting),this.video.addEventListener("ended",this.boundOnVideoEnded),this.video.addEventListener("error",this.boundOnVideoError),this.autoplayMode!==e_&&(this.intersectionObserverTarget=this.el,this.intersectionObserver=null,this.initIntersectionObserver(),this.autoplayMode===t_&&this.mouseTarget.addEventListener("mouseenter",this.boundOnMouseEnter)),this.lazyload?this.el.addEventListener("lazybeforeunveil",this.boundOnLazyLoad):this.loadVideo()}},{key:"loadVideo",value:function(){this.dataSrc?(this.loadVideoByDataSrc(),this.loadPosterFallback()):this.jwplayerMediaId&&this.useJwplayerVideoThumbnail&&!this.useJwplayerDeliveryAPI?(this.loadJwVideoThumbnailWithAssembledUrl(),this.loadPosterFallback()):this.jwplayerMediaId&&this.useJwplayerDeliveryAPI?this.loadJwVideoFromApi():this.onError()}},{key:"loadVideoByDataSrc",value:function(){this.dataSrc&&(this.src=this.dataSrc)}},{key:"loadJwVideoThumbnailWithAssembledUrl",value:function(){if(this.jwplayerMediaId){var t=Cj.a.instance.getVideoThumbnailByMediaId(this.jwplayerMediaId,this.offsetWidth);t?this.src=t:this.onError()}}},{key:"loadJwVideoFromApi",value:function(){var t=this;if(this.jwplayerMediaId){var e=Cj.a.instance;e.getMediaObjectByMediaId(this.jwplayerMediaId).then((function(n){var r="";(r=t.useJwplayerVideoThumbnail?e.getVideoThumbnailByMediaObject(n,t.offsetWidth):e.getVideoByMediaObject(n,t.offsetWidth))?(t.src=r,t.poster||t.videoPoster||(t.videoPoster=e.getImageThumbnailByMediaObject(n,t.offsetWidth))):t.onError()})).catch((function(){return t.onError()}))}}},{key:"loadPosterFallback",value:function(){var t=this;if(!this.poster&&!this.videoPoster&&this.jwplayerMediaId){var e=Cj.a.instance;e.getMediaObjectByMediaId(this.jwplayerMediaId).then((function(n){t.videoPoster=e.getImageThumbnailByMediaObject(n,t.offsetWidth)})).catch((function(){}))}}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{threshold:[0,.5]}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"play",value:function(){"function"==typeof this.video.play&&this.video.play()}},{key:"pause",value:function(){this.isPlaying&&"function"==typeof this.video.pause&&this.video.pause()}},{key:"stop",value:function(){this.isPlaying&&"function"==typeof this.video.pause&&(this.video.pause(),this.video.currentTime=0,this.videoPoster&&"function"==typeof this.video.load&&this.video.load())}},{key:"onLazyLoad",value:function(t){t.target===this.el&&this.loadVideo()}},{key:"onVideoLoadedMetadata",value:function(){this.onVideoCanPlay()}},{key:"onVideoCanPlay",value:function(){this.isLoaded||(this.isLoaded=!0,this.mode===Hj&&this.play())}},{key:"onVideoPlaying",value:function(){this.mode===Wj?this.stop():this.state=$j}},{key:"onVideoWaiting",value:function(){this.state=Xj}},{key:"onVideoEnded",value:function(){this.completedPlays+=1,Number.isInteger(this.maxPlays)&&this.completedPlays>=this.maxPlays?(this.mode=Wj,this.destroy()):this.loop&&this.completedPlays<this.maxPlays?this.play():this.mode=Wj}},{key:"onIntersectionChanged",value:function(t){t[0].isIntersecting?this.autoplayMode===Zj&&t[0].intersectionRatio>=.5&&(this.mode=Hj):!this.maxPlays&&this.useJwplayerVideoThumbnail?this.mode=Wj:this.mode=Jj}},{key:"onMouseEnter",value:function(){this.mode=Hj}},{key:"onMouseMove",value:function(t){this.isMousePositionInside(t.clientX,t.clientY)||(this.mode=Wj)}},{key:"onError",value:function(){this.state=Qj,this.destroy()}},{key:"isMousePositionInside",value:function(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))return!1;var n=this.mouseTarget.getBoundingClientRect(),r=t-n.left,o=e-n.top;return r>=0&&r<=n.width&&o>=0&&o<=n.height}},{key:"togglePoster",value:function(t){var e=this;"blur"===this.backgroundColor&&this.blurredBackgroundClasses.length>0?this.blurredBackgroundClasses.forEach((function(n){e.poster.classList.toggle(n,!t)})):E.a.toggleElementVisibility(this.poster,t)}},{key:"offsetWidth",get:function(){return this.el&&this.el.offsetWidth?this.el.offsetWidth:0}},{key:"isPlaying",get:function(){return this.video&&this.video.currentTime>0&&!this.video.paused&&!this.video.ended&&this.video.readyState>this.video.HAVE_CURRENT_DATA}},{key:"src",get:function(){return this._src?this._src:""},set:function(t){t&&this.video&&!this.video.getAttribute("src")&&(this._src=t,this.video.setAttribute("src",t))}},{key:"videoPoster",get:function(){return this.video&&this.video.getAttribute("poster")?this.video.getAttribute("poster"):""},set:function(t){t&&this.video&&!this.video.getAttribute("poster")&&this.video.setAttribute("poster",t)}},{key:"mode",get:function(){return this._mode?this._mode:""},set:function(t){if(this._mode!==t)switch(this._mode=t,t){case Hj:this.isLoaded?this.play():this.state=Yj,this.autoplayMode===t_&&window.addEventListener("mousemove",this.boundOnMouseMove);break;case Jj:this.isLoaded&&this.pause(),this.autoplayMode===t_&&window.removeEventListener("mousemove",this.boundOnMouseMove);break;case Wj:default:this.state=Kj,this.isLoaded&&this.stop(),this.autoplayMode===t_&&window.removeEventListener("mousemove",this.boundOnMouseMove)}}},{key:"state",set:function(t){if(this._state!==t)switch(this._state=t,t){case Yj:E.a.toggleElementVisibility(this.loader,!0),this.poster?(this.togglePoster(!0),E.a.toggleElementVisibility(this.video,!1)):E.a.toggleElementVisibility(this.video,!0);break;case Xj:E.a.toggleElementVisibility(this.loader,!0),this.togglePoster(!1),E.a.toggleElementVisibility(this.video,!0);break;case $j:E.a.toggleElementVisibility(this.loader,!1),this.togglePoster(!1),E.a.toggleElementVisibility(this.video,!0);break;case Qj:case Kj:default:E.a.toggleElementVisibility(this.loader,!1),this.poster?(this.togglePoster(!0),E.a.toggleElementVisibility(this.video,!1)):E.a.toggleElementVisibility(this.video,!0)}}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),this.mouseTarget.removeEventListener("mouseenter",this.boundOnMouseEnter),window.removeEventListener("mousemove",this.boundOnMouseMove),this.intersectionObserver&&"function"==typeof this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect(),this.video&&(this.video.removeEventListener("canplay",this.boundOnVideoCanPlay),this.video.removeEventListener("loadedmetadata",this.boundOnVideoLoadedMetadata),this.video.removeEventListener("playing",this.boundOnVideoPlaying),this.video.removeEventListener("waiting",this.boundOnVideoWaiting),this.video.removeEventListener("ended",this.boundOnVideoEnded),this.video.removeEventListener("error",this.boundOnVideoError)),Bj(Gj(n.prototype),"destroy",this).call(this)}}]),n}(a.Component),r_=n(178);function o_(t){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c_(r.key),r)}}function u_(t,e,n){return e&&a_(t.prototype,e),n&&a_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_(t){var e=s_(t,"string");return"symbol"===o_(e)?e:String(e)}function s_(t,e){if("object"!==o_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l_(){return(l_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=f_(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function f_(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m_(t)););return t}function y_(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return(p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d_(t){var e=v_();return function(){var n,r=m_(t);if(e){var o=m_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(t,e){if(e&&("object"===o_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b_(t)}function b_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m_(t){return(m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g_=function(t){y_(n,t);var e=d_(n);function n(){var t;i_(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if((t=e.call.apply(e,[this].concat(i))).isInitialized=!1,t.settings=t.data.settings?JSON.parse(t.data.settings):{},t.settings.disableVideoDataControl)return h_(t);var u=!(!r.a.instance.consent||"boolean"!=typeof r.a.instance.consent.globallyDisabled)&&r.a.instance.consent.globallyDisabled;u&&t.addRequiredPurpose(_.p.store_and_access_information_on_a_device);r_.a.instance;return"object"===o_(window.$AC)&&"function"==typeof window.$AC.loadConfig?t.init():(t.el.onload=function(){t.onLoad()},t.el.onerror=function(){t.onError()},t.loadSrc()),t}return u_(n,[{key:"onLoad",value:function(){this.init()}},{key:"onError",value:function(){console.error("Unable to load VDC source"),this.publish(c.jc)}},{key:"init",value:function(){this.isInitialized||(this.publish(c.kc),this.isInitialized=!0)}},{key:"destroy",value:function(){l_(m_(n.prototype),"destroy",this).call(this)}}]),n}(Tf);function w_(t){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P_(r.key),r)}}function k_(t,e,n){return e&&O_(t.prototype,e),n&&O_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P_(t){var e=E_(t,"string");return"symbol"===w_(e)?e:String(e)}function E_(t,e){if("object"!==w_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==w_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function j_(){return(j_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=__(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function __(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=N_(t)););return t}function T_(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return(C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function A_(t){var e=R_();return function(){var n,r=N_(t);if(e){var o=N_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I_(this,n)}}function I_(t,e){if(e&&("object"===w_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L_(t)}function L_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function N_(t){return(N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x_=function(t){T_(n,t);var e=A_(n);function n(){var t;S_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).init(),t}return k_(n,[{key:"init",value:function(){var t=this.el.querySelector('[data-vouchers-el="advertisementLabel"]'),e=this.el.querySelector('[data-vouchers-el="vouchersContainer"]');j.a.instance.hasNoAdsAccess||(t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden"))}},{key:"destroy",value:function(){j_(N_(n.prototype),"destroy",this).call(this)}}]),n}(a.Component),B_=j.a.instance,D_=(n(227),"audio-omny-initialized"),M_="audio-omny-loaded",U_="audio-omny-error";function V_(t){var e=this;t.magic("audio",(function(e){return t.$data(e)._audio})),t.directive("audio-omny",(function(n,r){var o=r.expression,i=t.closestDataStack(n)[0];if(!i)throw new Error("x-audio-omny could not find data stack â€“ use x-data to define one");i._audio={isInitialized:!1,hasError:!1,clips:[],clip:{},loadData:y};var a=E.a.parseBase64Settings(o),u=(Array.isArray(a.audios)?a.audios:[]).filter((function(t){return function(t){var e=j.a.instance,n=e.secretboxKey,r=e.subscriptions,o=e.hasGiftArticleAccess,i=!t.isEncrypted;t.isEncrypted&&n&&Array.isArray(t.subscriptions)&&t.subscriptions.forEach((function(t){i=i||o||r.includes(t)}));return i}(t)})),s=u.filter((function(t){return t.isEncrypted})).length>0;function l(){var t=kO.instance;u.forEach((function(e){e.isEncrypted&&e.omnystudioClipId&&(e.omnystudioClipId=t.decrypt(e.omnystudioClipId)),e.isEncrypted&&e.omnystudioPlaylistId&&(e.omnystudioPlaylistId=t.decrypt(e.omnystudioPlaylistId))})),f()}function f(){i._audio.isInitialized=!0,n.dispatchEvent(new CustomEvent(D_)),a.autoload&&y()}function y(){return i._audio.isInitialized?new Promise((function(t,e){Promise.all(u.map((function(t){return t.omnystudioPlaylistId?(e=t.omnystudioPlaylistId,new Promise((function(t,n){var r={};ck.instance.getClipByPlaylistId(e).then((function(t){return r.clip=t,ck.instance.getPlaylistByPlaylistId(e)})).then((function(e){r.playlist=e,t(r)})).catch((function(t){return n(t)}))}))):t.omnystudioClipId?(n=t.omnystudioClipId,new Promise((function(t,e){var r={};ck.instance.getClipByClipId(n).then((function(e){return r.clip=e,r.playlistId=ck.instance.getPlaylistIdFromClip(e),r.programId=ck.instance.getProgramIdFromClip(e),r.playlistId||(r.programName=r.programId?ck.instance.getProgramNameByProgramId(r.programId):"",t(r)),ck.instance.getPlaylistByPlaylistId(r.playlistId)})).then((function(e){r.playlist=e,t(r)})).catch((function(t){return e(t)}))}))):Promise.resolve(null);var e,n}))).then((function(r){var o=[];if(Array.isArray(r)&&r.forEach((function(t){if(t){var e=function(t){if(!t.clip)return null;var e=a.posterSize||"small",n=null;t.clip.ImageUrl?(n=new URL(t.clip.ImageUrl)).searchParams.set("size",e):t.playlist&&t.playlist.ArtworkUrl&&(n=new URL(t.playlist.ArtworkUrl)).searchParams.set("size",e);var r=[];t.playlist&&t.playlist.DirectoryLinks&&Object.keys(t.playlist.DirectoryLinks).forEach((function(e){if(t.playlist.DirectoryLinks[e])switch(e){case"ApplePodcasts":var n=t.playlist.DirectoryLinks.ApplePodcasts;-1===n.indexOf("https://podcasts.apple.com/")&&-1===n.indexOf("https://geo.itunes.apple.com/")||r.push({id:"apple-podcasts",service:n});break;case"GooglePodcasts":var o=t.playlist.DirectoryLinks.GooglePodcasts;o&&r.push({id:"google-podcasts",service:o});break;case"Spotify":var i=t.playlist.DirectoryLinks.Spotify;-1!==i.indexOf("https://open.spotify.com/")&&r.push({id:"spotify",service:i});break;case"Stitcher":var a=t.playlist.DirectoryLinks.Stitcher;-1!==a.indexOf("https://castbox.fm/")&&r.push({id:"castbox",service:a});break;case"TuneIn":case"GooglePlay":break;case"RssFeed":var u=t.playlist.DirectoryLinks.RssFeed;u&&r.push({id:"rss",service:u})}}));r.find((function(t){return"apple-podcasts"===t.id}))||r.push({id:"apple-podcasts",service:""});return{id:t.clip.Id?t.clip.Id:"",audioUrl:p(t.clip),autoplayUrl:d(t.clip),resumeUrl:h(t.clip),downloadUrl:b(t.clip),posterUrl:n?n.href:"",clients:r,duration:t.clip.DurationSeconds?Math.round(1e3*t.clip.DurationSeconds):-1,headline:t.clip.Title?t.clip.Title:"",kicker:t.playlist&&t.playlist.Title?t.playlist.Title:t.programName?t.programName:"",flags:v(t.clip.Id),playButtonLabel:ck.instance.getPlayButtonLabelByProgramId(t.programId),replayButtonLabel:ck.instance.getReplayButtonLabelByProgramId(t.programId),articleId:t.clip.Id?m(t.clip.Id):"",playlistId:ck.instance.getPlaylistIdFromClip(t.clip)}}(t);e&&o.push(e)}})),0===o.length){var u=new Error("Error while fetching and parsing Omny data.");console.error(u.message),i._audio.hasError=!0,e(u)}i._audio.clips=o,i._audio.clip=o[0]||{},n.dispatchEvent(new CustomEvent(M_)),t()})).catch((function(t){console.error(t.message),i._audio.hasError=!0,n.dispatchEvent(new CustomEvent(U_)),e(t)}))})):Promise.reject(new Error("x-audio-omny audioLoadData() function called too early â€“Â audio is not initialized"))}function p(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);if(j.a.instance.hasNoAdsAccess&&e.searchParams.set("ttag","offer:pur"),t.ModifiedAtUtc){var n=new Date(t.ModifiedAtUtc);n instanceof Date&&!Number.isNaN(n)&&!Number.isNaN(n.getTime())&&e.searchParams.set("d",n.getTime())}return K.a.isIOSApp?e.searchParams.set("utm_source","CustomPlayer3"):K.a.isAndroidApp?e.searchParams.set("utm_source","CustomPlayer4"):e.searchParams.set("utm_source","CustomPlayer1"),e.href}function d(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);if(j.a.instance.hasNoAdsAccess&&e.searchParams.set("ttag","offer:pur"),t.ModifiedAtUtc){var n=new Date(t.ModifiedAtUtc);n instanceof Date&&!Number.isNaN(n)&&!Number.isNaN(n.getTime())&&e.searchParams.set("d",n.getTime())}return e.searchParams.set("utm_source","CustomPlayer10"),e.href}function h(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);if(j.a.instance.hasNoAdsAccess&&e.searchParams.set("ttag","offer:pur"),t.ModifiedAtUtc){var n=new Date(t.ModifiedAtUtc);n instanceof Date&&!Number.isNaN(n)&&!Number.isNaN(n.getTime())&&e.searchParams.set("d",n.getTime())}return e.searchParams.set("utm_source","CustomPlayer11"),e.href}function b(t){if(!t.AudioUrl)return"";var e=new URL(t.AudioUrl);if(j.a.instance.hasNoAdsAccess&&e.searchParams.set("ttag","offer:pur"),t.ModifiedAtUtc){var n=new Date(t.ModifiedAtUtc);n instanceof Date&&!Number.isNaN(n)&&!Number.isNaN(n.getTime())&&e.searchParams.set("d",n.getTime())}return K.a.isIOSApp?e.searchParams.set("utm_source","CustomPlayer8"):K.a.isAndroidApp?e.searchParams.set("utm_source","CustomPlayer9"):e.searchParams.set("utm_source","CustomPlayer2"),e.searchParams.set("download","true"),e.href}function v(t){var e=[];return u.forEach((function(n){n.omnystudioClipId===t&&Array.isArray(n.flags)&&n.flags.forEach((function(t){var n=t.replace(/-(paid|conditional)/g,"");e.push(n)}))})),e}function m(t){var e="";return u.forEach((function(n){n.omnystudioClipId===t&&n.articleId&&(e=n.articleId)})),e}0===u.length||s&&!j.a.instance.secretboxKey||(s?kO.instance.ready?l():E.a.subscribe(c.xb,l,e):f())}))}var q_=n(229);function z_(t){document.addEventListener("alpine:init",(function(){Array.from(document.querySelectorAll("[x-lazyload]")).forEach((function(t){t.setAttribute("x-ignore","")}));var e=new Vi.a({elements_selector:"[x-lazyload]",use_native:!1,unobserve_entered:!0,unobserve_completed:!0,callback_enter:function(e){e.removeAttribute("x-ignore"),"function"==typeof t.nextTick&&"function"==typeof t.initTree&&t.nextTick((function(){return t.initTree(e)}))}});E.a.subscribe(c.Y,(function(){e&&"function"==typeof e.update&&e.update()}))}))}n(228),n(299),n(300),n(301),n(302);function F_(t){return(F_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */G_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:S(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function y(){}function p(){}function d(){}var h={};c(h,i,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(j([])));v&&v!==e&&n.call(v,i)&&(h=v);var m=d.prototype=y.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e((function(o,a){!function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==F_(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function S(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function H_(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function J_(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){H_(i,r,o,a,u,"next",t)}function u(t){H_(i,r,o,a,u,"throw",t)}a(void 0)}))}}function W_(t){t.magic("focus",(function(e){return function(n){var r=n||e;return t.nextTick((function(){return r.focus()}))}})),t.magic("formatTime",(function(){return function(t){if(!t||"number"!=typeof t)return"0:00";var e=Math.floor(t/60),n=Math.floor(t%60),r="".concat(n).padStart(2,"0");return"".concat(e,":").concat(r)}}));var e=null,n=null,r=null;t.magic("getPodcastPlatformLinks",(function(){return function(){var t=J_(G_().mark((function t(o){var i,a;return G_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.playlistId,a=o.clipId,!(i&&i===e&&r||!i&&a&&a===n&&r)){t.next=3;break}return t.abrupt("return",r);case 3:if(e=null,n=null,r=null,t.prev=6,!i){t.next=14;break}return e=i,t.next=11,ck.instance.getPlatformLinksByPlaylistId(i);case 11:r=t.sent,t.next=19;break;case 14:if(!a){t.next=19;break}return n=a,t.next=18,ck.instance.getPlatformLinksByClipId(a);case 18:r=t.sent;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),console.warn("$getPodcastPlatformLinks error: ".concat(t.t0.message));case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}}),t,null,[[6,21]])})));return function(e){return t.apply(this,arguments)}}()})),t.magic("cooldown",(function(e){return function(n,r){return new Promise((function(o){var i=Number.isInteger(n)?n:2e3,a=t.$data(e);e.setAttribute("disabled",!0),r&&(a[r]=!0),window.setTimeout((function(){e.removeAttribute("disabled"),r&&(a[r]=!1),o()}),i)}))}})),t.magic("deepclone",(function(){return function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}}))}function K_(t,e,n){return(K_=Y_()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&X_(o,n.prototype),o}).apply(null,arguments)}function Y_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function X_(t,e){return(X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $_(t){t.magic("sendMessage",(function(){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.shift(),o=qu.instance;if(o&&o.messageLookup&&o.messageLookup[r]){var i=K_(o.messageLookup[r],e);i&&E.a.publish(c.cb,i)}}}))}function Q_(t){t.magic("publish",(function(){return function(t){if(window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.publish){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=window.polygon.componentLoader).publish.apply(e,[t].concat(r))}}})),t.magic("subscribe",(function(){return function(t,e,n){window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.subscribe&&window.polygon.componentLoader.subscribe(t,e,n)}})),t.magic("unsubscribe",(function(){return function(t,e){window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.unsubscribe&&window.polygon.componentLoader.unsubscribe(t,e)}})),t.directive("subscribe",(function(t,e,n){var r=e.modifiers,o=e.expression,i=n.evaluateLater,a=n.cleanup;if(Array.isArray(r)&&0!==r.length&&o&&window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.subscribe&&"function"==typeof window.polygon.componentLoader.unsubscribe){var u=r[0].toUpperCase(),c=i(o),s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];c((function(){}),{scope:{$payload:e,$topic:u}})};window.polygon.componentLoader.subscribe(u,s),a((function(){window.polygon.componentLoader.unsubscribe(u,s)}))}}))}function Z_(t){var e={};t.directive("unique",(function(t,n){var r=n.expression;r&&(e[r]=e[r]+1||1,e[r]>1&&t.remove())}))}window.polygon=window.polygon||{};var tT=new P({AdblockLayer:ol,AdobeLaunchSource:wl,AffiliateBox:Wl,AffiliateWidget:yf,AmpStoryPlayerSource:zf,AppButton:oy,AppUpdate:wy,AppStoreRedirect:By,BookmarksCardsSlider:pp,BookmarkButton:Cp,BookmarksList:Xp,BookmarksLoginLayer:Pd,BookmarksShortList:Fd,CappingLayer:ah,CustomConsent:Ih,Defer:Wh,Embed:fb,EmbedQuizSource:_b,FeatureBar:Fb,FooterAccordionSection:Sv,FurtherReads:Dv,GalleryLayer:Zv,HTMLEmbed:hm,IframeNewsletter:Fm,Iframe:Cm,JWPlayerSource:ig,LazyloadedSource:gg,MenuAccordionSection:Rg,MenuDrawer:iw,MoltenBundleSource:Sw,MultiboxAccordionSection:Dw,NavBar:nS,OpinarySource:mS,Outbrain:xS,PaywallAccordionSection:$S,PlaylistLoginLayer:fO,PodcastSubscribeButton:UO,PreviewOmny:Pk,SourcePoint:Uk,StoryActivator:bP,StoryHistoryItem:AP,StoryLayer:$P,SwiperBar:pE,Talk:CE,TalkDrawer:HE,TocDrawer:Tj,TocNavigation:lj,Video:n_,VideoDataControlSource:g_,Vouchers:x_}),eT=function(){window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.destroy?window.polygon.componentLoader.destroy(tT):window.polygon.componentLoader=tT;var t={};t[c.j]=Me,t[c.k]=en,t[c.l]=sn,t[c.m]=Qn,t[c.n]=ir,t[c.p]=gr,t[c.o]=yr,t[c.q]=jr,t[c.r]=Pe,t[c.x]=bo,t[c.w]=Uo,t[c.D]=Ku,t[c.Q]=wi,t[c.O]=co,t[c.N]=Gr,t[c.S]=pi,t[c.fb]=ic,t[c.ob]=Ie,t[c.yb]=yc,Object.keys(t).forEach((function(e){E.a.subscribe(e,(function(){var n=new t[e];"function"==typeof n.execute?n.execute.apply(n,arguments):console.error('Controller "'.concat(n.constructor.name,'" is missing an execute function.'))}))}));var e=Hn.instance;mt.a.instance,ai.instance,Mi.instance,Br.instance,Yu.a.instance,Sc.instance,Gd.a.instance,_t.instance,ln.a.instance,qu.instance,W.instance,$o.instance,is.instance;window.polygon.Alpine=i.a,i.a.plugin(V_),i.a.plugin(q_.a),i.a.plugin(z_),i.a.plugin(W_),i.a.plugin($_),i.a.plugin(Q_),i.a.plugin(Z_),i.a.store("Gift",to),i.a.store("WebAudio",We),i.a.store("User",B_),i.a.start(),e.sendPageLoadEvent(),E.a.publish(c.j);Yi.instance;window.polygon.componentLoader.scan(),window.polygon.webAudio=new Xc};window.polygon.deferredComponents={BeforeAfterSlider:function(){return n.e(1).then(n.bind(null,316))},ImageZoomLayer:function(){return n.e(4).then(n.bind(null,323))},JWPlayer:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,324))},Search:function(){return n.e(7).then(n.bind(null,317))}},Ci.then((function(){return eT()}))},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(8),n(9),n(2),n(11),n(12),n(5),n(7),n(10),n(3),n(4),n(6);var r=n(15),o=n(0),i=n(13);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}var c=Symbol("INSTANCE"),s=Symbol("SINGELTONENFORCER"),l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==s)throw new Error("Instantiation failed: Use TCDataModel.instance instead of new.");this._ready=!1,this._errorOccurred=!1,this._tcData=void 0,this.lastEventStatus=void 0,this.isPurposeOneGranted=!1,this.init()}var e,n,a;return e=t,a=[{key:"instance",get:function(){return this[c]||(this[c]=new t(s)),this[c]}}],(n=[{key:"init",value:function(){var t=this;window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(o.Eb,(function(){return t.onSourcepointMessagingExecuted()})),"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,(function(e,n){return t.tcfapiTCDataCallback(e,n)})):console.warn("TCData window.__tcfapi is not available!")}},{key:"tcfapiTCDataCallback",value:function(t,e){!e||t&&t.cmpStatus&&"error"===t.cmpStatus?this.onError():t&&t.eventStatus&&this.lastEventStatus!==t.eventStatus&&(this.lastEventStatus=t.eventStatus,this.onTCDataChanged(t))}},{key:"updateTCData",value:function(){var t=this;"function"==typeof window.__tcfapi?window.__tcfapi("getTCData",2,(function(e,n){return t.tcfapiTCDataCallback(e,n)})):console.warn("TCData window.__tcfapi is not available!")}},{key:"onTCDataChanged",value:function(t){this._tcData=t;var e=this.isPurposeOneGranted;this.isPurposeOneGranted=this.isPurposeGranted(r.p.store_and_access_information_on_a_device),this._ready||!t||!t.eventStatus||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus?i.a.isApp&&this._ready&&e&&!this.isPurposeOneGranted&&window.location.reload():this.onReady()}},{key:"onReady",value:function(){this._ready=!0,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.Ob,this._tcData)}},{key:"onSourcepointMessagingExecuted",value:function(){this.updateTCData()}},{key:"onError",value:function(){console.error("TCDataModel onError"),this._errorOccurred=!0,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.Pb)}},{key:"isPurposeGranted",value:function(t){return!(!this._tcData||!(void 0!==this.tcData.gdprApplies&&!this.tcData.gdprApplies||this._tcData.purpose&&this._tcData.purpose.consents&&"boolean"==typeof this._tcData.purpose.consents[t]&&this._tcData.purpose.consents[t]))}},{key:"isVendorGranted",value:function(t){return!(!this._tcData||!(void 0!==this.tcData.gdprApplies&&!this.tcData.gdprApplies||this._tcData.vendor&&this._tcData.vendor.consents&&"boolean"==typeof this._tcData.vendor.consents[t]&&this._tcData.vendor.consents[t]))}},{key:"ready",get:function(){return this._ready}},{key:"errorOccurred",get:function(){return this._errorOccurred}},{key:"tcData",get:function(){return this._tcData}}])&&u(e.prototype,n),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},72:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(8),n(9),n(2),n(48),n(5),n(69),n(30),n(53),n(42),n(70),n(11),n(12),n(7),n(10),n(3),n(4),n(6);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var a=Symbol("INSTANCE"),u=Symbol("SINGELTONENFORCER"),c=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==u)throw new Error("Instantiation failed: Use BrowserHistoryService.instance instead of new.");this.registeredLayers={},this.browserHistoryLayers=[],this.currentIndex=window.history?0:-1,this.currentHash="",this.id=Date.now(),this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[a]||(this[a]=new t(u)),this[a]}}],(n=[{key:"init",value:function(){var t=this;window.history&&(window.history.state&&Number.isInteger(window.history.state.index)?this.currentIndex=window.history.state.index:(this.currentIndex=window.history.length-1,window.history.replaceState({layerServiceId:this.id,index:this.currentIndex,hash:"",isInitState:!0},""))),this.boundOnKeyDown=function(e){return t.onKeyDown(e)},window.document.addEventListener("keydown",this.boundOnKeyDown),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(r.G,this.onCloseLayerTriggered,this),window.polygon.componentLoader.subscribe(r.J,this.onOpenLayerTriggered,this)),window.addEventListener("popstate",(function(e){return t.onPopstate(e)}))}},{key:"register",value:function(t){t&&"string"==typeof t.id&&"string"==typeof t.hash&&"function"==typeof t.close&&"function"==typeof t.open?this.registeredLayers[t.id]=t:console.error("LayerService registration failed: layer needs to implement an id and hash string and a close and open function")}},{key:"addLayerToBrowserHistory",value:function(t){if(this.currentHash&&this.currentHash===t.hash)return!1;if(window.history)if(window.history.state&&window.history.state.hash&&window.history.state.hash===t.hash){this.currentHash=t.hash?t.hash:"";var e={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.replaceState(e,"",t.hash?"#".concat(t.hash):"")}else{this.currentIndex<this.browserHistoryLayers.length-1&&(this.browserHistoryLayers=this.browserHistoryLayers.slice(0,this.currentIndex+1)),this.currentIndex+=1,this.currentHash=t.hash?t.hash:"";var n={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.pushState(n,"",this.currentHash?"#".concat(this.currentHash):"")}else this.currentIndex+=1;return this.browserHistoryLayers[this.currentIndex]=t,this.openLayer(this.currentIndex),this.onActiveLayerChanged(),!0}},{key:"openLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.open||(e.open(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(r.I,e.id),0))}},{key:"closeLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.close||(e.close(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(r.H,e.id),0))}},{key:"back",value:function(){void 0!==this.browserHistoryLayers[this.currentIndex]&&(window.history&&"function"==typeof window.history.go?window.history.go(-1):(this.closeLayer(this.currentIndex),this.currentIndex=this.currentIndex>=0?this.currentIndex-1:-1,this.onActiveLayerChanged()))}},{key:"goTo",value:function(t){if(this.currentIndex>t){for(var e=t>=0?t+1:0,n=this.currentIndex;n>=e;n--)this.closeLayer(n);this.currentIndex=t,this.onActiveLayerChanged()}else if(this.currentIndex<t){for(var r=this.currentIndex>=0?this.currentIndex+1:0;r<=t;r++)this.openLayer(r);this.currentIndex=t,this.onActiveLayerChanged()}}},{key:"restoreLayerByHash",value:function(t){var e=this,n=!1;Object.keys(this.registeredLayers).forEach((function(r){var o=e.registeredLayers[r];n||o.hash!==t||(e.addLayerToBrowserHistory(o),n=!0)}))}},{key:"onPopstate",value:function(t){if(t&&t.state){var e,n="",r="";if(t.state.layerServiceId===this.id){if(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,n=t.state&&t.state.hash?t.state.hash:"",t.state&&t.state.isInitState&&this.windowHash&&window.history){var o={layerServiceId:this.id,index:Number.isInteger(e)?e:this.currentIndex,hash:""};window.history.replaceState(o,"",window.location.pathname+window.location.search)}}else if(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,this.currentHash!==this.windowHash)r=this.windowHash;else if(window.history){var i={layerServiceId:this.id,index:Number.isInteger(e)?e:this.currentIndex,hash:""};window.history.replaceState(i,"",window.location.pathname+window.location.search)}void 0!==e&&this.currentIndex!==e&&(this.goTo(e),this.currentHash=n),r&&this.restoreLayerByHash(r)}}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||void 0===this.browserHistoryLayers[this.currentIndex]||(t.preventDefault(),this.back())}},{key:"onOpenLayerTriggered",value:function(t){this.registeredLayers[t]&&"function"==typeof this.registeredLayers[t].close&&"function"==typeof this.registeredLayers[t].open&&this.addLayerToBrowserHistory(this.registeredLayers[t])}},{key:"onCloseLayerTriggered",value:function(){this.back()}},{key:"onActiveLayerChanged",value:function(){var t=this.browserHistoryLayers[this.currentIndex];t&&t.id&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(r.F,t.id)}},{key:"windowHash",get:function(){return window.location.hash?window.location.hash.substring(1):""}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(8),n(9),n(2),n(53),n(30),n(20),n(44),n(11),n(12),n(5),n(7),n(10),n(3),n(4),n(6);var r=n(14),o=n(1),i=n(0),a=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}var s=Symbol("INSTANCE"),l=Symbol("SINGELTONENFORCER"),f=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==l)throw new Error("Instantiation failed: Use MediaQueryModel.instance instead of new.");this.init()}var e,n,u;return e=t,u=[{key:"instance",get:function(){return this[s]||(this[s]=new t(l)),this[s]}}],(n=[{key:"init",value:function(){var t=this;this.colorSchemeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.breakpointQueries=[],(r.a.instance.breakpoints?Object.keys(r.a.instance.breakpoints):[]).forEach((function(e){var n,o=r.a.instance.breakpoints[e],i=o.min,a=o.max;i&&a?n="(min-width: ".concat(i,"px) and (max-width: ").concat(a,"px)"):i?n="(min-width: ".concat(i,"px)"):a&&(n="(max-width: ".concat(a,"px)")),n&&t.breakpointQueries.push({breakpoint:e,query:window.matchMedia(n)})})),this._lastBreakpoint=this.breakpoint,this.boundOnColorSchemeChanged=function(){return t.onColorSchemeChanged()},this.boundOnBreakpointChanged=function(){return t.onBreakpointChanged()},"function"==typeof this.colorSchemeQuery.addEventListener?(this.colorSchemeQuery.addEventListener("change",this.boundOnColorSchemeChanged),this.breakpointQueries.forEach((function(e){e.query.addEventListener("change",t.boundOnBreakpointChanged)}))):"function"==typeof this.colorSchemeQuery.addListener&&(this.colorSchemeQuery.addListener(this.boundOnColorSchemeChanged),this.breakpointQueries.forEach((function(e){e.query.addListener(t.boundOnBreakpointChanged)})))}},{key:"onColorSchemeChanged",value:function(){o.a.publish(i.ab,{colorScheme:this.colorScheme})}},{key:"onBreakpointChanged",value:function(){this.breakpoint!==this._lastBreakpoint&&(this._lastBreakpoint=this.breakpoint,o.a.publish(i.Z,{breakpoint:this.breakpoint}))}},{key:"colorScheme",get:function(){return this.colorSchemeQuery.matches?a.e:a.f}},{key:"breakpoint",get:function(){return this.breakpointQueries.filter((function(t){return t.query.matches})).pop().breakpoint}}])&&c(e.prototype,n),u&&c(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));n(107),n(11),n(12),n(8),n(9),n(2),n(5),n(7),n(10),n(3),n(4),n(6),n(17),n(18),n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method getItem!")}},{key:"setItem",value:function(t,e){throw new Error("AbstractStorage - you have to implement the method setItem!")}},{key:"removeItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method removeItem!")}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=n(41),u=n.n(a);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getItem",value:function(t){if("string"==typeof t)return u.a.get(t)}},{key:"setItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"==typeof t&&void 0!==e&&(u.a.set(t,e,{expires:n}),!0)}},{key:"removeItem",value:function(t){return"string"==typeof t&&(u.a.remove(t),!0)}}],(n=null)&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===f(i)?i:String(i)),r)}var o,i}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(i,t);var e,n,r,o=h(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return y(this,i),(t=o.call(this)).expires=e,t}return e=i,(n=[{key:"getItem",value:function(t){return l.getItem(t)}},{key:"setItem",value:function(t,e){return l.setItem(t,e,this.expires)}},{key:"removeItem",value:function(t){return l.removeItem(t)}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(i);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===g(i)?i:String(i)),r)}var o,i}var S=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getItem",value:function(t){if("string"==typeof t){var e;try{var n=window.localStorage;n&&null!==n.getItem(t)&&(e=n.getItem(t))}catch(t){}return e}}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n=!1;try{var r=window.localStorage;r&&(r.setItem(t,e),n=!0)}catch(t){}return n}},{key:"removeItem",value:function(t){if("string"!=typeof t)return!1;var e=!1;try{var n=window.localStorage;n&&(n.removeItem(t),e=!0)}catch(t){}return e}}],(n=null)&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===O(i)?i:String(i)),r)}var o,i}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(i,t);var e,n,r,o=j(i);function i(){return k(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getItem",value:function(t){return S.getItem(t)}},{key:"setItem",value:function(t,e){return S.setItem(t,e)}},{key:"removeItem",value:function(t){return S.removeItem(t)}}])&&P(e.prototype,n),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(i),A=n(55);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===I(i)?i:String(i)),r)}var o,i}function N(t,e){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D(t);if(e){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(i,t);var e,n,r,o=x(i);function i(){return L(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getItem",value:function(t){return A.a.getItem(t)}},{key:"setItem",value:function(t,e){return A.a.setItem(t,e)}},{key:"removeItem",value:function(t){return A.a.removeItem(t)}}])&&R(e.prototype,n),r&&R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(i);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===U(i)?i:String(i)),r)}var o,i}var z=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"session",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;if(V(this,t),"string"==typeof e&&e){switch(this.name="polygon_".concat(e),n){case"local":this.storage=new C;break;case"cookie":this.storage=new m(r);break;case"session":default:this.storage=new M}this.valueObject=this.getValueObject()}}var e,n,r;return e=t,(n=[{key:"getValueObject",value:function(){if(!this.name||!this.storage)return{};var t,e,n=this.storage.getItem(this.name);return n&&(t=this.decodeBase64(n)),t&&(e=this.parseJson(t)),e||{}}},{key:"reload",value:function(){this.valueObject=this.getValueObject()}},{key:"updateStorage",value:function(){if(this.name){var t,e=JSON.stringify(this.valueObject);e&&(t=this.encodeBase64(e)),t&&this.storage.setItem(this.name,t)}}},{key:"encodeBase64",value:function(t){try{return window.btoa(encodeURIComponent(t))}catch(t){return}}},{key:"decodeBase64",value:function(t){try{return decodeURIComponent(window.atob(t))}catch(t){return}}},{key:"parseJson",value:function(t){if(t&&"string"==typeof t)try{return JSON.parse(t)}catch(t){return}}},{key:"getItem",value:function(t){if("string"==typeof t)return this.valueObject[t]}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n={};return n[t]=e,Object.assign(this.valueObject,n),this.updateStorage(),!0}},{key:"removeItem",value:function(t){return"string"==typeof t&&(delete this.valueObject[t],this.updateStorage(),!0)}}])&&q(e.prototype,n),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()}},[[257,3,0]]]);