"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7687],{2592:function(n,e,t){var r=t(92228),o=t(52322),i=t(2784),s=t(58332),u=t.n(s),c=t(91020),a=t(57800),d=t(5632),l=t(85313),f=t(65105),m=t(74247),p=t(55647);function h(){var n=(0,r.Z)(["\n  mutation addDocumentToCollection($documentId: ID!, $collectionName: String!) {\n    addDocumentToCollection(\n      documentId: $documentId\n      collectionName: $collectionName\n    ) {\n      id\n      document {\n        id\n        ...BookmarkOnDocument\n      }\n    }\n  }\n\n  ","\n"]);return h=function(){return n},n}function g(){var n=(0,r.Z)(["\n  mutation removeDocumentFromCollection(\n    $documentId: ID!\n    $collectionName: String!\n  ) {\n    removeDocumentFromCollection(\n      documentId: $documentId\n      collectionName: $collectionName\n    ) {\n      id\n      document {\n        id\n        ...BookmarkOnDocument\n      }\n    }\n  }\n\n  ","\n"]);return g=function(){return n},n}var v=(0,a.Ps)(h(),m.d),b=(0,a.Ps)(g(),m.d);e.Z=u()((0,c.B)(v,{props:function(n){var e=n.mutate;return{addDocumentToCollection:function(n,t){return e({variables:{documentId:n,collectionName:m.e},refetchQueries:t?(0,p.uT)():[]})}}}}),(0,c.B)(b,{props:function(n){var e=n.mutate;return{removeDocumentFromCollection:function(n,t){return e({variables:{documentId:n,collectionName:m.e},refetchQueries:t?(0,p.uT)():[]})}}}}),f.Z,d.withRouter)((function(n){var e=n.t,t=n.bookmarked,r=n.addDocumentToCollection,s=n.removeDocumentFromCollection,u=n.documentId,c=n.skipRefetch,a=n.router,d=n.label,f=n.labelShort,m=n.disabled,p=n.attributes,h=(0,i.useState)(!1),g=h[0],v=h[1],b=(0,i.useState)(void 0),C=b[0],I=b[1],x=t?l.BookmarkIcon:l.BookmarkBorderIcon,P=e("bookmark/title/".concat(t?"bookmarked":"default"));return(0,o.jsx)(l.IconButton,{Icon:x,title:P,label:d,labelShort:f,onClick:function(){g||(v(!0),(t?s:r)(u,!c&&"/lesezeichen"!==a.pathname).then((function(){v(!1),I(void 0)})).catch((function(){v(!1),I(!0)})))},fillColorName:C?"error":g?"disabled":"text",disabled:m,attributes:p})}))},93588:function(n,e,t){t.d(e,{Z:function(){return x}});var r=t(70865),o=t(96670),i=t(52322),s=t(2784),u=t(11978),c=t(13980),a=t.n(c),d=t(58332),l=t.n(d),f=t(65105),m=t(6697),p=function(){var n=new Date;return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n},h=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"progress",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p(),o=e-r,i=(0,m.i$)("%H:%M"),s=o>0?n("".concat(t,"/time/today")):o>-864e5?n("".concat(t,"/time/yesterday")):n("".concat(t,"/time/other"),{date:(0,m.p6)(e)}),u=i(e);return n("".concat(t,"/time"),{day:s,time:u})},g=t(85313),v=t(65399),b=t(7330),C={consent:(0,u.css)({marginTop:16})},I=function(n,e){var t=n.t,u=n.documentId,c=n.userProgress,a=n.upsertDocumentProgress,d=n.removeDocumentProgress,l=n.revokeProgressConsent,f=n.submitProgressConsent,m=n.forceShortLabel,p=n.noCallout,v=n.noScroll,I=n.displayMinutes,x=e.restoreArticleProgress;if(e.showConsentPrompt&&!p){var P=(0,s.forwardRef)((function(n,e){return(0,i.jsx)(g.IconButton,(0,r.Z)({Icon:function(){return(0,i.jsx)(g.ProgressCircle,{progress:66})},label:t("article/progressprompt/headline"),labelShort:t("article/progressprompt/headline"),ref:e},n))}));return(0,i.jsxs)(g.CalloutMenu,{Element:P,padded:!0,children:[(0,i.jsx)(g.Label,{children:(0,b.f)(t)}),(0,i.jsxs)("div",(0,o.Z)((0,r.Z)({},C.consent),{children:[(0,i.jsx)(g.IconButton,{style:{marginBottom:16},Icon:g.ReadIcon,onClick:f,label:t("article/progressprompt/button/confirm"),labelShort:t("article/progressprompt/button/confirm")}),(0,i.jsx)(g.IconButton,{Icon:g.HighlightOffIcon,onClick:l,label:t("article/progressprompt/button/reject"),labelShort:t("article/progressprompt/button/reject")})]}))]})}if(!c||I<1)return null;var Z=c.percentage,D=c.updatedAt,j=Math.round(100*Z),k=(0,s.forwardRef)((function(n,e){return(0,i.jsx)(g.IconButton,(0,r.Z)({Icon:g.ReadIcon,label:!m&&t("article/actionbar/progress/read"),title:t("article/actionbar/progress/read"),onClick:function(){d(u)},ref:e},n))})),y=(0,s.forwardRef)((function(n,e){return(0,i.jsx)(g.IconButton,(0,r.Z)({Icon:g.CheckSmallIcon,title:t("article/actionbar/progress/markasread"),onClick:function(){a(u,1,"")},ref:e},n))}));return 100===j?p?(0,i.jsx)(k,{}):(0,i.jsx)(g.CalloutMenu,{Element:k,padded:!0,children:(0,i.jsx)(g.IconButton,{Icon:g.HighlightOffIcon,title:t("article/actionbar/progress/unread"),label:t("article/actionbar/progress/unread"),labelShort:t("article/actionbar/progress/unread"),onClick:function(){d(u)}})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.IconButton,{Icon:function(){return(0,i.jsx)(g.ProgressCircle,{progress:j,strokeColorName:"text",strokePlaceholder:!0,size:24,strokeWidth:2})},onClick:v?void 0:x,href:x?"#":void 0,title:h(t,new Date(D)),label:m?"".concat(j,"%"):t("progress/restore/title",{percent:"".concat(j,"%")}),labelShort:m?"".concat(j,"%"):t("progress/restore/titleShort",{percent:"".concat(j,"%")}),style:{marginRight:10}}),p?(0,i.jsx)(y,{}):(0,i.jsx)(g.CalloutMenu,{Element:y,padded:!0,children:(0,i.jsx)(g.IconButton,{Icon:g.ReadIcon,title:t("article/actionbar/progress/markasread"),label:t("article/actionbar/progress/markasread"),labelShort:t("article/actionbar/progress/markasread"),onClick:function(){a(u,1,"")}})})]})};I.contextTypes={restoreArticleProgress:a().func,showConsentPrompt:a().bool};var x=l()(f.Z,v.YF)(I)},7330:function(n,e,t){t.d(e,{f:function(){return k}});var r=t(90581),o=t(27805),i=t(64297),s=t(64468),u=t(52322),c=t(2784),a=t(13980),d=t.n(a),l=t(58332),f=t.n(l),m=t(10190),p=t(54073),h=t.n(p),g=t(85313),v=t(22828),b=t(11408),C=t(7932),I=t(37365),x=t(65399),P=t(71362),Z=t(5632),D=t(39097),j=t.n(D),k=function(n){return n.elements("article/progressprompt/description/feature",{link:I.Cg?(0,u.jsx)(j(),{href:I.Cg,passHref:!0,children:(0,u.jsx)(g.A,{children:n("article/progressprompt/description/feature/link")})},"link"):null})},y=function(n){(0,i.Z)(t,n);var e=(0,s.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"getChildContext",value:function(){return{getMediaProgress:this.props.value.getMediaProgress,saveMediaProgress:this.props.value.saveMediaProgress,restoreArticleProgress:this.props.value.restoreArticleProgress,showConsentPrompt:this.props.value.showConsentPrompt}}},{key:"render",value:function(){return(0,u.jsx)(c.Fragment,{children:this.props.children})}}]),t}(c.Component);y.childContextTypes={getMediaProgress:d().func,saveMediaProgress:d().func,restoreArticleProgress:d().func,showConsentPrompt:d().bool};var w=function(n){var e=n.children,t=n.me,r=n.article,o=n.isArticle,i=n.router,s=n.upsertDocumentProgress,a=(0,c.useRef)(),d=(0,c.useRef)(),l=(0,c.useRef)(),f=(0,c.useRef)(),m=(0,P.u)(),p=m.getMediaProgress,C=m.saveMediaProgress,x=t&&!0===t.progressConsent,Z=function(){return window.innerWidth<g.mediaQueries.mBreakPoint},D=function(){return Z()?v.ei:v.Mz},j=function(){return a.current?Array.from(a.current.querySelectorAll("[data-pos]")):[]};l.current=h()((function(){if(r&&x){var n=window.pageYOffset,e=void 0===f.current||n>f.current;if(f.current=n,e){var t=j();if(t.length){var o=function(n){for(var e=function(e){return Math.abs(n[e].getBoundingClientRect().top-D())},t=n[d.current]&&d.current||0,r=e(t),o=t+1;o<n.length;o+=1){var i=e(o);if(i>r)break;r=i,t=o}for(var s=t-1;s>=0;s-=1){var u=e(s);if(u>r)break;r=u,t=s}return d.current=t,{nodeId:n[t].getAttribute("data-pos"),index:t}}(t),i=function(n){var e=n[n.length-1].getBoundingClientRect().bottom,t=a.current.getBoundingClientRect().top,r=e-t,o=Math.max(0,-t+D())/r;return 0===o?0:-t+window.innerHeight>r?1:o}(t);o&&o.nodeId&&i>0&&o.index>=2&&(!r.userProgress||r.userProgress.nodeId!==o.nodeId||Math.floor(100*r.userProgress.percentage)!==Math.floor(100*i))&&s(r.id,i,o.nodeId)}}}}),300);(0,c.useEffect)((function(){var n=function(){l.current()};return window.addEventListener("scroll",n),n(),function(){window.removeEventListener("scroll",n),l.current.cancel()}}),[]);var k=o&&t&&!i.query.trialSignup&&null===t.progressConsent&&r&&r.meta&&r.meta.path!==I.Cg;return(0,u.jsx)(y,{value:{getMediaProgress:p,saveMediaProgress:C,restoreArticleProgress:function(n){n&&n.preventDefault();var e=r.userProgress,t=e.percentage,o=e.nodeId,i=j(),s=!!o&&i.find((function(n){return n.getAttribute("data-pos")===o}));if(s){var u=s.getBoundingClientRect().top,c=u-D()>0&&u<window.innerHeight;Z()&&c||(0,b.c)(window.pageYOffset+u-D()-(Z()?10:20),400)}else if(t){var d=t*a.current.getBoundingClientRect().height-D();(0,b.c)(d,400)}},showConsentPrompt:k},children:(0,u.jsx)("div",{ref:a,children:e})})};w.propTypes={children:d().node,me:d().shape({progressConsent:d().bool}),revokeConsent:d().func,submitConsent:d().func,isArticle:d().bool},w.defaultProps={isArticle:!0},e.Z=f()(m.C,x.YF,C.ZP,Z.withRouter)(w)},55647:function(n,e,t){t.d(e,{A9:function(){return a},Gc:function(){return d},uT:function(){return c}});var r=t(92228),o=t(57800),i=t(6810);function s(){var n=(0,r.Z)(["\n  query getCollectionItems(\n    $cursor: String\n    $collections: [String!]!\n    $progress: ProgressState\n    $lastDays: Int\n  ) {\n    me {\n      id\n      collectionItems(\n        names: $collections\n        first: 50\n        after: $cursor\n        progress: $progress\n        uniqueDocuments: true\n        lastDays: $lastDays\n      ) {\n        totalCount\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n        nodes {\n          id\n          createdAt\n          document {\n            ...FeedDocument\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return s=function(){return n},n}var u=[],c=function(){return u.map((function(n){return{query:d,variables:JSON.parse(n)}}))},a=function(n){var e=JSON.stringify(n);u.includes(e)||u.push(e)},d=(0,o.Ps)(s(),i.X)},22917:function(n,e,t){t.d(e,{C4:function(){return P},NA:function(){return I},UL:function(){return k},Wb:function(){return w},eK:function(){return Z},hp:function(){return D},iO:function(){return x},lR:function(){return j},yv:function(){return y}});var r=t(92228),o=t(57800),i=t(75174),s=t(55215);function u(){var n=(0,r.Z)(["\n  query discussionCommentsCount($discussionId: ID!) {\n    discussion(id: $discussionId) {\n      ...Discussion\n      comments(first: 0) {\n        totalCount\n      }\n    }\n  }\n  ","\n"]);return u=function(){return n},n}function c(){var n=(0,r.Z)(["\n  query discussionDisplayAuthor($discussionId: ID!) {\n    discussion(id: $discussionId) {\n      ...Discussion\n    }\n  }\n  ","\n"]);return c=function(){return n},n}function a(){var n=(0,r.Z)(["\n  query discussionFragment($discussionId: ID!) {\n    discussion(id: $discussionId) {\n      ...Discussion\n    }\n  }\n  ","\n"]);return a=function(){return n},n}function d(){var n=(0,r.Z)(["\n  mutation upvoteCommentMutation($commentId: ID!) {\n    upvoteComment(id: $commentId) {\n      ...Comment\n    }\n  }\n  ","\n"]);return d=function(){return n},n}function l(){var n=(0,r.Z)(["\n  mutation reportCommentMutation($commentId: ID!) {\n    reportComment(id: $commentId) {\n      ...Comment\n    }\n  }\n  ","\n"]);return l=function(){return n},n}function f(){var n=(0,r.Z)(["\n  mutation downvoteComment($commentId: ID!) {\n    downvoteComment(id: $commentId) {\n      ...Comment\n    }\n  }\n  ","\n"]);return f=function(){return n},n}function m(){var n=(0,r.Z)(["\n  mutation unvoteComment($commentId: ID!) {\n    unvoteComment(id: $commentId) {\n      ...Comment\n    }\n  }\n  ","\n"]);return m=function(){return n},n}function p(){var n=(0,r.Z)(["\n  mutation editComment($commentId: ID!, $content: String!, $tags: [String!]) {\n    editComment(id: $commentId, content: $content, tags: $tags) {\n      ...Comment\n    }\n  }\n  ","\n"]);return p=function(){return n},n}function h(){var n=(0,r.Z)(["\n  mutation unpublishComment($commentId: ID!) {\n    unpublishComment(id: $commentId) {\n      ...Comment\n    }\n  }\n  ","\n"]);return h=function(){return n},n}function g(){var n=(0,r.Z)(["\n  mutation updateNotificationSettings(\n    $defaultDiscussionNotificationOption: DiscussionNotificationOption\n    $discussionNotificationChannels: [DiscussionNotificationChannel!]\n  ) {\n    updateNotificationSettings(\n      defaultDiscussionNotificationOption: $defaultDiscussionNotificationOption\n      discussionNotificationChannels: $discussionNotificationChannels\n    ) {\n      id\n      discussionNotificationChannels\n      defaultDiscussionNotificationOption\n    }\n  }\n"]);return g=function(){return n},n}function v(){var n=(0,r.Z)(["\n  mutation setDiscussionPreferences(\n    $discussionId: ID!\n    $discussionPreferences: DiscussionPreferencesInput!\n  ) {\n    setDiscussionPreferences(\n      id: $discussionId\n      discussionPreferences: $discussionPreferences\n    ) {\n      ...Discussion\n    }\n  }\n  ","\n"]);return v=function(){return n},n}function b(){var n=(0,r.Z)(["\n  subscription {\n    webNotification {\n      title\n      body\n      icon\n      url\n      tag\n    }\n  }\n"]);return b=function(){return n},n}function C(){var n=(0,r.Z)(["\n  subscription discussionComments($discussionId: ID!) {\n    comment(discussionId: $discussionId) {\n      mutation\n      node {\n        ...Comment\n      }\n    }\n  }\n  ","\n"]);return C=function(){return n},n}(0,o.Ps)(u(),i.O),(0,o.Ps)(c(),i.O),(0,o.Ps)(a(),i.O);var I=(0,o.Ps)(d(),s.Z),x=(0,o.Ps)(l(),s.Z),P=(0,o.Ps)(f(),s.Z),Z=(0,o.Ps)(m(),s.Z),D=(0,o.Ps)(p(),s.Z),j=(0,o.Ps)(h(),s.Z),k=(0,o.Ps)(g()),y=(0,o.Ps)(v(),i.O),w=((0,o.Ps)(b()),(0,o.Ps)(C(),s.Z))},9252:function(n,e,t){t.d(e,{S:function(){return d}});var r=t(58332),o=t.n(r),i=t(91020),s=t(26313),u=t(22917),c=t(57956),a=t(36323),d=o()((0,i.B)(a.r,{name:"discussionPreferences"}),(0,i.B)(u.yv,{props:function(n){var e=n.ownProps.discussionId,t=n.mutate;return{setDiscussionPreferences:function(n,r,o){return t({variables:{discussionId:e,discussionPreferences:{anonymity:n,credential:r&&r.trim()?r:null,notifications:o}},update:function(n,t){var r=t.data.setDiscussionPreferences,o={discussionId:e},i=n.readQuery({query:a.r,variables:o});n.writeQuery({query:a.r,variables:o,data:(0,s.Z)(i,(function(n){n.discussion.userPreference=r.userPreference,n.discussion.displayAuthor=r.displayAuthor}))})}}).catch(c.C)}}}}))},55215:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(92228),o=t(57800),i=t(94389);function s(){var n=(0,r.Z)(["\n  fragment Comment on Comment {\n    id\n    text\n    content\n    published\n    adminUnpublished\n    featuredAt\n    featuredText\n    featuredTargets\n    downVotes\n    upVotes\n    userVote\n    userCanEdit\n    userCanReport\n    userReportedAt\n    numReports\n    displayAuthor {\n      id\n      name\n      slug\n      profilePicture\n      credential {\n        id\n        description\n        verified\n      }\n    }\n    unreadNotifications {\n      nodes {\n        ...notificationInfo\n      }\n    }\n    embed {\n      ... on LinkPreview {\n        url\n        title\n        description\n        imageUrl\n        imageAlt\n        siteName\n        siteImageUrl\n        updatedAt\n        __typename\n      }\n      ... on TwitterEmbed {\n        id\n        url\n        text\n        html\n        userName\n        userScreenName\n        userProfileImageUrl\n        image\n        createdAt\n        __typename\n      }\n    }\n    updatedAt\n    createdAt\n    parentIds\n    tags\n    mentioningDocument {\n      iconUrl\n      document {\n        id\n        meta {\n          path\n        }\n      }\n      fragmentId\n    }\n  }\n  ","\n"]);return s=function(){return n},n}var u=(0,o.Ps)(s(),i.Rk)},75174:function(n,e,t){t.d(e,{O:function(){return i}});var r=t(92228);function o(){var n=(0,r.Z)(["\n  fragment Discussion on Discussion {\n    id\n    title\n    document {\n      id\n      meta {\n        title\n        path\n        twitterImage\n        template\n        publishDate\n        ownDiscussion {\n          id\n          closed\n        }\n        linkedDiscussion {\n          id\n          path\n          closed\n        }\n      }\n    }\n    path\n    closed\n    isBoard\n    userPreference {\n      anonymity\n      credential {\n        id\n        description\n        verified\n      }\n      notifications\n    }\n    rules {\n      maxLength\n      minInterval\n      anonymity\n      disableTopLevelComments\n    }\n    userWaitUntil\n    userCanComment\n    displayAuthor {\n      id\n      name\n      slug\n      credential {\n        id\n        description\n        verified\n      }\n      profilePicture\n    }\n    collapsable\n    tagRequired\n    tags\n    tagBuckets {\n      value\n      count\n    }\n  }\n"]);return o=function(){return n},n}var i=(0,t(57800).Ps)(o())},36323:function(n,e,t){t.d(e,{B:function(){return a},r:function(){return c}});var r=t(92228),o=t(57800),i=t(75174),s=t(69359);function u(){var n=(0,r.Z)(["\n  query discussionPreferences($discussionId: ID!) {\n    me {\n      id\n      name\n      portrait\n      credentials {\n        id\n        description\n        verified\n        isListed\n      }\n      defaultDiscussionNotificationOption\n      discussionNotificationChannels\n    }\n    discussion(id: $discussionId) {\n      ...Discussion\n    }\n  }\n  ","\n"]);return u=function(){return n},n}var c=(0,o.Ps)(u(),i.O),a=(0,s.L)(c)},57956:function(n,e,t){t.d(e,{C:function(){return o}});var r=t(77069),o=function(n){return Promise.reject((0,r.V)(n))}},16459:function(n,e,t){t.d(e,{Cf:function(){return c},Es:function(){return s},FI:function(){return u}});var r=t(52322),o=t(37365),i=t(85313),s=["EMAIL",o.Vy&&"APP"].filter(Boolean),u=["MY_CHILDREN","ALL","NONE"],c=function(n){return[function(e){return!!e.match(/[^\\*\s:]\*[^*\s:]/)&&(0,r.jsx)(i.Label,{children:n("styleguide/CommentComposer/formatting/asterisk")})}]}},76903:function(n,e,t){t.d(e,{Z:function(){return P}});var r=t(70865),o=t(96670),i=t(52322),s=t(13980),u=t.n(s),c=t(54596),a=t(91277),d=t(65105),l=t(76597),f=(0,d.Z)((function(n){var e=n.t,t=n.subscriptions,r=n.setAnimate;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{children:e("SubscribeDocument/title")}),t.map((function(n){return(0,i.jsx)(a.Z,{subscription:n,setAnimate:r,callout:!0},n.id)}))]})})),m=(0,d.Z)((function(n){var e=n.t,t=n.subscriptions,r=n.setAnimate,o=n.showAuthorFilter,s=n.userHasNoDocuments,u=n.onlyCommentFilter;return(0,i.jsx)(i.Fragment,{children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{children:e("SubscribeMenu/title")}),t.map((function(n){return(0,i.jsx)(a.Z,{subscription:n,filterName:"Comment",setAnimate:r,callout:!0},n.id)}))]}):o?(0,i.jsx)(i.Fragment,{children:t.map((function(n){return(!s||n.active&&n.filters.includes("Document")?["Document","Comment"]:["Comment"]).map((function(e){return(0,i.jsx)(a.Z,{subscription:n,filterName:e,filterLabel:!0,setAnimate:r,callout:!0},"".concat(n.id,"-").concat(e))}))}))}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{children:e("SubscribeMenu/title")}),t.map((function(n){return(0,i.jsx)(a.Z,{subscription:n,filterName:"Document",setAnimate:r,callout:!0},n.id)}))]})})})),p=t(11978),h=t(85313),g=t(7932),v=t(39097),b=t.n(v),C={container:(0,p.css)({minWidth:180}),settings:(0,p.css)({margin:"10px 0 0"})},I=(0,d.Z)((function(n){var e=n.t;return(0,i.jsx)("p",(0,o.Z)((0,r.Z)({},C.settings),{children:(0,i.jsx)("small",{children:(0,i.jsx)(b(),{href:"/konto/benachrichtigungen",passHref:!0,children:(0,i.jsx)(h.A,{children:e("SubscribeCallout/settingsLink")})},"link")})}))})),x=function(n){var e=n.discussionId,t=n.formatSubscriptions,s=void 0===t?[]:t,u=n.authorSubscriptions,a=void 0===u?[]:u,d=n.showAuthorFilter,l=n.userHasNoDocuments,p=n.setAnimate,g=n.me,v=n.t,b=a.find((function(n){return n.object.id===(null===g||void 0===g?void 0:g.id)})),x=a.filter((function(n){return n!==b}));return(0,i.jsxs)("div",(0,o.Z)((0,r.Z)({},C.container),{children:[s.length>0&&(0,i.jsx)(f,{subscriptions:s,setAnimate:p}),x.length>0?(0,i.jsx)(m,{onlyCommentFilter:e,showAuthorFilter:d,userHasNoDocuments:l,subscriptions:x,setAnimate:p}):b&&(0,i.jsx)(h.Label,{children:v("SubscribeCallout/onlyYourself")}),e&&(0,i.jsx)(c.Z,{discussionId:e,setAnimate:p}),(0,i.jsx)(I,{})]}))};x.propTypes={formatSubscriptions:u().array,authorSubscriptions:u().array};var P=(0,g.ZP)((0,d.Z)(x))},76597:function(n,e,t){var r=t(70865),o=t(96670),i=t(52322),s=t(11978),u=t(85313),c={title:(0,s.css)((0,r.Z)({margin:"10px 0",":first-child":{marginTop:0}},u.fontStyles.sansSerifMedium16))};e.Z=function(n){var e=n.children;return(0,i.jsx)("h4",(0,o.Z)((0,r.Z)({},c.title),{children:e}))}},91277:function(n,e,t){var r=t(47842),o=t(70865),i=t(96670),s=t(52322),u=t(2784),c=t(85313),a=t(58332),d=t.n(a),l=t(94389),f=t(11978),m=t(65105),p={checkbox:(0,f.css)((0,r.Z)({display:"inline-block",marginBottom:8,width:"100%"},c.mediaQueries.mUp,{width:"50%"})),checkboxCallout:(0,f.css)({"& label":{fontSize:16,display:"flex",textAlign:"left",alignItems:"center"}}),checkboxLabelCallout:(0,f.css)({marginTop:-6})};e.Z=d()(m.Z,l.w7,l.GL,l.lK,l.A5)((function(n){var e=n.t,t=n.subToDoc,r=n.unsubFromDoc,a=n.subToUser,d=n.unsubFromUser,l=n.subscription,f=n.setAnimate,m=n.callout,h=n.filterName,g=n.filterLabel,v=(0,u.useState)(!1),b=v[0],C=v[1],I=(0,u.useState)(),x=I[0],P=I[1],Z=l.filters,D=l.active&&(!h||Z.includes(h)),j=l.active&&Z||[],k=l.object&&"Document"===l.object.__typename,y=function(){C(!1),f&&f(!0)};return(0,s.jsx)("div",(0,i.Z)((0,o.Z)({},m?p.checkboxCallout:p.checkbox),{children:(0,s.jsx)(c.Checkbox,{disabled:b,error:x,checked:D,onChange:function(){C(!0),k?l.active?r({subscriptionId:l.id}).then(y).catch((function(n){return P(n)})):t({documentId:l.object.id}).then(y).catch((function(n){return P(n)})):D?d({subscriptionId:l.id,filters:[h]}).then(y).catch((function(n){return P(n)})):a({userId:l.object.id,filters:-1===j.indexOf(h)?j.concat(h):j}).then(y).catch((function(n){return P(n)}))},children:(0,s.jsx)("span",(0,i.Z)((0,o.Z)({},m&&p.checkboxLabelCallout),{children:g?e("SubscribeCallout/".concat(h)):k?l.object.meta.title:l.object.name}))})}))}))},54596:function(n,e,t){t.d(e,{J:function(){return v}});var r=t(70865),o=t(96670),i=t(52322),s=t(2784),u=t(11978),c=t(65105),a=t(85313),d=t(58332),l=t.n(d),f=t(16459),m=t(9252),p=t(1457),h=t(76597),g={radio:(0,u.css)({"& label":{display:"flex",textAlign:"left",alignItems:"center",margin:"5px 0"},"& svg":{width:16,height:16}})},v=function(n){return n&&n.discussion&&n.discussion.userPreference&&n.discussion.userPreference.notifications||n&&n.me&&n.me.defaultDiscussionNotificationOption};e.Z=l()(c.Z,m.S)((function(n){var e=n.t,t=n.discussionPreferences,u=n.setDiscussionPreferences,c=n.setAnimate,d=(0,s.useState)(),l=d[0],m=d[1],b=(0,s.useState)(),C=b[0],I=b[1];if(!t||!t.me||!t.discussion||!u)return null;var x=f.FI.map((function(n){return{value:n,text:e("SubscribeDebate/option/".concat(n,"/label"))}})),P=v(t),Z=function(n){return function(e){e.stopPropagation(e),m(!0),u(void 0,void 0,n.value).then((function(){m(!1),I(),c&&c(!0)}),(function(n){m(!1),I(n)}))}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{children:e("SubscribeDebate/title",{debate:(0,a.inQuotes)(t.discussion.title)})}),(0,i.jsx)("div",(0,o.Z)((0,r.Z)({},g.radio),{children:x.map((function(n){return(0,i.jsx)("div",{children:(0,i.jsx)(a.Radio,{disabled:l,value:n.value,checked:P===n.value,onChange:Z(n),children:(0,i.jsx)("span",{children:n.text})})},n.value)}))})),C&&(0,i.jsx)(p.hW,{error:C})]})}))},26313:function(n,e,t){var r=t(76665);(0,r.pV)(),e.Z=r.ZP},6697:function(n,e,t){t.d(e,{Fv:function(){return p},WW:function(){return C},Y7:function(){return d},hc:function(){return u},i$:function(){return h},ic:function(){return s},p6:function(){return b},sG:function(){return v},xU:function(){return m}});var r=t(77958),o=t(30778),i=t(49854),s="\u2019",u=(0,r.Z)({decimal:",",thousands:s,grouping:[3],currency:["CHF\xa0",""],minus:"\u2212",percent:"\u2009%"}),c=u.format("$.0f"),a=u.format("$,.0f"),d=function(n){return String(Math.round(n)).length>4?a(n):c(n)},l=u.format(".0f"),f=u.format(",.0f"),m=function(n){return String(Math.round(n)).length>4?f(n):l(n)},p=(0,o.Z)(i),h=p.format,g="%d.%m.%Y",v=p.parse(g),b=p.format(g),C=function(n){return"... "+n.replace(/\.+$/,"")+"..."}},96561:function(n,e,t){t.d(e,{Ei:function(){return o},d6:function(){return i},iD:function(){return r}});var r=function(n,e){return 0===n.length?[]:n.slice(1).reduce((function(n,t,r){return n.concat([e(t,r),t])}),[n[0]])},o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return n[Math.floor(n.length*e)]},i=function(n,e,t){return t.indexOf(n)===e}},11408:function(n,e,t){t.d(e,{X:function(){return c},c:function(){return u}});var r,o=t(2432),i=t(51852),s=t(98876),u=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;r&&r.stop();var t=(0,s.Z)(window.pageYOffset,n);r=(0,i.HT)((function(n){var i=(0,o._e)(Math.min(n/e,1));window.scroll(0,Math.round(t(i))),i>=1&&r.stop()}))},c=function(n,e){var t=document.querySelector(n);if(e||(e="middle"),t){var r,o=t.getBoundingClientRect();r="middle"===e?window.pageYOffset+o.top-window.innerHeight/3:window.pageYOffset+o.top,window.scroll(0,r)}}}}]);