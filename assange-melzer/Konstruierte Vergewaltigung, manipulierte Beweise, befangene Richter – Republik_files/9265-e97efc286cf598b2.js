"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9265],{40980:function(n,e,r){r.d(e,{P:function(){return N},Ux:function(){return I},ck:function(){return S},kW:function(){return C},w6:function(){return w},yu:function(){return $}});var t=r(70865),s=r(96670),i=r(26297),o=r(87394),a=r(52322),c=r(2784),u=r(11978),l=r(5632),d=r(58332),m=r.n(d),b=r(7932),p=r(65105),f=r(6697),h=r(99614),x=r(37590),g=r(85313),Z={p:(0,u.css)((0,t.Z)({margin:0},g.fontStyles.sansSerifRegular18)),container:(0,u.css)({"&:not(:last-child)":(0,u.css)({marginBottom:24})})},y=g.Interaction.H3,j=(0,f.i$)("%H:%M"),v=(0,f.i$)("%d.\xa0%B\xa0%Y"),S=(0,p.Z)((function(n){var e=n.t,r=n.highlighted,i=n.title,c=n.createdAt,u=n.children,l=n.compact,d=(0,o.Z)((0,g.useColorContext)(),1)[0];return(0,a.jsxs)("div",(0,s.Z)((0,t.Z)({},Z.container,d.set("backgroundColor",r?"alert":"default")),{style:{marginBottom:l?0:void 0},children:[(0,a.jsx)(y,{children:i}),!l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Label,{children:e("account/item/label",{formattedDate:v(c),formattedTime:j(c)})}),(0,a.jsx)("br",{})]}),u]}))})),w=function(n){var e=n.children,r=n.onClick,i=(0,o.Z)((0,g.useColorContext)(),1)[0],l=(0,c.useMemo)((function(){return(0,u.css)(g.plainButtonRule,(0,s.Z)((0,t.Z)({},g.fontStyles.sansSerifRegular16),{color:i.getCSSColor("primary"),"@media (hover)":{":hover":{color:i.getCSSColor("primaryHover")}}}))}),[i]);return(0,a.jsx)("button",(0,s.Z)((0,t.Z)({},l),{onClick:r,children:e}))},N=function(n){var e=n.children,r=(0,i.Z)(n,["children"]);return(0,a.jsx)("p",(0,s.Z)((0,t.Z)({},r,Z.p,g.Interaction.fontRule),{children:e}))},C=function(n){var e=n.t,r=n.tKey,i=(0,o.Z)((0,g.useColorContext)(),1)[0];return(0,a.jsx)(g.Label,{style:{marginTop:-12,marginBottom:12,display:"block"},children:(0,a.jsx)("span",(0,s.Z)((0,t.Z)({},i.set("color","textSoft")),{children:e(r)}))})},I=function(n){var e=n.children,r=(0,o.Z)((0,g.useColorContext)(),1)[0];return(0,a.jsx)("div",(0,s.Z)((0,t.Z)({style:{padding:"8px 16px"}},r.set("backgroundColor","hover")),{children:(0,a.jsx)("p",(0,s.Z)((0,t.Z)({},Z.p),{children:e}))}))},$=m()(p.Z,b.ZP)((function(n){var e=n.t,r=n.me,t=n.children,s=(0,l.useRouter)().query;return r?t:(0,a.jsxs)(h.VY,{children:[(0,a.jsx)(g.Interaction.H1,{style:{marginBottom:22},children:e("account/signedOut/title")}),(0,a.jsx)(g.Interaction.P,{children:e("account/signedOut/signIn")}),(0,a.jsx)(x.Z,{email:s.email})]})}))},59265:function(n,e,r){r.d(e,{ZP:function(){return A}});var t,s=r(92228),i=r(52322),o=r(2784),a=r(58332),c=r.n(a),u=r(37856),l=r(8517),d=r(57800),m=r(85313),b=r(65105),p=r(1457),f=r(47059),h=r(40980),x=r(3135),g=r(20181),Z=r(47842),y=r(70865),j=r(96670),v=r(87394),S=r(11978),w={row:(0,S.css)((t={display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:24,paddingBottom:24,gap:24},(0,Z.Z)(t,m.mediaQueries.mUp,{flexDirection:"row",justifyContent:"space-between"}),(0,Z.Z)(t,":not(:last-child)",{borderBottomWidth:1,borderBottomStyle:"solid"}),t)),iconTextCol:(0,S.css)({display:"flex",alignItems:"flex-start",flex:1,gap:24}),description:(0,S.css)((0,j.Z)((0,y.Z)({},m.fontStyles.sansSerifRegular16),{margin:"4px 0 8px 0"})),frequency:(0,S.css)((0,y.Z)({},m.fontStyles.sansSerifMedium14)),spinnerWrapper:(0,S.css)({width:24,display:"inline-block",height:0,marginLeft:15,verticalAlign:"middle","& > span":{display:"inline"}}),checkbox:(0,S.css)((0,Z.Z)({},m.mediaQueries.mUp,{width:148,paddingTop:6}))},N=function(n){var e=n.onChange,r=n.subscribed,t=n.mutating,s=n.name,o=n.t,a=n.onlyName,c=n.status,u=(0,v.Z)((0,m.useColorContext)(),1)[0],l=(0,i.jsx)(m.Checkbox,{checked:r,disabled:t||"unsubscribed"===c,onChange:e,children:(0,i.jsxs)("span",{children:[o("account/newsletterSubscriptions/onlyName/".concat(r?"subscribed":"subscribe")),(0,i.jsx)("span",(0,j.Z)((0,y.Z)({},w.spinnerWrapper),{children:t&&(0,i.jsx)(m.InlineSpinner,{size:24})}))]})});return a?l:(0,i.jsxs)("div",(0,j.Z)((0,y.Z)({},w.row,u.set("borderColor","divider")),{children:[(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)(m.Interaction.H3,{children:o("account/newsletterSubscriptions/".concat(s,"/label"))}),(0,i.jsx)("p",(0,j.Z)((0,y.Z)({},w.description),{children:o("account/newsletterSubscriptions/".concat(s,"/description"))})),(0,i.jsx)("span",(0,j.Z)((0,y.Z)({},w.frequency,u.set("color","textSoft")),{children:o("account/newsletterSubscriptions/".concat(s,"/frequency"))}))]}),(0,i.jsx)("div",(0,j.Z)((0,y.Z)({},w.checkbox),{children:l}))]}))};function C(){var n=(0,s.Z)(["\n  mutation resubscribeEmail($userId: ID!) {\n    resubscribeEmail(userId: $userId) {\n      id\n      status\n      subscriptions {\n        ...NewsletterInfo\n      }\n    }\n  }\n  ","\n"]);return C=function(){return n},n}function I(){var n=(0,s.Z)(["\n  mutation updateNewsletterSubscription(\n    $name: NewsletterName!\n    $subscribed: Boolean!\n  ) {\n    updateNewsletterSubscription(name: $name, subscribed: $subscribed) {\n      ...NewsletterInfo\n    }\n  }\n  ","\n"]);return I=function(){return n},n}function $(){var n=(0,s.Z)(["\n  query myNewsletterSettings($onlyName: NewsletterName) {\n    me {\n      id\n      newsletterSettings {\n        id\n        status\n        subscriptions(name: $onlyName) {\n          ...NewsletterInfo\n        }\n      }\n    }\n  }\n  ","\n"]);return $=function(){return n},n}var P=(0,d.Ps)(C(),g.S7),k=(0,d.Ps)(I(),g.S7),B=(0,d.Ps)($(),g.S7),A=c()(b.Z,x.ge)((function(n){var e=n.t,r=n.isMember,t=n.free,s=n.onlyName;return(0,i.jsx)(u.A,{query:B,variables:{onlyName:s},children:function(n){var a=n.loading,c=n.error,u=n.data;if(a||c)return(0,i.jsx)(m.Loader,{loading:a,error:c});if(!u.me||!u.me.newsletterSettings)return(0,i.jsx)(f.Z,{style:{margin:"10px 0",padding:15},children:(0,i.jsx)(h.P,{children:e("account/newsletterSubscriptions/unauthorized")})});var d=u.me.newsletterSettings.status,b=u.me.newsletterSettings.subscriptions.filter(s?function(n){return n.name===s}:Boolean);return(0,i.jsxs)(o.Fragment,{children:["subscribed"!==d&&(0,i.jsx)(f.Z,{style:{margin:"10px 0",padding:15},children:(0,i.jsx)(l.m,{mutation:P,children:function(n,r){var t,s=r.loading,o=r.error,a=r.data;return(0,i.jsxs)(i.Fragment,{children:["pending"!==d&&(0,i.jsx)(h.P,{children:e("account/newsletterSubscriptions/unsubscribed")}),"pending"===(null===a||void 0===a||null===(t=a.resubscribeEmail)||void 0===t?void 0:t.status)&&(0,i.jsx)(h.P,{children:e("account/newsletterSubscriptions/resubscribed")}),"pending"===d&&!a&&(0,i.jsx)(h.P,{children:e("account/newsletterSubscriptions/resubscribeEmailPending")}),!a&&(0,i.jsxs)("div",{style:{marginTop:10},children:[o&&(0,i.jsx)(p.ZP,{error:o}),s&&(0,i.jsx)(m.InlineSpinner,{size:40}),!s&&(0,i.jsx)(m.Button,{primary:!0,onClick:function(){return n({variables:{userId:u.me.id}})},children:e("pending"!==d?"account/newsletterSubscriptions/resubscribe":"account/newsletterSubscriptions/resendResubscribeEmail")})]})]})}})}),!r&&!t&&(0,i.jsx)(f.Z,{style:{margin:"10px 0",padding:15},children:(0,i.jsx)(h.P,{children:e("account/newsletterSubscriptions/noMembership")})}),b.map((function(n){var r=n.name,t=n.subscribed;return(0,i.jsx)(l.m,{mutation:k,children:function(n,o){var a=o.loading,c=o.error;return(0,i.jsxs)(i.Fragment,{children:[!s||t||"subscribed"!==d||a?(0,i.jsx)(N,{subscribed:t,mutating:a,name:r,t:e,status:d,onlyName:s,onChange:function(e,t){n({variables:{name:r,subscribed:t}})}}):(0,i.jsx)(m.Button,{primary:!0,onClick:function(){n({variables:{name:r,subscribed:!0}})},children:e("account/newsletterSubscriptions/button/subscribe")}),c&&(0,i.jsx)(p.ZP,{error:c})]})}},r)}))]})}})}))},20181:function(n,e,r){r.d(e,{IO:function(){return b},S7:function(){return u},aS:function(){return l},do:function(){return p},sS:function(){return h},xW:function(){return f}});var t=r(92228),s=r(91020),i=r(57800);function o(){var n=(0,t.Z)(["\n  mutation updateMe(\n    $birthday: Date\n    $firstName: String\n    $lastName: String\n    $phoneNumber: String\n    $address: AddressInput\n  ) {\n    updateMe(\n      birthday: $birthday\n      firstName: $firstName\n      lastName: $lastName\n      phoneNumber: $phoneNumber\n      address: $address\n    ) {\n      id\n      birthday\n      name\n      firstName\n      lastName\n      ...PhoneAndAddressOnUser\n    }\n  }\n  ","\n"]);return o=function(){return n},n}function a(){var n=(0,t.Z)(["\n  mutation addUserToRole($role: String!) {\n    addUserToRole(role: $role) {\n      id\n      roles\n      newsletterSettings {\n        id\n        status\n        subscriptions {\n          ...NewsletterInfo\n        }\n      }\n    }\n  }\n  ","\n"]);return a=function(){return n},n}function c(){var n=(0,t.Z)(["\n  query myAddress {\n    me {\n      id\n      name\n      firstName\n      lastName\n      email\n      birthday\n      ...PhoneAndAddressOnUser\n    }\n  }\n  ","\n"]);return c=function(){return n},n}var u="\n  fragment NewsletterInfo on NewsletterSubscription {\n    id\n    name\n    subscribed\n  }\n",l="\n  fragment PhoneAndAddressOnUser on User {\n    id\n    phoneNumber\n    address {\n      name\n      line1\n      line2\n      postalCode\n      city\n      country\n    }\n  }\n",d=(0,i.Ps)(o(),l),m=(0,i.Ps)(a(),u),b=(0,i.Ps)(c(),l),p=(0,s.B)(b,{name:"detailsData"}),f=(0,s.B)(d,{props:function(n){var e=n.mutate;return{updateDetails:function(n){return e({variables:n})}}}}),h=(0,s.B)(m,{props:function(n){var e=n.mutate;return{addMeToRole:function(n){return e({variables:n})}}}})}}]);